{"version":3,"sources":["webpack:///./node_modules/moocfi-python-editor/dist/src/constants/skulptStdlibJsSource.js"],"names":["atob"],"mappings":"4FAAe,IAAAA,KAAA","file":"e80d7a2a-4211495c592e03315700.js","sourcesContent":["export default atob(\"U2suYnVpbHRpbkZpbGVzID0gewogIGZpbGVzOiB7CiAgICAic3JjL2J1aWx0aW4vc3lzLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBiLGE9TWF0aC5wb3csYz17fSxkPVtdLGU9U2suZ2V0U3lzQXJndigpO2ZvcihiPTA7YjxlLmxlbmd0aDsrK2IpZC5wdXNoKG5ldyBTay5idWlsdGluLnN0cihlW2JdKSk7cmV0dXJuIGMuYXJndj1uZXcgU2suYnVpbHRpbnMubGlzdChkKSxjLmNvcHlyaWdodD1Tay5idWlsdGluLnN0cigiQ29weXJpZ2h0IDIwMDktMjAxMCBTY290dCBHcmFoYW0uXFxuQWxsIFJpZ2h0cyBSZXNlcnZlZC5cXG4iKSxjLm1heGludD1uZXcgU2suYnVpbHRpbi5pbnRfKGEoMiw1MyktMSksYy5tYXhzaXplPW5ldyBTay5idWlsdGluLmludF8oYSgyLDUzKS0xKSxjLm1vZHVsZXM9U2suc3lzbW9kdWxlcyxjLnBhdGg9U2sucmVhbHN5c3BhdGgsYy5nZXRFeGVjdXRpb25MaW1pdD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1Tay5leGVjTGltaXQ/U2suYnVpbHRpbi5ub25lLm5vbmUkOm5ldyBTay5idWlsdGluLmludF8oU2suZXhlY0xpbWl0KX0pLGMuc2V0RXhlY3V0aW9uTGltaXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtpZihudWxsPT09U2suZXhlY0xpbWl0KXRocm93IG5ldyBTay5idWlsdGluLk5vdEltcGxlbWVudGVkRXJyb3IoIkV4ZWN1dGlvbiBsaW1pdGluZyBpcyBub3QgZW5hYmxlZCIpO3ZvaWQgMCE9PWEmJihTay5leGVjTGltaXQ9U2suYnVpbHRpbi5hc251bSQoYSkpfSksYy5yZXNldFRpbWVvdXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe1NrLmV4ZWNTdGFydD1uZXcgRGF0ZX0pLGMuZ2V0WWllbGRMaW1pdD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1Tay55aWVsZExpbWl0P1NrLmJ1aWx0aW4ubm9uZS5ub25lJDpuZXcgU2suYnVpbHRpbi5pbnRfKFNrLnlpZWxkTGltaXQpfSksYy5zZXRZaWVsZExpbWl0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7aWYobnVsbD09PVNrLnlpZWxkTGltaXQpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uTm90SW1wbGVtZW50ZWRFcnJvcigiWWllbGRpbmcgaXMgbm90IGVuYWJsZWQiKTt2b2lkIDAhPT1hJiYoU2sueWllbGRMaW1pdD1Tay5idWlsdGluLmFzbnVtJChhKSl9KSxjLmRlYnVnPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gU2suYnVpbHRpbi5ub25lLm5vbmUkfSksYy5fX3N0ZG91dF9fPW5ldyBTay5idWlsdGluLmZpbGUobmV3IFNrLmJ1aWx0aW4uc3RyKCIvZGV2L3N0ZG91dCIpLG5ldyBTay5idWlsdGluLnN0cigidyIpKSxjLl9fc3RkaW5fXz1uZXcgU2suYnVpbHRpbi5maWxlKG5ldyBTay5idWlsdGluLnN0cigiL2Rldi9zdGRpbiIpLG5ldyBTay5idWlsdGluLnN0cigiciIpKSxjLnN0ZG91dD1jLl9fc3Rkb3V0X18sYy5zdGRpbj1jLl9fc3RkaW5fXyxjfTsnLAogICAgInNyYy9idWlsdGluL3RoaXMucHkiOgogICAgICAncyA9ICIiIkd1ciBNcmEgYnMgQ2xndWJhLCBvbCBHdnogQ3JncmVmXG5cbk9ybmhndnNoeSB2ZiBvcmdncmUgZ3VuYSBodHlsLlxuUmtjeXZwdmcgdmYgb3JnZ3JlIGd1bmEgdnpjeXZwdmcuXG5GdnpjeXIgdmYgb3JnZ3JlIGd1bmEgcGJ6Y3lyay5cblBiemN5cmsgdmYgb3JnZ3JlIGd1bmEgcGJ6Y3l2cG5ncnEuXG5TeW5nIHZmIG9yZ2dyZSBndW5hIGFyZmdycS5cbkZjbmVmciB2ZiBvcmdncmUgZ3VuYSBxcmFmci5cbkVybnFub3Z5dmdsIHBiaGFnZi5cbkZjcnB2bnkgcG5mcmYgbmVyYVwnZyBmY3Jwdm55IHJhYmh0dSBnYiBvZXJueCBndXIgZWh5cmYuXG5OeWd1Ymh0dSBjZW5wZ3Zwbnl2Z2wgb3JuZ2YgY2hldmdsLlxuUmVlYmVmIGZ1Ymh5cSBhcmlyZSBjbmZmIGZ2eXJhZ3lsLlxuSGF5cmZmIHJrY3l2cHZneWwgZnZ5cmFwcnEuXG5WYSBndXIgc25wciBicyBuem92dGh2Z2wsIGVyc2hmciBndXIgZ3J6Y2duZ3ZiYSBnYiB0aHJmZi5cbkd1cmVyIGZ1Ymh5cSBvciBiYXItLSBuYXEgY2Vyc3Jlbm95bCBiYXlsIGJhciAtLWJvaXZiaGYgam5sIGdiIHFiIHZnLlxuTnlndWJodHUgZ3VuZyBqbmwgem5sIGFiZyBvciBib2l2YmhmIG5nIHN2ZWZnIGhheXJmZiBsYmhcJ2VyIFFoZ3B1LlxuQWJqIHZmIG9yZ2dyZSBndW5hIGFyaXJlLlxuTnlndWJodHUgYXJpcmUgdmYgYnNncmEgb3JnZ3JlIGd1bmEgKmV2dHVnKiBhYmouXG5WcyBndXIgdnpjeXJ6cmFnbmd2YmEgdmYgdW5lcSBnYiBya2N5bnZhLCB2Z1wnZiBuIG9ucSB2cXJuLlxuVnMgZ3VyIHZ6Y3lyenJhZ25ndmJhIHZmIHJuZmwgZ2IgcmtjeW52YSwgdmcgem5sIG9yIG4gdGJicSB2cXJuLlxuQW56cmZjbnByZiBuZXIgYmFyIHViYXh2YXQgdGVybmcgdnFybiAtLSB5cmdcJ2YgcWIgemJlciBicyBndWJmciEiIiJcblxuZCA9IHt9XG5mb3IgYyBpbiAoNjUsIDk3KTpcbiAgICBmb3IgaSBpbiByYW5nZSgyNik6XG4gICAgICAgIGRbY2hyKGkrYyldID0gY2hyKChpKzEzKSAlIDI2ICsgYylcblxucHJpbnQgIiIuam9pbihbZC5nZXQoYywgYykgZm9yIGMgaW4gc10pXG4nLAogICAgInNyYy9saWIvQmFzZUhUVFBTZXJ2ZXIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiQmFzZUhUVFBTZXJ2ZXIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL0Jhc3Rpb24ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiQmFzdGlvbiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvQ0dJSFRUUFNlcnZlci5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJDR0lIVFRQU2VydmVyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9Db25maWdQYXJzZXIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiQ29uZmlnUGFyc2VyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9Db29raWUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiQ29va2llIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9Eb2NYTUxSUENTZXJ2ZXIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiRG9jWE1MUlBDU2VydmVyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9IVE1MUGFyc2VyLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIkhUTUxQYXJzZXIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL01pbWVXcml0ZXIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiTWltZVdyaXRlciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvUXVldWUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiUXVldWUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL1NpbXBsZUhUVFBTZXJ2ZXIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiU2ltcGxlSFRUUFNlcnZlciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvU2ltcGxlWE1MUlBDU2VydmVyLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIlNpbXBsZVhNTFJQQ1NlcnZlciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvU29ja2V0U2VydmVyLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIlNvY2tldFNlcnZlciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvU3RyaW5nSU8ucHkiOgogICAgICAnciIiIkZpbGUtbGlrZSBvYmplY3RzIHRoYXQgcmVhZCBmcm9tIG9yIHdyaXRlIHRvIGEgc3RyaW5nIGJ1ZmZlci5cblxuVGhpcyBpbXBsZW1lbnRzIChuZWFybHkpIGFsbCBzdGRpbyBtZXRob2RzLlxuXG5mID0gU3RyaW5nSU8oKSAgICAgICMgcmVhZHkgZm9yIHdyaXRpbmdcbmYgPSBTdHJpbmdJTyhidWYpICAgIyByZWFkeSBmb3IgcmVhZGluZ1xuZi5jbG9zZSgpICAgICAgICAgICAjIGV4cGxpY2l0bHkgcmVsZWFzZSByZXNvdXJjZXMgaGVsZFxuZmxhZyA9IGYuaXNhdHR5KCkgICAjIGFsd2F5cyBmYWxzZVxucG9zID0gZi50ZWxsKCkgICAgICAjIGdldCBjdXJyZW50IHBvc2l0aW9uXG5mLnNlZWsocG9zKSAgICAgICAgICMgc2V0IGN1cnJlbnQgcG9zaXRpb25cbmYuc2Vlayhwb3MsIG1vZGUpICAgIyBtb2RlIDA6IGFic29sdXRlOyAxOiByZWxhdGl2ZTsgMjogcmVsYXRpdmUgdG8gRU9GXG5idWYgPSBmLnJlYWQoKSAgICAgICMgcmVhZCB1bnRpbCBFT0ZcbmJ1ZiA9IGYucmVhZChuKSAgICAgIyByZWFkIHVwIHRvIG4gYnl0ZXNcbmJ1ZiA9IGYucmVhZGxpbmUoKSAgIyByZWFkIHVudGlsIGVuZCBvZiBsaW5lIChcJ1xcblwnKSBvciBFT0Zcbmxpc3QgPSBmLnJlYWRsaW5lcygpIyBsaXN0IG9mIGYucmVhZGxpbmUoKSByZXN1bHRzIHVudGlsIEVPRlxuZi50cnVuY2F0ZShbc2l6ZV0pICAjIHRydW5jYXRlIGZpbGUgYXQgdG8gYXQgbW9zdCBzaXplIChkZWZhdWx0OiBjdXJyZW50IHBvcylcbmYud3JpdGUoYnVmKSAgICAgICAgIyB3cml0ZSBhdCBjdXJyZW50IHBvc2l0aW9uXG5mLndyaXRlbGluZXMobGlzdCkgICMgZm9yIGxpbmUgaW4gbGlzdDogZi53cml0ZShsaW5lKVxuZi5nZXR2YWx1ZSgpICAgICAgICAjIHJldHVybiB3aG9sZSBmaWxlXCdzIGNvbnRlbnRzIGFzIGEgc3RyaW5nXG5cbk5vdGVzOlxuLSBVc2luZyBhIHJlYWwgZmlsZSBpcyBvZnRlbiBmYXN0ZXIgKGJ1dCBsZXNzIGNvbnZlbmllbnQpLlxuLSBUaGVyZVwncyBhbHNvIGEgbXVjaCBmYXN0ZXIgaW1wbGVtZW50YXRpb24gaW4gQywgY2FsbGVkIGNTdHJpbmdJTywgYnV0XG4gIGl0XCdzIG5vdCBzdWJjbGFzc2FibGUuXG4tIGZpbGVubygpIGlzIGxlZnQgdW5pbXBsZW1lbnRlZCBzbyB0aGF0IGNvZGUgd2hpY2ggdXNlcyBpdCB0cmlnZ2Vyc1xuICBhbiBleGNlcHRpb24gZWFybHkuXG4tIFNlZWtpbmcgZmFyIGJleW9uZCBFT0YgYW5kIHRoZW4gd3JpdGluZyB3aWxsIGluc2VydCByZWFsIG51bGxcbiAgYnl0ZXMgdGhhdCBvY2N1cHkgc3BhY2UgaW4gdGhlIGJ1ZmZlci5cbi0gVGhlcmVcJ3MgYSBzaW1wbGUgdGVzdCBzZXQgKHNlZSBlbmQgb2YgdGhpcyBmaWxlKS5cbiIiIlxuXG5fX2FsbF9fID0gWyJTdHJpbmdJTyJdXG5cbmRlZiBfY29tcGxhaW5faWZjbG9zZWQoY2xvc2VkKTpcbiAgICBpZiBjbG9zZWQ6XG4gICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkkvTyBvcGVyYXRpb24gb24gY2xvc2VkIGZpbGUiKVxuXG5jbGFzcyBTdHJpbmdJTzpcbiAgICAiIiJjbGFzcyBTdHJpbmdJTyhbYnVmZmVyXSlcblxuICAgIFdoZW4gYSBTdHJpbmdJTyBvYmplY3QgaXMgY3JlYXRlZCwgaXQgY2FuIGJlIGluaXRpYWxpemVkIHRvIGFuIGV4aXN0aW5nXG4gICAgc3RyaW5nIGJ5IHBhc3NpbmcgdGhlIHN0cmluZyB0byB0aGUgY29uc3RydWN0b3IuIElmIG5vIHN0cmluZyBpcyBnaXZlbixcbiAgICB0aGUgU3RyaW5nSU8gd2lsbCBzdGFydCBlbXB0eS5cblxuICAgIFRoZSBTdHJpbmdJTyBvYmplY3QgY2FuIGFjY2VwdCBlaXRoZXIgVW5pY29kZSBvciA4LWJpdCBzdHJpbmdzLCBidXRcbiAgICBtaXhpbmcgdGhlIHR3byBtYXkgdGFrZSBzb21lIGNhcmUuIElmIGJvdGggYXJlIHVzZWQsIDgtYml0IHN0cmluZ3MgdGhhdFxuICAgIGNhbm5vdCBiZSBpbnRlcnByZXRlZCBhcyA3LWJpdCBBU0NJSSAodGhhdCB1c2UgdGhlIDh0aCBiaXQpIHdpbGwgY2F1c2VcbiAgICBhIFVuaWNvZGVFcnJvciB0byBiZSByYWlzZWQgd2hlbiBnZXR2YWx1ZSgpIGlzIGNhbGxlZC5cbiAgICAiIiJcbiAgICBkZWYgX19pbml0X18oc2VsZiwgYnVmID0gXCdcJyk6XG4gICAgICAgICMgRm9yY2Ugc2VsZi5idWYgdG8gYmUgYSBzdHJpbmcgb3IgdW5pY29kZVxuICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShidWYsIHN0cik6XG4gICAgICAgICAgICBidWYgPSBzdHIoYnVmKVxuICAgICAgICBzZWxmLmJ1ZiA9IGJ1ZlxuICAgICAgICBzZWxmLmxlbiA9IGxlbihidWYpXG4gICAgICAgIHNlbGYuYnVmbGlzdCA9IFtdXG4gICAgICAgIHNlbGYucG9zID0gMFxuICAgICAgICBzZWxmLmNsb3NlZCA9IEZhbHNlXG4gICAgICAgIHNlbGYuc29mdHNwYWNlID0gMFxuXG4gICAgZGVmIF9faXRlcl9fKHNlbGYpOlxuICAgICAgICByZXR1cm4gc2VsZlxuXG4gICAgZGVmIG5leHQoc2VsZik6XG4gICAgICAgICIiIkEgZmlsZSBvYmplY3QgaXMgaXRzIG93biBpdGVyYXRvciwgZm9yIGV4YW1wbGUgaXRlcihmKSByZXR1cm5zIGZcbiAgICAgICAgKHVubGVzcyBmIGlzIGNsb3NlZCkuIFdoZW4gYSBmaWxlIGlzIHVzZWQgYXMgYW4gaXRlcmF0b3IsIHR5cGljYWxseVxuICAgICAgICBpbiBhIGZvciBsb29wIChmb3IgZXhhbXBsZSwgZm9yIGxpbmUgaW4gZjogcHJpbnQgbGluZSksIHRoZSBuZXh0KClcbiAgICAgICAgbWV0aG9kIGlzIGNhbGxlZCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBuZXh0IGlucHV0IGxpbmUsXG4gICAgICAgIG9yIHJhaXNlcyBTdG9wSXRlcmF0aW9uIHdoZW4gRU9GIGlzIGhpdC5cbiAgICAgICAgIiIiXG4gICAgICAgIF9jb21wbGFpbl9pZmNsb3NlZChzZWxmLmNsb3NlZClcbiAgICAgICAgciA9IHNlbGYucmVhZGxpbmUoKVxuICAgICAgICBpZiBub3QgcjpcbiAgICAgICAgICAgIHJhaXNlIFN0b3BJdGVyYXRpb25cbiAgICAgICAgcmV0dXJuIHJcblxuICAgIGRlZiBjbG9zZShzZWxmKTpcbiAgICAgICAgIiIiRnJlZSB0aGUgbWVtb3J5IGJ1ZmZlci5cbiAgICAgICAgIiIiXG4gICAgICAgIGlmIG5vdCBzZWxmLmNsb3NlZDpcbiAgICAgICAgICAgIHNlbGYuY2xvc2VkID0gVHJ1ZVxuICAgICAgICAgICAgc2VsZi5idWYgPSBOb25lXG4gICAgICAgICAgICBzZWxmLnBvcyA9IE5vbmVcblxuICAgIGRlZiBpc2F0dHkoc2VsZik6XG4gICAgICAgICIiIlJldHVybnMgRmFsc2UgYmVjYXVzZSBTdHJpbmdJTyBvYmplY3RzIGFyZSBub3QgY29ubmVjdGVkIHRvIGFcbiAgICAgICAgdHR5LWxpa2UgZGV2aWNlLlxuICAgICAgICAiIiJcbiAgICAgICAgX2NvbXBsYWluX2lmY2xvc2VkKHNlbGYuY2xvc2VkKVxuICAgICAgICByZXR1cm4gRmFsc2VcblxuICAgIGRlZiBzZWVrKHNlbGYsIHBvcywgbW9kZSA9IDApOlxuICAgICAgICAiIiJTZXQgdGhlIGZpbGVcJ3MgY3VycmVudCBwb3NpdGlvbi5cblxuICAgICAgICBUaGUgbW9kZSBhcmd1bWVudCBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gMCAoYWJzb2x1dGUgZmlsZVxuICAgICAgICBwb3NpdGlvbmluZyk7IG90aGVyIHZhbHVlcyBhcmUgMSAoc2VlayByZWxhdGl2ZSB0byB0aGUgY3VycmVudFxuICAgICAgICBwb3NpdGlvbikgYW5kIDIgKHNlZWsgcmVsYXRpdmUgdG8gdGhlIGZpbGVcJ3MgZW5kKS5cblxuICAgICAgICBUaGVyZSBpcyBubyByZXR1cm4gdmFsdWUuXG4gICAgICAgICIiIlxuICAgICAgICBfY29tcGxhaW5faWZjbG9zZWQoc2VsZi5jbG9zZWQpXG4gICAgICAgIGlmIHNlbGYuYnVmbGlzdDpcbiAgICAgICAgICAgIHNlbGYuYnVmICs9IFwnXCcuam9pbihzZWxmLmJ1Zmxpc3QpXG4gICAgICAgICAgICBzZWxmLmJ1Zmxpc3QgPSBbXVxuICAgICAgICBpZiBtb2RlID09IDE6XG4gICAgICAgICAgICBwb3MgKz0gc2VsZi5wb3NcbiAgICAgICAgZWxpZiBtb2RlID09IDI6XG4gICAgICAgICAgICBwb3MgKz0gc2VsZi5sZW5cbiAgICAgICAgc2VsZi5wb3MgPSBtYXgoMCwgcG9zKVxuXG4gICAgZGVmIHRlbGwoc2VsZik6XG4gICAgICAgICIiIlJldHVybiB0aGUgZmlsZVwncyBjdXJyZW50IHBvc2l0aW9uLiIiIlxuICAgICAgICBfY29tcGxhaW5faWZjbG9zZWQoc2VsZi5jbG9zZWQpXG4gICAgICAgIHJldHVybiBzZWxmLnBvc1xuXG4gICAgZGVmIHJlYWQoc2VsZiwgbiA9IC0xKTpcbiAgICAgICAgIiIiUmVhZCBhdCBtb3N0IHNpemUgYnl0ZXMgZnJvbSB0aGUgZmlsZVxuICAgICAgICAobGVzcyBpZiB0aGUgcmVhZCBoaXRzIEVPRiBiZWZvcmUgb2J0YWluaW5nIHNpemUgYnl0ZXMpLlxuXG4gICAgICAgIElmIHRoZSBzaXplIGFyZ3VtZW50IGlzIG5lZ2F0aXZlIG9yIG9taXR0ZWQsIHJlYWQgYWxsIGRhdGEgdW50aWwgRU9GXG4gICAgICAgIGlzIHJlYWNoZWQuIFRoZSBieXRlcyBhcmUgcmV0dXJuZWQgYXMgYSBzdHJpbmcgb2JqZWN0LiBBbiBlbXB0eVxuICAgICAgICBzdHJpbmcgaXMgcmV0dXJuZWQgd2hlbiBFT0YgaXMgZW5jb3VudGVyZWQgaW1tZWRpYXRlbHkuXG4gICAgICAgICIiIlxuICAgICAgICBfY29tcGxhaW5faWZjbG9zZWQoc2VsZi5jbG9zZWQpXG4gICAgICAgIGlmIHNlbGYuYnVmbGlzdDpcbiAgICAgICAgICAgIHNlbGYuYnVmICs9IFwnXCcuam9pbihzZWxmLmJ1Zmxpc3QpXG4gICAgICAgICAgICBzZWxmLmJ1Zmxpc3QgPSBbXVxuICAgICAgICBpZiBuIGlzIE5vbmUgb3IgbiA8IDA6XG4gICAgICAgICAgICBuZXdwb3MgPSBzZWxmLmxlblxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgbmV3cG9zID0gbWluKHNlbGYucG9zK24sIHNlbGYubGVuKVxuICAgICAgICByID0gc2VsZi5idWZbc2VsZi5wb3M6bmV3cG9zXVxuICAgICAgICBzZWxmLnBvcyA9IG5ld3Bvc1xuICAgICAgICByZXR1cm4gclxuXG4gICAgZGVmIHJlYWRsaW5lKHNlbGYsIGxlbmd0aD1Ob25lKTpcbiAgICAgICAgciIiIlJlYWQgb25lIGVudGlyZSBsaW5lIGZyb20gdGhlIGZpbGUuXG5cbiAgICAgICAgQSB0cmFpbGluZyBuZXdsaW5lIGNoYXJhY3RlciBpcyBrZXB0IGluIHRoZSBzdHJpbmcgKGJ1dCBtYXkgYmUgYWJzZW50XG4gICAgICAgIHdoZW4gYSBmaWxlIGVuZHMgd2l0aCBhbiBpbmNvbXBsZXRlIGxpbmUpLiBJZiB0aGUgc2l6ZSBhcmd1bWVudCBpc1xuICAgICAgICBwcmVzZW50IGFuZCBub24tbmVnYXRpdmUsIGl0IGlzIGEgbWF4aW11bSBieXRlIGNvdW50IChpbmNsdWRpbmcgdGhlXG4gICAgICAgIHRyYWlsaW5nIG5ld2xpbmUpIGFuZCBhbiBpbmNvbXBsZXRlIGxpbmUgbWF5IGJlIHJldHVybmVkLlxuXG4gICAgICAgIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBvbmx5IHdoZW4gRU9GIGlzIGVuY291bnRlcmVkIGltbWVkaWF0ZWx5LlxuXG4gICAgICAgIE5vdGU6IFVubGlrZSBzdGRpb1wncyBmZ2V0cygpLCB0aGUgcmV0dXJuZWQgc3RyaW5nIGNvbnRhaW5zIG51bGxcbiAgICAgICAgY2hhcmFjdGVycyAoXCdcXDBcJykgaWYgdGhleSBvY2N1cnJlZCBpbiB0aGUgaW5wdXQuXG4gICAgICAgICIiIlxuICAgICAgICBfY29tcGxhaW5faWZjbG9zZWQoc2VsZi5jbG9zZWQpXG4gICAgICAgIGlmIHNlbGYuYnVmbGlzdDpcbiAgICAgICAgICAgIHNlbGYuYnVmICs9IFwnXCcuam9pbihzZWxmLmJ1Zmxpc3QpXG4gICAgICAgICAgICBzZWxmLmJ1Zmxpc3QgPSBbXVxuICAgICAgICBpID0gc2VsZi5idWYuZmluZChcJ1xcblwnLCBzZWxmLnBvcylcbiAgICAgICAgaWYgaSA8IDA6XG4gICAgICAgICAgICBuZXdwb3MgPSBzZWxmLmxlblxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgbmV3cG9zID0gaSsxXG4gICAgICAgIGlmIGxlbmd0aCBpcyBub3QgTm9uZSBhbmQgbGVuZ3RoID49IDA6XG4gICAgICAgICAgICBpZiBzZWxmLnBvcyArIGxlbmd0aCA8IG5ld3BvczpcbiAgICAgICAgICAgICAgICBuZXdwb3MgPSBzZWxmLnBvcyArIGxlbmd0aFxuICAgICAgICByID0gc2VsZi5idWZbc2VsZi5wb3M6bmV3cG9zXVxuICAgICAgICBzZWxmLnBvcyA9IG5ld3Bvc1xuICAgICAgICByZXR1cm4gclxuXG4gICAgZGVmIHJlYWRsaW5lcyhzZWxmLCBzaXplaGludCA9IDApOlxuICAgICAgICAiIiJSZWFkIHVudGlsIEVPRiB1c2luZyByZWFkbGluZSgpIGFuZCByZXR1cm4gYSBsaXN0IGNvbnRhaW5pbmcgdGhlXG4gICAgICAgIGxpbmVzIHRodXMgcmVhZC5cblxuICAgICAgICBJZiB0aGUgb3B0aW9uYWwgc2l6ZWhpbnQgYXJndW1lbnQgaXMgcHJlc2VudCwgaW5zdGVhZCBvZiByZWFkaW5nIHVwXG4gICAgICAgIHRvIEVPRiwgd2hvbGUgbGluZXMgdG90YWxsaW5nIGFwcHJveGltYXRlbHkgc2l6ZWhpbnQgYnl0ZXMgKG9yIG1vcmVcbiAgICAgICAgdG8gYWNjb21tb2RhdGUgYSBmaW5hbCB3aG9sZSBsaW5lKS5cbiAgICAgICAgIiIiXG4gICAgICAgIHRvdGFsID0gMFxuICAgICAgICBsaW5lcyA9IFtdXG4gICAgICAgIGxpbmUgPSBzZWxmLnJlYWRsaW5lKClcbiAgICAgICAgd2hpbGUgbGluZTpcbiAgICAgICAgICAgIGxpbmVzLmFwcGVuZChsaW5lKVxuICAgICAgICAgICAgdG90YWwgKz0gbGVuKGxpbmUpXG4gICAgICAgICAgICBpZiAwIDwgc2l6ZWhpbnQgPD0gdG90YWw6XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGxpbmUgPSBzZWxmLnJlYWRsaW5lKClcbiAgICAgICAgcmV0dXJuIGxpbmVzXG5cbiAgICBkZWYgdHJ1bmNhdGUoc2VsZiwgc2l6ZT1Ob25lKTpcbiAgICAgICAgIiIiVHJ1bmNhdGUgdGhlIGZpbGVcJ3Mgc2l6ZS5cblxuICAgICAgICBJZiB0aGUgb3B0aW9uYWwgc2l6ZSBhcmd1bWVudCBpcyBwcmVzZW50LCB0aGUgZmlsZSBpcyB0cnVuY2F0ZWQgdG9cbiAgICAgICAgKGF0IG1vc3QpIHRoYXQgc2l6ZS4gVGhlIHNpemUgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICAgIFRoZSBjdXJyZW50IGZpbGUgcG9zaXRpb24gaXMgbm90IGNoYW5nZWQgdW5sZXNzIHRoZSBwb3NpdGlvblxuICAgICAgICBpcyBiZXlvbmQgdGhlIG5ldyBmaWxlIHNpemUuXG5cbiAgICAgICAgSWYgdGhlIHNwZWNpZmllZCBzaXplIGV4Y2VlZHMgdGhlIGZpbGVcJ3MgY3VycmVudCBzaXplLCB0aGVcbiAgICAgICAgZmlsZSByZW1haW5zIHVuY2hhbmdlZC5cbiAgICAgICAgIiIiXG4gICAgICAgIF9jb21wbGFpbl9pZmNsb3NlZChzZWxmLmNsb3NlZClcbiAgICAgICAgaWYgc2l6ZSBpcyBOb25lOlxuICAgICAgICAgICAgc2l6ZSA9IHNlbGYucG9zXG4gICAgICAgIGVsaWYgc2l6ZSA8IDA6XG4gICAgICAgICAgICByYWlzZSBJT0Vycm9yKDIyLCAiTmVnYXRpdmUgc2l6ZSBub3QgYWxsb3dlZCIpXG4gICAgICAgIGVsaWYgc2l6ZSA8IHNlbGYucG9zOlxuICAgICAgICAgICAgc2VsZi5wb3MgPSBzaXplXG4gICAgICAgIHNlbGYuYnVmID0gc2VsZi5nZXR2YWx1ZSgpWzpzaXplXVxuICAgICAgICBzZWxmLmxlbiA9IHNpemVcblxuICAgIGRlZiB3cml0ZShzZWxmLCBzKTpcbiAgICAgICAgIiIiV3JpdGUgYSBzdHJpbmcgdG8gdGhlIGZpbGUuXG5cbiAgICAgICAgVGhlcmUgaXMgbm8gcmV0dXJuIHZhbHVlLlxuICAgICAgICAiIiJcbiAgICAgICAgX2NvbXBsYWluX2lmY2xvc2VkKHNlbGYuY2xvc2VkKVxuICAgICAgICBpZiBub3QgczogcmV0dXJuXG4gICAgICAgICMgRm9yY2UgcyB0byBiZSBhIHN0cmluZyBvciB1bmljb2RlXG4gICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKHMsIHN0cik6XG4gICAgICAgICAgICBzID0gc3RyKHMpXG4gICAgICAgIHNwb3MgPSBzZWxmLnBvc1xuICAgICAgICBzbGVuID0gc2VsZi5sZW5cbiAgICAgICAgaWYgc3BvcyA9PSBzbGVuOlxuICAgICAgICAgICAgc2VsZi5idWZsaXN0LmFwcGVuZChzKVxuICAgICAgICAgICAgc2VsZi5sZW4gPSBzZWxmLnBvcyA9IHNwb3MgKyBsZW4ocylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICBpZiBzcG9zID4gc2xlbjpcbiAgICAgICAgICAgIHNlbGYuYnVmbGlzdC5hcHBlbmQoXCdcXDBcJyooc3BvcyAtIHNsZW4pKVxuICAgICAgICAgICAgc2xlbiA9IHNwb3NcbiAgICAgICAgbmV3cG9zID0gc3BvcyArIGxlbihzKVxuICAgICAgICBpZiBzcG9zIDwgc2xlbjpcbiAgICAgICAgICAgIGlmIHNlbGYuYnVmbGlzdDpcbiAgICAgICAgICAgICAgICBzZWxmLmJ1ZiArPSBcJ1wnLmpvaW4oc2VsZi5idWZsaXN0KVxuICAgICAgICAgICAgc2VsZi5idWZsaXN0ID0gW3NlbGYuYnVmWzpzcG9zXSwgcywgc2VsZi5idWZbbmV3cG9zOl1dXG4gICAgICAgICAgICBzZWxmLmJ1ZiA9IFwnXCdcbiAgICAgICAgICAgIGlmIG5ld3BvcyA+IHNsZW46XG4gICAgICAgICAgICAgICAgc2xlbiA9IG5ld3Bvc1xuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgc2VsZi5idWZsaXN0LmFwcGVuZChzKVxuICAgICAgICAgICAgc2xlbiA9IG5ld3Bvc1xuICAgICAgICBzZWxmLmxlbiA9IHNsZW5cbiAgICAgICAgc2VsZi5wb3MgPSBuZXdwb3NcblxuICAgIGRlZiB3cml0ZWxpbmVzKHNlbGYsIGl0ZXJhYmxlKTpcbiAgICAgICAgIiIiV3JpdGUgYSBzZXF1ZW5jZSBvZiBzdHJpbmdzIHRvIHRoZSBmaWxlLiBUaGUgc2VxdWVuY2UgY2FuIGJlIGFueVxuICAgICAgICBpdGVyYWJsZSBvYmplY3QgcHJvZHVjaW5nIHN0cmluZ3MsIHR5cGljYWxseSBhIGxpc3Qgb2Ygc3RyaW5ncy4gVGhlcmVcbiAgICAgICAgaXMgbm8gcmV0dXJuIHZhbHVlLlxuXG4gICAgICAgIChUaGUgbmFtZSBpcyBpbnRlbmRlZCB0byBtYXRjaCByZWFkbGluZXMoKTsgd3JpdGVsaW5lcygpIGRvZXMgbm90IGFkZFxuICAgICAgICBsaW5lIHNlcGFyYXRvcnMuKVxuICAgICAgICAiIiJcbiAgICAgICAgd3JpdGUgPSBzZWxmLndyaXRlXG4gICAgICAgIGZvciBsaW5lIGluIGl0ZXJhYmxlOlxuICAgICAgICAgICAgd3JpdGUobGluZSlcblxuICAgIGRlZiBmbHVzaChzZWxmKTpcbiAgICAgICAgIiIiRmx1c2ggdGhlIGludGVybmFsIGJ1ZmZlclxuICAgICAgICAiIiJcbiAgICAgICAgX2NvbXBsYWluX2lmY2xvc2VkKHNlbGYuY2xvc2VkKVxuXG4gICAgZGVmIGdldHZhbHVlKHNlbGYpOlxuICAgICAgICAiIiJcbiAgICAgICAgUmV0cmlldmUgdGhlIGVudGlyZSBjb250ZW50cyBvZiB0aGUgImZpbGUiIGF0IGFueSB0aW1lIGJlZm9yZVxuICAgICAgICB0aGUgU3RyaW5nSU8gb2JqZWN0XCdzIGNsb3NlKCkgbWV0aG9kIGlzIGNhbGxlZC5cblxuICAgICAgICBUaGUgU3RyaW5nSU8gb2JqZWN0IGNhbiBhY2NlcHQgZWl0aGVyIFVuaWNvZGUgb3IgOC1iaXQgc3RyaW5ncyxcbiAgICAgICAgYnV0IG1peGluZyB0aGUgdHdvIG1heSB0YWtlIHNvbWUgY2FyZS4gSWYgYm90aCBhcmUgdXNlZCwgOC1iaXRcbiAgICAgICAgc3RyaW5ncyB0aGF0IGNhbm5vdCBiZSBpbnRlcnByZXRlZCBhcyA3LWJpdCBBU0NJSSAodGhhdCB1c2UgdGhlXG4gICAgICAgIDh0aCBiaXQpIHdpbGwgY2F1c2UgYSBVbmljb2RlRXJyb3IgdG8gYmUgcmFpc2VkIHdoZW4gZ2V0dmFsdWUoKVxuICAgICAgICBpcyBjYWxsZWQuXG4gICAgICAgICIiIlxuICAgICAgICBfY29tcGxhaW5faWZjbG9zZWQoc2VsZi5jbG9zZWQpXG4gICAgICAgIGlmIHNlbGYuYnVmbGlzdDpcbiAgICAgICAgICAgIHNlbGYuYnVmICs9IFwnXCcuam9pbihzZWxmLmJ1Zmxpc3QpXG4gICAgICAgICAgICBzZWxmLmJ1Zmxpc3QgPSBbXVxuICAgICAgICByZXR1cm4gc2VsZi5idWZcbicsCiAgICAic3JjL2xpYi9Vc2VyRGljdC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJVc2VyRGljdCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvVXNlckxpc3QucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiVXNlckxpc3QgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL1VzZXJTdHJpbmcucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiVXNlclN0cmluZyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvX0xXUENvb2tpZUphci5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJfTFdQQ29va2llSmFyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9fTW96aWxsYUNvb2tpZUphci5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJfTW96aWxsYUNvb2tpZUphciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvX19mdXR1cmVfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJfX2Z1dHVyZV9fIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9fX3BoZWxsb19fLmZvby5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJfX3BoZWxsb19fLmZvbyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvX2FiY29sbC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJfYWJjb2xsIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9fc3RycHRpbWUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiX3N0cnB0aW1lIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9fdGhyZWFkaW5nX2xvY2FsLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIl90aHJlYWRpbmdfbG9jYWwgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2FiYy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJhYmMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2FpZmMucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYWlmYyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvYW50aWdyYXZpdHkuanMiOiAnd2luZG93Lm9wZW4oImh0dHBzOi8veGtjZC5jb20vMzUzLyIsIl9ibGFuayIpOycsCiAgICAic3JjL2xpYi9hbnlkYm0ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYW55ZGJtIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9hcnJheS5qcyI6CiAgICAgICckYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9WyJjIiwiYiIsIkIiLCJ1IiwiaCIsIkgiLCJpIiwiSSIsImwiLCJMIiwiZiIsImQiXTtyZXR1cm4gYS5hcnJheT1Tay5taXNjZXZhbC5idWlsZENsYXNzKGEsZnVuY3Rpb24oYSxjKXtjLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxjLGQpe2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oIl9faW5pdF9fIixhcmd1bWVudHMubGVuZ3RoLDIsMyksLTE9PWIuaW5kZXhPZihTay5mZmkucmVtYXBUb0pzKGMpKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5WYWx1ZUVycm9yKCJiYWQgdHlwZWNvZGUgKG11c3QgYmUgYywgYiwgQiwgdSwgaCwgSCwgaSwgSSwgbCwgTCwgZiBvciBkKSIpO2lmKGQmJiFTay5idWlsdGluLmNoZWNrSXRlcmFibGUoZCkpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJpdGVyYXRpb24gb3ZlciBub24tc2VxdWVuY2UiKTtpZihhLiRkLm1wJGFzc19zdWJzY3JpcHQobmV3IFNrLmJ1aWx0aW4uc3RyKCJ0eXBlY29kZSIpLGMpLGEuJGQubXAkYXNzX3N1YnNjcmlwdChuZXcgU2suYnVpbHRpbi5zdHIoIl9fbW9kdWxlX18iKSxuZXcgU2suYnVpbHRpbi5zdHIoImFycmF5IikpLGEudHlwZWNvZGU9Yyx2b2lkIDA9PT1kKWEuaW50ZXJuYWxJdGVyYWJsZT1uZXcgU2suYnVpbHRpbi5saXN0O2Vsc2UgaWYoZCBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4ubGlzdClhLmludGVybmFsSXRlcmFibGU9ZDtlbHNlIGZvcihhLmludGVybmFsSXRlcmFibGU9bmV3IFNrLmJ1aWx0aW4ubGlzdCxpdGVyPVNrLmFic3RyLml0ZXIoZCksaXRlbT1pdGVyLnRwJGl0ZXJuZXh0KCk7dm9pZCAwIT09aXRlbTtpdGVtPWl0ZXIudHAkaXRlcm5leHQoKSlTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYS5pbnRlcm5hbEl0ZXJhYmxlLmFwcGVuZCxbYS5pbnRlcm5hbEl0ZXJhYmxlLGl0ZW1dKX0pLGMuX19yZXByX189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj1Tay5mZmkucmVtYXBUb0pzKGEudHlwZWNvZGUpLGM9IiI7cmV0dXJuIFNrLmZmaS5yZW1hcFRvSnMoYS5pbnRlcm5hbEl0ZXJhYmxlKS5sZW5ndGgmJigiYyI9PVNrLmZmaS5yZW1hcFRvSnMoYS50eXBlY29kZSk/Yz0iLCBcJyIrU2suZmZpLnJlbWFwVG9KcyhhLmludGVybmFsSXRlcmFibGUpLmpvaW4oIiIpKyJcJyI6Yz0iLCAiK1NrLmZmaS5yZW1hcFRvSnMoU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGEuaW50ZXJuYWxJdGVyYWJsZS5fX3JlcHJfXyxbYS5pbnRlcm5hbEl0ZXJhYmxlXSkpKSxuZXcgU2suYnVpbHRpbi5zdHIoImFycmF5KFwnIitiKyJcJyIrYysiKSIpfSksYy5fX3N0cl9fPWMuX19yZXByX18sYy5fX2dldGF0dHJpYnV0ZV9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50cCRnZXRhdHRyKGIpfSksYy5hcHBlbmQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3JldHVybiBTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYS5pbnRlcm5hbEl0ZXJhYmxlLmFwcGVuZCxbYS5pbnRlcm5hbEl0ZXJhYmxlLGJdKSxTay5idWlsdGluLm5vbmUubm9uZSR9KSxjLmV4dGVuZD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7aWYoU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiX19pbml0X18iLGFyZ3VtZW50cy5sZW5ndGgsMiwyKSwhU2suYnVpbHRpbi5jaGVja0l0ZXJhYmxlKGIpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigiaXRlcmF0aW9uIG92ZXIgbm9uLXNlcXVlbmNlIik7Zm9yKGl0ZXI9U2suYWJzdHIuaXRlcihiKSxpdGVtPWl0ZXIudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1pdGVtO2l0ZW09aXRlci50cCRpdGVybmV4dCgpKVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShhLmludGVybmFsSXRlcmFibGUuYXBwZW5kLFthLmludGVybmFsSXRlcmFibGUsaXRlbV0pfSl9LCJhcnJheSIsW10pLGEuX19uYW1lX189bmV3IFNrLmJ1aWx0aW4uc3RyKCJhcnJheSIpLGF9OycsCiAgICAic3JjL2xpYi9hc3QucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYXN0IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9hc3luY2hhdC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJhc3luY2hhdCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvYXN5bmNvcmUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYXN5bmNvcmUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2F0ZXhpdC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJhdGV4aXQgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2F1ZGlvZGV2LnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImF1ZGlvZGV2IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9iYXNlNjQucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYmFzZTY0IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9iZGIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYmRiIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9iaW5oZXgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYmluaGV4IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9iaXNlY3QucHkiOgogICAgICAnIiIiQmlzZWN0aW9uIGFsZ29yaXRobXMuIiIiXG5cbmRlZiBpbnNvcnRfcmlnaHQoYSwgeCwgbG89MCwgaGk9Tm9uZSk6XG4gICAgIiIiSW5zZXJ0IGl0ZW0geCBpbiBsaXN0IGEsIGFuZCBrZWVwIGl0IHNvcnRlZCBhc3N1bWluZyBhIGlzIHNvcnRlZC5cblxuICAgIElmIHggaXMgYWxyZWFkeSBpbiBhLCBpbnNlcnQgaXQgdG8gdGhlIHJpZ2h0IG9mIHRoZSByaWdodG1vc3QgeC5cblxuICAgIE9wdGlvbmFsIGFyZ3MgbG8gKGRlZmF1bHQgMCkgYW5kIGhpIChkZWZhdWx0IGxlbihhKSkgYm91bmQgdGhlXG4gICAgc2xpY2Ugb2YgYSB0byBiZSBzZWFyY2hlZC5cbiAgICAiIiJcblxuICAgIGlmIGxvIDwgMDpcbiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihcJ2xvIG11c3QgYmUgbm9uLW5lZ2F0aXZlXCcpXG4gICAgaWYgaGkgaXMgTm9uZTpcbiAgICAgICAgaGkgPSBsZW4oYSlcbiAgICB3aGlsZSBsbyA8IGhpOlxuICAgICAgICBtaWQgPSAobG8raGkpLy8yXG4gICAgICAgIGlmIHggPCBhW21pZF06IGhpID0gbWlkXG4gICAgICAgIGVsc2U6IGxvID0gbWlkKzFcbiAgICBhLmluc2VydChsbywgeClcblxuZGVmIGJpc2VjdF9yaWdodChhLCB4LCBsbz0wLCBoaT1Ob25lKTpcbiAgICAiIiJSZXR1cm4gdGhlIGluZGV4IHdoZXJlIHRvIGluc2VydCBpdGVtIHggaW4gbGlzdCBhLCBhc3N1bWluZyBhIGlzIHNvcnRlZC5cblxuICAgIFRoZSByZXR1cm4gdmFsdWUgaSBpcyBzdWNoIHRoYXQgYWxsIGUgaW4gYVs6aV0gaGF2ZSBlIDw9IHgsIGFuZCBhbGwgZSBpblxuICAgIGFbaTpdIGhhdmUgZSA+IHguICBTbyBpZiB4IGFscmVhZHkgYXBwZWFycyBpbiB0aGUgbGlzdCwgYS5pbnNlcnQoeCkgd2lsbFxuICAgIGluc2VydCBqdXN0IGFmdGVyIHRoZSByaWdodG1vc3QgeCBhbHJlYWR5IHRoZXJlLlxuXG4gICAgT3B0aW9uYWwgYXJncyBsbyAoZGVmYXVsdCAwKSBhbmQgaGkgKGRlZmF1bHQgbGVuKGEpKSBib3VuZCB0aGVcbiAgICBzbGljZSBvZiBhIHRvIGJlIHNlYXJjaGVkLlxuICAgICIiIlxuXG4gICAgaWYgbG8gPCAwOlxuICAgICAgICByYWlzZSBWYWx1ZUVycm9yKFwnbG8gbXVzdCBiZSBub24tbmVnYXRpdmVcJylcbiAgICBpZiBoaSBpcyBOb25lOlxuICAgICAgICBoaSA9IGxlbihhKVxuICAgIHdoaWxlIGxvIDwgaGk6XG4gICAgICAgIG1pZCA9IChsbytoaSkvLzJcbiAgICAgICAgaWYgeCA8IGFbbWlkXTogaGkgPSBtaWRcbiAgICAgICAgZWxzZTogbG8gPSBtaWQrMVxuICAgIHJldHVybiBsb1xuXG5kZWYgaW5zb3J0X2xlZnQoYSwgeCwgbG89MCwgaGk9Tm9uZSk6XG4gICAgIiIiSW5zZXJ0IGl0ZW0geCBpbiBsaXN0IGEsIGFuZCBrZWVwIGl0IHNvcnRlZCBhc3N1bWluZyBhIGlzIHNvcnRlZC5cblxuICAgIElmIHggaXMgYWxyZWFkeSBpbiBhLCBpbnNlcnQgaXQgdG8gdGhlIGxlZnQgb2YgdGhlIGxlZnRtb3N0IHguXG5cbiAgICBPcHRpb25hbCBhcmdzIGxvIChkZWZhdWx0IDApIGFuZCBoaSAoZGVmYXVsdCBsZW4oYSkpIGJvdW5kIHRoZVxuICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuXG4gICAgIiIiXG5cbiAgICBpZiBsbyA8IDA6XG4gICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoXCdsbyBtdXN0IGJlIG5vbi1uZWdhdGl2ZVwnKVxuICAgIGlmIGhpIGlzIE5vbmU6XG4gICAgICAgIGhpID0gbGVuKGEpXG4gICAgd2hpbGUgbG8gPCBoaTpcbiAgICAgICAgbWlkID0gKGxvK2hpKS8vMlxuICAgICAgICBpZiBhW21pZF0gPCB4OiBsbyA9IG1pZCsxXG4gICAgICAgIGVsc2U6IGhpID0gbWlkXG4gICAgYS5pbnNlcnQobG8sIHgpXG5cblxuZGVmIGJpc2VjdF9sZWZ0KGEsIHgsIGxvPTAsIGhpPU5vbmUpOlxuICAgICIiIlJldHVybiB0aGUgaW5kZXggd2hlcmUgdG8gaW5zZXJ0IGl0ZW0geCBpbiBsaXN0IGEsIGFzc3VtaW5nIGEgaXMgc29ydGVkLlxuXG4gICAgVGhlIHJldHVybiB2YWx1ZSBpIGlzIHN1Y2ggdGhhdCBhbGwgZSBpbiBhWzppXSBoYXZlIGUgPCB4LCBhbmQgYWxsIGUgaW5cbiAgICBhW2k6XSBoYXZlIGUgPj0geC4gIFNvIGlmIHggYWxyZWFkeSBhcHBlYXJzIGluIHRoZSBsaXN0LCBhLmluc2VydCh4KSB3aWxsXG4gICAgaW5zZXJ0IGp1c3QgYmVmb3JlIHRoZSBsZWZ0bW9zdCB4IGFscmVhZHkgdGhlcmUuXG5cbiAgICBPcHRpb25hbCBhcmdzIGxvIChkZWZhdWx0IDApIGFuZCBoaSAoZGVmYXVsdCBsZW4oYSkpIGJvdW5kIHRoZVxuICAgIHNsaWNlIG9mIGEgdG8gYmUgc2VhcmNoZWQuXG4gICAgIiIiXG5cbiAgICBpZiBsbyA8IDA6XG4gICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoXCdsbyBtdXN0IGJlIG5vbi1uZWdhdGl2ZVwnKVxuICAgIGlmIGhpIGlzIE5vbmU6XG4gICAgICAgIGhpID0gbGVuKGEpXG4gICAgd2hpbGUgbG8gPCBoaTpcbiAgICAgICAgbWlkID0gKGxvK2hpKS8vMlxuICAgICAgICBpZiBhW21pZF0gPCB4OiBsbyA9IG1pZCsxXG4gICAgICAgIGVsc2U6IGhpID0gbWlkXG4gICAgcmV0dXJuIGxvXG5cbiMgT3ZlcndyaXRlIGFib3ZlIGRlZmluaXRpb25zIHdpdGggYSBmYXN0IEMgaW1wbGVtZW50YXRpb25cbnRyeTpcbiAgICBmcm9tIF9iaXNlY3QgaW1wb3J0ICpcbmV4Y2VwdCBJbXBvcnRFcnJvcjpcbiAgICBwYXNzXG5cbiMgQ3JlYXRlIGFsaWFzZXNcbmJpc2VjdCA9IGJpc2VjdF9yaWdodFxuaW5zb3J0ID0gaW5zb3J0X3JpZ2h0XG4nLAogICAgInNyYy9saWIvYnNkZGIvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYnNkZGIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NQcm9maWxlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNQcm9maWxlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jYWxlbmRhci5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJjYWxlbmRhciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvY2dpLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNnaSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvY2dpdGIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiY2dpdGIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NodW5rLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNodW5rIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jbWQucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiY21kIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jb2RlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNvZGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NvZGVjcy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJjb2RlY3MgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NvZGVvcC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJjb2Rlb3AgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NvbGxlY3Rpb25zLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3JldHVybiBTay5taXNjZXZhbC5jaGFpbihTay5pbXBvcnRNb2R1bGUoImtleXdvcmQiLCExLCEwKSxmdW5jdGlvbihhKXt2YXIgYj17fTtiLmRlZmF1bHRkaWN0PWZ1bmN0aW9uKGEsYyl7aWYoISh0aGlzIGluc3RhbmNlb2YgYi5kZWZhdWx0ZGljdCkpcmV0dXJuIG5ldyBiLmRlZmF1bHRkaWN0KGEsYyk7aWYoU2suYWJzdHIuc3VwZXJDb25zdHJ1Y3RvcihiLmRlZmF1bHRkaWN0LHRoaXMsYyksdm9pZCAwPT09YSl0aGlzLmRlZmF1bHRfZmFjdG9yeT1Tay5idWlsdGluLm5vbmUubm9uZSQ7ZWxzZXtpZighU2suYnVpbHRpbi5jaGVja0NhbGxhYmxlKGEpJiYhKGEgaW5zdGFuY2VvZiBTay5idWlsdGluLm5vbmUpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigiZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBjYWxsYWJsZSIpO3RoaXMuZGVmYXVsdF9mYWN0b3J5PWF9cmV0dXJuIHRoaXMuJGQ/dGhpcy4kZC5kZWZhdWx0X2ZhY3Rvcnk9dGhpcy5kZWZhdWx0X2ZhY3Rvcnk6dGhpcy4kZD17ZGVmYXVsdF9mYWN0b3J5OnRoaXMuZGVmYXVsdF9mYWN0b3J5fSx0aGlzfSxTay5hYnN0ci5zZXRVcEluaGVyaXRhbmNlKCJkZWZhdWx0ZGljdCIsYi5kZWZhdWx0ZGljdCxTay5idWlsdGluLmRpY3QpLGIuZGVmYXVsdGRpY3QucHJvdG90eXBlLiRyPWZ1bmN0aW9uKCl7dmFyIGE9U2subWlzY2V2YWwub2JqZWN0UmVwcih0aGlzLmRlZmF1bHRfZmFjdG9yeSkudixiPVNrLmJ1aWx0aW4uZGljdC5wcm90b3R5cGUuJHIuY2FsbCh0aGlzKS52O3JldHVybiBuZXcgU2suYnVpbHRpbi5zdHIoImRlZmF1bHRkaWN0KCIrYSsiLCAiK2IrIikiKX0sYi5kZWZhdWx0ZGljdC5wcm90b3R5cGUuX19jb3B5X189ZnVuY3Rpb24oYSl7dmFyIGMsZCxlLGY9W107Zm9yKGQ9U2suYWJzdHIuaXRlcihhKSxlPWQudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1lO2U9ZC50cCRpdGVybmV4dCgpKWM9YS5tcCRzdWJzY3JpcHQoZSksZi5wdXNoKGUpLGYucHVzaChjKTtyZXR1cm4gbmV3IGIuZGVmYXVsdGRpY3QoYS4kZC5kZWZhdWx0X2ZhY3RvcnksZil9LGIuZGVmYXVsdGRpY3QucHJvdG90eXBlLl9fbWlzc2luZ19fPWZ1bmN0aW9uKGEpe2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oIl9fbWlzc2luZ19fIixhcmd1bWVudHMubGVuZ3RoLDAsMSksYSl0aHJvdyBuZXcgU2suYnVpbHRpbi5LZXlFcnJvcihTay5taXNjZXZhbC5vYmplY3RSZXByKGEpKTtlbHNlIHJldHVybiBTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkodGhpcy5kZWZhdWx0X2ZhY3RvcnkpfSxiLmRlZmF1bHRkaWN0LnByb3RvdHlwZS5tcCRzdWJzY3JpcHQ9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBTay5idWlsdGluLmRpY3QucHJvdG90eXBlLm1wJHN1YnNjcmlwdC5jYWxsKHRoaXMsYSl9Y2F0Y2goYil7cmV0dXJuIHRoaXMuZGVmYXVsdF9mYWN0b3J5IGluc3RhbmNlb2YgU2suYnVpbHRpbi5ub25lP3RoaXMuX19taXNzaW5nX18oYSk6KHJldD10aGlzLl9fbWlzc2luZ19fKCksdGhpcy5tcCRhc3Nfc3Vic2NyaXB0KGEscmV0KSxyZXQpfX0sYi5Db3VudGVyPWZ1bmN0aW9uKGEpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGIuQ291bnRlcikpcmV0dXJuIG5ldyBiLkNvdW50ZXIoYSk7aWYoYSBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZGljdHx8dm9pZCAwPT09YSlTay5hYnN0ci5zdXBlckNvbnN0cnVjdG9yKGIuQ291bnRlcix0aGlzLGEpO2Vsc2V7aWYoIVNrLmJ1aWx0aW4uY2hlY2tJdGVyYWJsZShhKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoIlwnIitTay5hYnN0ci50eXBlTmFtZShhKSsiXCcgb2JqZWN0IGlzIG5vdCBpdGVyYWJsZSIpO1NrLmFic3RyLnN1cGVyQ29uc3RydWN0b3IoYi5Db3VudGVyLHRoaXMpO2Zvcih2YXIgYyxkPW5ldyBTay5idWlsdGluLmludF8oMSksZT1hLnRwJGl0ZXIoKSxmPWUudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1mO2Y9ZS50cCRpdGVybmV4dCgpKWM9dGhpcy5tcCRzdWJzY3JpcHQoZiksYz1jLm5iJGFkZChkKSx0aGlzLm1wJGFzc19zdWJzY3JpcHQoZixjKX1yZXR1cm4gdGhpc30sU2suYWJzdHIuc2V0VXBJbmhlcml0YW5jZSgiQ291bnRlciIsYi5Db3VudGVyLFNrLmJ1aWx0aW4uZGljdCksYi5Db3VudGVyLnByb3RvdHlwZS4kcj1mdW5jdGlvbigpe3ZhciBhPTA8dGhpcy5zaXplP1NrLmJ1aWx0aW4uZGljdC5wcm90b3R5cGUuJHIuY2FsbCh0aGlzKS52OiIiO3JldHVybiBuZXcgU2suYnVpbHRpbi5zdHIoIkNvdW50ZXIoIithKyIpIil9LGIuQ291bnRlci5wcm90b3R5cGUubXAkc3Vic2NyaXB0PWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gU2suYnVpbHRpbi5kaWN0LnByb3RvdHlwZS5tcCRzdWJzY3JpcHQuY2FsbCh0aGlzLGEpfWNhdGNoKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5pbnRfKDApfX0sYi5Db3VudGVyLnByb3RvdHlwZS5lbGVtZW50cz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe1NrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImVsZW1lbnRzIixhcmd1bWVudHMubGVuZ3RoLDEsMSk7Zm9yKHZhciBiPVtdLGM9YS50cCRpdGVyKCksZD1jLnRwJGl0ZXJuZXh0KCk7dm9pZCAwIT09ZDtkPWMudHAkaXRlcm5leHQoKSlmb3IodmFyIGU9MDtlPGEubXAkc3Vic2NyaXB0KGQpLnY7ZSsrKWIucHVzaChkKTt2YXIgZj17dHAkaXRlcjpmdW5jdGlvbigpe3JldHVybiBmfSwkb2JqOnRoaXMsJGluZGV4OjAsJGVsZW06Yix0cCRpdGVybmV4dDpmdW5jdGlvbigpe3JldHVybiBmLiRpbmRleD49Zi4kZWxlbS5sZW5ndGg/dm9pZCAwOmYuJGVsZW1bZi4kaW5kZXgrK119fTtyZXR1cm4gZn0pLGIuQ291bnRlci5wcm90b3R5cGUubW9zdF9jb21tb249bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe1NrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oIm1vc3RfY29tbW9uIixhcmd1bWVudHMubGVuZ3RoLDEsMik7dmFyIGM9YS5tcCRsZW5ndGgoKTtpZih2b2lkIDA9PT1iKWI9YztlbHNle2lmKCFTay5idWlsdGluLmNoZWNrSW50KGIpKWlmKGIgaW5zdGFuY2VvZiBTay5idWlsdGluLmZsb2F0Xyl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoImludGVnZXIgYXJndW1lbnQgZXhwZWN0ZWQsIGdvdCBmbG9hdCIpO2Vsc2UgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJhbiBpbnRlZ2VyIGlzIHJlcXVpcmVkIik7Yj1Tay5idWlsdGluLmFzbnVtJChiKSxiPWI8PWM/YjpjLGI9MDw9Yj9iOjB9Zm9yKHZhciBkPVtdLGU9YS50cCRpdGVyKCksZj1lLnRwJGl0ZXJuZXh0KCk7dm9pZCAwIT09ZjtmPWUudHAkaXRlcm5leHQoKSlkLnB1c2goW2YsYS5tcCRzdWJzY3JpcHQoZildKTtkPWQuc29ydChmdW5jdGlvbihjLGEpe3JldHVybiBjWzFdLnY8YVsxXS52PzE6Y1sxXS52PmFbMV0udj8tMTowfSk7Zm9yKHZhciBnPVtdLGg9MDtoPGI7aCsrKWcucHVzaChuZXcgU2suYnVpbHRpbi50dXBsZShkLnNoaWZ0KCkpKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChnKX0pLGIuQ291bnRlci5wcm90b3R5cGUudXBkYXRlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtpZihTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJ1cGRhdGUiLGFyZ3VtZW50cy5sZW5ndGgsMSwyKSxiIGluc3RhbmNlb2YgU2suYnVpbHRpbi5kaWN0KWZvcih2YXIgYyxkPWIudHAkaXRlcigpLGU9ZC50cCRpdGVybmV4dCgpO3ZvaWQgMCE9PWU7ZT1kLnRwJGl0ZXJuZXh0KCkpYz1hLm1wJHN1YnNjcmlwdChlKSxhLm1wJGFzc19zdWJzY3JpcHQoZSxjLm5iJGFkZChiLm1wJHN1YnNjcmlwdChlKSkpO2Vsc2UgaWYodm9pZCAwIT09Yil7aWYoIVNrLmJ1aWx0aW4uY2hlY2tJdGVyYWJsZShiKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoIlwnIitTay5hYnN0ci50eXBlTmFtZShiKSsiXCcgb2JqZWN0IGlzIG5vdCBpdGVyYWJsZSIpO2Zvcih2YXIgYyxmPW5ldyBTay5idWlsdGluLmludF8oMSksZD1iLnRwJGl0ZXIoKSxlPWQudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1lO2U9ZC50cCRpdGVybmV4dCgpKWM9YS5tcCRzdWJzY3JpcHQoZSksYS5tcCRhc3Nfc3Vic2NyaXB0KGUsYy5uYiRhZGQoZikpfX0pLGIuQ291bnRlci5wcm90b3R5cGUuc3VidHJhY3Q9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInN1YnRyYWN0Iixhcmd1bWVudHMubGVuZ3RoLDEsMiksYiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZGljdClmb3IodmFyIGMsZD1iLnRwJGl0ZXIoKSxlPWQudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1lO2U9ZC50cCRpdGVybmV4dCgpKWM9YS5tcCRzdWJzY3JpcHQoZSksYS5tcCRhc3Nfc3Vic2NyaXB0KGUsYy5uYiRzdWJ0cmFjdChiLm1wJHN1YnNjcmlwdChlKSkpO2Vsc2UgaWYodm9pZCAwIT09Yil7aWYoIVNrLmJ1aWx0aW4uY2hlY2tJdGVyYWJsZShiKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoIlwnIitTay5hYnN0ci50eXBlTmFtZShiKSsiXCcgb2JqZWN0IGlzIG5vdCBpdGVyYWJsZSIpO2Zvcih2YXIgYyxmPW5ldyBTay5idWlsdGluLmludF8oMSksZD1iLnRwJGl0ZXIoKSxlPWQudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1lO2U9ZC50cCRpdGVybmV4dCgpKWM9YS5tcCRzdWJzY3JpcHQoZSksYS5tcCRhc3Nfc3Vic2NyaXB0KGUsYy5uYiRzdWJ0cmFjdChmKSl9fSksYi5PcmRlcmVkRGljdD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGIuT3JkZXJlZERpY3Q/KHRoaXMub3JkZXJlZGtleXM9W10sU2suYWJzdHIuc3VwZXJDb25zdHJ1Y3RvcihiLk9yZGVyZWREaWN0LHRoaXMsYSksdGhpcyk6bmV3IGIuT3JkZXJlZERpY3QoYSl9LFNrLmFic3RyLnNldFVwSW5oZXJpdGFuY2UoIk9yZGVyZWREaWN0IixiLk9yZGVyZWREaWN0LFNrLmJ1aWx0aW4uZGljdCksYi5PcmRlcmVkRGljdC5wcm90b3R5cGUuJHI9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlPVtdO2ZvcihiPXRoaXMudHAkaXRlcigpLGM9Yi50cCRpdGVybmV4dCgpO3ZvaWQgMCE9PWM7Yz1iLnRwJGl0ZXJuZXh0KCkpYT10aGlzLm1wJHN1YnNjcmlwdChjKSx2b2lkIDA9PT1hJiYoYT1udWxsKSxlLnB1c2goIigiK1NrLm1pc2NldmFsLm9iamVjdFJlcHIoYykudisiLCAiK1NrLm1pc2NldmFsLm9iamVjdFJlcHIoYSkudisiKSIpO3JldHVybiBkPWUuam9pbigiLCAiKSwwPGUubGVuZ3RoJiYoZD0iWyIrZCsiXSIpLG5ldyBTay5idWlsdGluLnN0cigiT3JkZXJlZERpY3QoIitkKyIpIil9LGIuT3JkZXJlZERpY3QucHJvdG90eXBlLm1wJGFzc19zdWJzY3JpcHQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm9yZGVyZWRrZXlzLmluZGV4T2YoYSk7cmV0dXJuLTE9PWMmJnRoaXMub3JkZXJlZGtleXMucHVzaChhKSxTay5idWlsdGluLmRpY3QucHJvdG90eXBlLm1wJGFzc19zdWJzY3JpcHQuY2FsbCh0aGlzLGEsYil9LGIuT3JkZXJlZERpY3QucHJvdG90eXBlLm1wJGRlbF9zdWJzY3JpcHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcmRlcmVka2V5cy5pbmRleE9mKGEpO3JldHVybi0xIT1iJiZ0aGlzLm9yZGVyZWRrZXlzLnNwbGljZShiLDEpLFNrLmJ1aWx0aW4uZGljdC5wcm90b3R5cGUubXAkZGVsX3N1YnNjcmlwdC5jYWxsKHRoaXMsYSl9LGIuT3JkZXJlZERpY3QucHJvdG90eXBlLl9faXRlcl9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oIl9faXRlcl9fIixhcmd1bWVudHMubGVuZ3RoLDAsMCwhMSwhMCksYi5PcmRlcmVkRGljdC5wcm90b3R5cGUudHAkaXRlci5jYWxsKGEpfSksYi5PcmRlcmVkRGljdC5wcm90b3R5cGUudHAkaXRlcj1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPXt0cCRpdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LCRvYmo6dGhpcywkaW5kZXg6MCwka2V5czp0aGlzLm9yZGVyZWRrZXlzLnNsaWNlKDApLHRwJGl0ZXJuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuJGluZGV4Pj1hLiRrZXlzLmxlbmd0aD92b2lkIDA6YS4ka2V5c1thLiRpbmRleCsrXX19LGF9LGIuT3JkZXJlZERpY3QucHJvdG90eXBlLm9iJGVxPWZ1bmN0aW9uKGEpe3ZhciBjLGQsZSxmLGc7aWYoIShhIGluc3RhbmNlb2YgYi5PcmRlcmVkRGljdCkpcmV0dXJuIFNrLmJ1aWx0aW4uZGljdC5wcm90b3R5cGUub2IkZXEuY2FsbCh0aGlzLGEpO2lmKGM9dGhpcy5tcCRsZW5ndGgoKSxkPWEubXAkbGVuZ3RoKCksYyE9PWQpcmV0dXJuIFNrLmJ1aWx0aW4uYm9vbC5mYWxzZSQ7Zm9yKGU9dGhpcy50cCRpdGVyKCksb3RoZXJpdGVyPWEudHAkaXRlcigpLGY9ZS50cCRpdGVybmV4dCgpLG90aGVyaz1vdGhlcml0ZXIudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1mO2Y9ZS50cCRpdGVybmV4dCgpLG90aGVyaz1vdGhlcml0ZXIudHAkaXRlcm5leHQoKSl7aWYoIVNrLm1pc2NldmFsLmlzVHJ1ZShTay5taXNjZXZhbC5yaWNoQ29tcGFyZUJvb2woZixvdGhlcmssIkVxIikpKXJldHVybiBTay5idWlsdGluLmJvb2wuZmFsc2UkO2lmKGc9dGhpcy5tcCRzdWJzY3JpcHQoZiksb3RoZXJ2PWEubXAkc3Vic2NyaXB0KG90aGVyayksIVNrLm1pc2NldmFsLmlzVHJ1ZShTay5taXNjZXZhbC5yaWNoQ29tcGFyZUJvb2woZyxvdGhlcnYsIkVxIikpKXJldHVybiBTay5idWlsdGluLmJvb2wuZmFsc2UkfXJldHVybiBTay5idWlsdGluLmJvb2wudHJ1ZSR9LGIuT3JkZXJlZERpY3QucHJvdG90eXBlLm9iJG5lPWZ1bmN0aW9uKGEpe3ZhciBjLGQsZSxmLGc7aWYoIShhIGluc3RhbmNlb2YgYi5PcmRlcmVkRGljdCkpcmV0dXJuIFNrLmJ1aWx0aW4uZGljdC5wcm90b3R5cGUub2IkbmUuY2FsbCh0aGlzLGEpO2lmKGM9dGhpcy5zaXplLGQ9YS5zaXplLGMhPT1kKXJldHVybiBTay5idWlsdGluLmJvb2wudHJ1ZSQ7Zm9yKGU9dGhpcy50cCRpdGVyKCksb3RoZXJpdGVyPWEudHAkaXRlcigpLGY9ZS50cCRpdGVybmV4dCgpLG90aGVyaz1vdGhlcml0ZXIudHAkaXRlcm5leHQoKTt2b2lkIDAhPT1mO2Y9ZS50cCRpdGVybmV4dCgpLG90aGVyaz1vdGhlcml0ZXIudHAkaXRlcm5leHQoKSl7aWYoIVNrLm1pc2NldmFsLmlzVHJ1ZShTay5taXNjZXZhbC5yaWNoQ29tcGFyZUJvb2woZixvdGhlcmssIkVxIikpKXJldHVybiBTay5idWlsdGluLmJvb2wudHJ1ZSQ7aWYoZz10aGlzLm1wJHN1YnNjcmlwdChmKSxvdGhlcnY9YS5tcCRzdWJzY3JpcHQob3RoZXJrKSwhU2subWlzY2V2YWwuaXNUcnVlKFNrLm1pc2NldmFsLnJpY2hDb21wYXJlQm9vbChnLG90aGVydiwiRXEiKSkpcmV0dXJuIFNrLmJ1aWx0aW4uYm9vbC50cnVlJH1yZXR1cm4gU2suYnVpbHRpbi5ib29sLmZhbHNlJH0sYi5PcmRlcmVkRGljdC5wcm90b3R5cGUucG9wPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJwb3AiLGFyZ3VtZW50cy5sZW5ndGgsMiwzKSxkPWEub3JkZXJlZGtleXMuaW5kZXhPZihiKSwtMSE9ZCYmYS5vcmRlcmVka2V5cy5zcGxpY2UoZCwxKSxTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoU2suYnVpbHRpbi5kaWN0LnByb3RvdHlwZS5wb3AsW2EsYixjXSl9KSxiLk9yZGVyZWREaWN0LnByb3RvdHlwZS5wb3BpdGVtPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7aWYoU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigicG9waXRlbSIsYXJndW1lbnRzLmxlbmd0aCwxLDIpLDA9PWEub3JkZXJlZGtleXMubGVuZ3RoKXRocm93IGU9bmV3IFNrLmJ1aWx0aW4uc3RyKCJkaWN0aW9uYXJ5IGlzIGVtcHR5IiksbmV3IFNrLmJ1aWx0aW4uS2V5RXJyb3IoZS52KTtyZXR1cm4gYz1hLm9yZGVyZWRrZXlzWzBdLCh2b2lkIDA9PT1ifHxTay5taXNjZXZhbC5pc1RydWUoYikpJiYoYz1hLm9yZGVyZWRrZXlzW2Eub3JkZXJlZGtleXMubGVuZ3RoLTFdKSxkPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShhLnBvcCxbYSxjXSksU2suYnVpbHRpbi50dXBsZShbYyxkXSl9KSxiLmRlcXVlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFNrLmJ1aWx0aW4uTm90SW1wbGVtZW50ZWRFcnJvcigiZGVxdWUgaXMgbm90IGltcGxlbWVudGVkIil9LGIubmFtZWR0dXBsZXM9e307dmFyIGM9ZnVuY3Rpb24oYil7Zm9yKHZhciBhPVtdLGM9MDtjPD1iLmxlbmd0aDtjKyspaWYodm9pZCAwPT09YVtiW2NdXSlhW2JbY11dPTE7ZWxzZSByZXR1cm4hMDtyZXR1cm4hMX0sZD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS5zdXBlckNsYXNzXz1iLnByb3RvdHlwZSxhLnByb3RvdHlwZT1uZXcgYyxhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hfTtyZXR1cm4gYi5uYW1lZHR1cGxlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oZSxmKXtpZihTay5mZmkucmVtYXBUb0pzKFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShhLiRkLmlza2V5d29yZCxbZV0pKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5WYWx1ZUVycm9yKCJUeXBlIG5hbWVzIGFuZCBmaWVsZCBuYW1lcyBjYW5ub3QgYmUgYSBrZXl3b3JkOiAiK2Uudik7dmFyIGc9U2suZmZpLnJlbWFwVG9KcyhlKTtpZihzdGFydHN3PW5ldyBSZWdFeHAoL15bMC05XS4qLyksc3RhcnRzdzI9bmV3IFJlZ0V4cCgvXlswLTlfXS4qLyksYWxudW09bmV3IFJlZ0V4cCgvXlxcdyokLyksc3RhcnRzdy50ZXN0KGcpfHwhYWxudW0udGVzdChnKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5WYWx1ZUVycm9yKCIgQmFkIHR5cGUgbmFtZSAiK2cpO3ZhciBoPVNrLmZmaS5yZW1hcFRvSnMoZik7Zm9yKCJzdHJpbmciPT10eXBlb2YgaCYmKGg9aC5zcGxpdCgvXFxzKy8pKSxpPTA7aTxoLmxlbmd0aDtpKyspaWYoU2suZmZpLnJlbWFwVG9KcyhTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYS4kZC5pc2tleXdvcmQsW1NrLmZmaS5yZW1hcFRvUHkoaFtpXSldKSl8fHN0YXJ0c3cyLnRlc3QoaFtpXSl8fCFhbG51bS50ZXN0KGhbaV0pKXRocm93IG5ldyBTay5idWlsdGluLlZhbHVlRXJyb3IoIlR5cGUgbmFtZXMgYW5kIGZpZWxkIG5hbWVzIGNhbm5vdCBiZSBhIGtleXdvcmQ6ICIraFtpXSk7aWYoYyhoKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5WYWx1ZUVycm9yKCJGaWVsZCBuYW1lcyBtdXN0IGJlIHVuaXF1ZS4iKTt2YXIgaj1mdW5jdGlvbigpe3ZhciBhO2lmKGFyZ3VtZW50cy5sZW5ndGghPT1oLmxlbmd0aCl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoIk51bWJlciBvZiBhcmd1bWVudHMgbXVzdCBtYXRjaCIpO3JldHVybiB0aGlzIGluc3RhbmNlb2YgYi5uYW1lZHR1cGxlc1tnXT92b2lkKHRoaXMuX19jbGFzc19fPWIubmFtZWR0dXBsZXNbZ10sdGhpcy52PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpOihhPU9iamVjdC5jcmVhdGUoYi5uYW1lZHR1cGxlc1tnXS5wcm90b3R5cGUpLGEuY29uc3RydWN0b3IuYXBwbHkoYSxhcmd1bWVudHMpLGEpfTtyZXR1cm4gYi5uYW1lZHR1cGxlc1tnXT1qLGQoaixTay5idWlsdGluLnR1cGxlKSxqLnByb3RvdHlwZS50cCRuYW1lPWcsai5wcm90b3R5cGUub2IkdHlwZT1Tay5idWlsdGluLnR5cGUubWFrZUludG9UeXBlT2JqKGcsYi5uYW1lZHR1cGxlc1tnXSksai5wcm90b3R5cGUuJHI9ZnVuY3Rpb24oKXt2YXIgYSxiLGM7aWYoMD09PXRoaXMudi5sZW5ndGgpcmV0dXJuIG5ldyBTay5idWlsdGluLnN0cihnKyIoKSIpO2ZvcihjPVtdLGI9MDtiPHRoaXMudi5sZW5ndGg7KytiKWNbYl09aFtiXSsiPSIrU2subWlzY2V2YWwub2JqZWN0UmVwcih0aGlzLnZbYl0pLnY7cmV0dXJuIGE9Yy5qb2luKCIsICIpLDE9PT10aGlzLnYubGVuZ3RoJiYoYSs9IiwiKSxuZXcgU2suYnVpbHRpbi5zdHIoZysiKCIrYSsiKSIpfSxqLnByb3RvdHlwZS50cCRnZXRhdHRyPWZ1bmN0aW9uKGEpe3ZhciBiPWEuJGpzc3RyKCksYz1oLmluZGV4T2YoYik7cmV0dXJuIDA8PWM/dGhpcy52W2NdOnZvaWQgMH0sai5wcm90b3R5cGUudHAkc2V0YXR0cj1mdW5jdGlvbigpe3Rocm93IG5ldyBTay5idWlsdGluLkF0dHJpYnV0ZUVycm9yKCJjYW5cJ3Qgc2V0IGF0dHJpYnV0ZSIpfSxqfSksYn0pfTsnLAogICAgInNyYy9saWIvY29sb3JzeXMucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiY29sb3JzeXMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NvbW1hbmRzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNvbW1hbmRzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jb21waWxlYWxsLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNvbXBpbGVhbGwgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NvbXBpbGVyL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNvbXBpbGVyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jb25maWcvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiY29uZmlnIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jb250ZXh0bGliLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNvbnRleHRsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2Nvb2tpZWxpYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJjb29raWVsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2NvcHkucHkiOgogICAgICAnIiIiXG5UaGlzIGZpbGUgd2FzIG1vZGlmaWVkIGZyb20gQ1B5dGhvbi5cbkNvcHlyaWdodCAoYykgMjAwMSwgMjAwMiwgMjAwMywgMjAwNCwgMjAwNSwgMjAwNiwgMjAwNywgMjAwOCwgMjAwOSwgMjAxMCxcbjIwMTEsIDIwMTIsIDIwMTMsIDIwMTQsIDIwMTUgUHl0aG9uIFNvZnR3YXJlIEZvdW5kYXRpb247IEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiIiIlxuaW1wb3J0IHR5cGVzXG5jbGFzcyBFcnJvcihFeGNlcHRpb24pOlxuICAgIHBhc3NcbmVycm9yID0gRXJyb3IgXG5jbGFzcyBfRW1wdHlDbGFzczpcbiAgICBwYXNzXG5cbmRlZiBjb3B5KHgpOlxuICAgIGNscyA9IHR5cGUoeClcbiAgICBpZiBjYWxsYWJsZSh4KTpcbiAgICAgICAgcmV0dXJuIHhcbiAgICBjb3BpZXIgPSBnZXRhdHRyKGNscywgIl9fY29weV9fIiwgTm9uZSlcbiAgICBpZiBjb3BpZXI6XG4gICAgICAgIHJldHVybiBjb3BpZXIoeClcbiAgICBpZiBjbHMgaW4gKHR5cGUoTm9uZSksIGludCwgZmxvYXQsIGJvb2wsIGxvbmcsIHN0ciwgdHVwbGUsIHR5cGUpOlxuICAgICAgICByZXR1cm4geFxuICAgIGlmIChjbHMgPT0gbGlzdCkgb3IgKGNscyA9PSBkaWN0KSBvciAoY2xzID09IHNldCkgb3IgKGNscyA9PSBzbGljZSk6XG4gICAgICAgIHJldHVybiBjbHMoeClcbiAgICB0cnk6XG4gICAgICAgIGdldHN0YXRlID0gZ2V0YXR0cih4LCAiX19nZXRzdGF0ZV9fIiwgTm9uZSlcbiAgICAgICAgc2V0c3RhdGUgPSBnZXRhdHRyKHgsICJfX3NldHN0YXRlX18iLCBOb25lKVxuICAgICAgICBpbml0YXJncyA9IGdldGF0dHIoeCwgIl9fZ2V0aW5pdGFyZ3NfXyIsIE5vbmUpXG4gICAgZXhjZXB0OlxuICAgICAgICByZWR1Y3RvciA9IEZhbHNlXG4gICAgaWYgZ2V0c3RhdGUgb3Igc2V0c3RhdGUgb3IgaW5pdGFyZ3M6XG4gICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIlNrdWxwdCBkb2VzIG5vdCB5ZXQgc3VwcG9ydCBjb3B5aW5nIHdpdGggdXNlci1kZWZpbmVkIF9fZ2V0c3RhdGVfXywgX19zZXRzdGF0ZV9fIG9yIF9fZ2V0aW5pdGFyZ3NfXygpIilcbiAgICByZWR1Y3RvciA9IGdldGF0dHIoeCwgIl9fcmVkdWNlX2V4X18iLCBOb25lKVxuICAgIGlmIHJlZHVjdG9yOlxuICAgICAgICBydiA9IHJlZHVjdG9yKDQpXG4gICAgZWxzZTpcbiAgICAgICAgcmVkdWN0b3IgPSBnZXRhdHRyKHgsICJfX3JlZHVjZV9fIiwgTm9uZSlcbiAgICAgICAgaWYgcmVkdWN0b3I6XG4gICAgICAgICAgICBydiA9IHJlZHVjdG9yKClcbiAgICAgICAgZWxpZiBzdHIoY2xzKVsxOjZdID09ICJjbGFzcyI6XG4gICAgICAgICAgICBjb3BpZXIgPSBfY29weV9pbnN0XG4gICAgICAgICAgICByZXR1cm4gY29waWVyKHgpXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByYWlzZSBFcnJvcigidW4oc2hhbGxvdyljb3B5YWJsZSBvYmplY3Qgb2YgdHlwZSAlcyIgJSBjbHMpXG4gICAgaWYgaXNpbnN0YW5jZShydiwgc3RyKTpcbiAgICAgICAgcmV0dXJuIHhcbiAgICByZXR1cm4gX3JlY29uc3RydWN0KHgsIHJ2LCAwKVxuXG5kZWYgX2NvcHlfaW5zdCh4KTpcbiAgICBpZiBoYXNhdHRyKHgsIFwnX19jb3B5X19cJyk6XG4gICAgICAgIHJldHVybiB4Ll9fY29weV9fKClcbiAgICBpZiBoYXNhdHRyKHgsIFwnX19nZXRpbml0YXJnc19fXCcpOlxuICAgICAgICBhcmdzID0geC5fX2dldGluaXRhcmdzX18oKVxuICAgICAgICB5ID0geC5fX2NsYXNzX18oKmFyZ3MpXG4gICAgZWxzZTpcbiAgICAgICAgeSA9IF9FbXB0eUNsYXNzKClcbiAgICAgICAgeS5fX2NsYXNzX18gPSB4Ll9fY2xhc3NfX1xuICAgIGlmIGhhc2F0dHIoeCwgXCdfX2dldHN0YXRlX19cJyk6XG4gICAgICAgIHN0YXRlID0geC5fX2dldHN0YXRlX18oKVxuICAgIGVsc2U6XG4gICAgICAgIHN0YXRlID0geC5fX2RpY3RfX1xuICAgIGlmIGhhc2F0dHIoeSwgXCdfX3NldHN0YXRlX19cJyk6XG4gICAgICAgIHkuX19zZXRzdGF0ZV9fKHN0YXRlKVxuICAgIGVsc2U6XG4gICAgICAgIHkuX19kaWN0X18udXBkYXRlKHN0YXRlKVxuICAgIHJldHVybiB5XG5cbmQgPSBfZGVlcGNvcHlfZGlzcGF0Y2ggPSB7fVxuXG5kZWYgZGVlcGNvcHkoeCwgbWVtbz1Ob25lLCBfbmlsPVtdKTpcbiAgICAiIiJEZWVwIGNvcHkgb3BlcmF0aW9uIG9uIGFyYml0cmFyeSBQeXRob24gb2JqZWN0cy5cbiAgICBTZWUgdGhlIG1vZHVsZVwncyBfX2RvY19fIHN0cmluZyBmb3IgbW9yZSBpbmZvLlxuICAgICIiIlxuICAgIGlmIG1lbW8gaXMgTm9uZTpcbiAgICAgICAgbWVtbyA9IHt9XG4gICAgaWR4ID0gaWQoeClcbiAgICB5ID0gbWVtby5nZXQoaWR4LCBfbmlsKVxuICAgIGlmIHkgaXMgbm90IF9uaWw6XG4gICAgICAgIHJldHVybiB5XG4gICAgY2xzID0gdHlwZSh4KVxuICAgIHRyeTpcbiAgICAgICAgZ2V0c3RhdGUgPSBnZXRhdHRyKHgsICJfX2dldHN0YXRlX18iLCBOb25lKVxuICAgICAgICBzZXRzdGF0ZSA9IGdldGF0dHIoeCwgIl9fc2V0c3RhdGVfXyIsIE5vbmUpXG4gICAgICAgIGluaXRhcmdzID0gZ2V0YXR0cih4LCAiX19nZXRpbml0YXJnc19fIiwgTm9uZSlcbiAgICBleGNlcHQ6XG4gICAgICAgIHJlZHVjdG9yID0gRmFsc2VcbiAgICBpZiBnZXRzdGF0ZSBvciBzZXRzdGF0ZSBvciBpbml0YXJnczpcbiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiU2t1bHB0IGRvZXMgbm90IHlldCBzdXBwb3J0IGNvcHlpbmcgd2l0aCB1c2VyLWRlZmluZWQgX19nZXRzdGF0ZV9fLCBfX3NldHN0YXRlX18gb3IgX19nZXRpbml0YXJnc19fKCkiKVxuICAgIGNvcGllciA9IF9kZWVwY29weV9kaXNwYXRjaC5nZXQoY2xzKVxuICAgIGlmIGNvcGllcjpcbiAgICAgICAgeSA9IGNvcGllcih4LCBtZW1vKVxuICAgIGVsaWYgc3RyKGNscylbMTo2XSA9PSAiY2xhc3MiOlxuICAgICAgICBjb3BpZXIgPSBfZGVlcGNvcHlfZGlzcGF0Y2hbIkluc3RhbmNlVHlwZSJdXG4gICAgICAgIHkgPSBjb3BpZXIoeCwgbWVtbylcbiAgICBlbHNlOlxuICAgICAgICB0cnk6XG4gICAgICAgICAgICBpc3NjID0gaXNzdWJjbGFzcyhjbHMsIHR5cGUpXG4gICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6ICMgY2xzIGlzIG5vdCBhIGNsYXNzIChvbGQgQm9vc3Q7IHNlZSBTRiAjNTAyMDg1KVxuICAgICAgICAgICAgaXNzYyA9IDBcbiAgICAgICAgaWYgaXNzYzpcbiAgICAgICAgICAgIHkgPSBfZGVlcGNvcHlfYXRvbWljKHgsIG1lbW8pXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBjb3BpZXIgPSBnZXRhdHRyKHgsICJfX2RlZXBjb3B5X18iLCBOb25lKVxuICAgICAgICAgICAgaWYgY29waWVyOlxuICAgICAgICAgICAgICAgIHkgPSBjb3BpZXIobWVtbylcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgcmVkdWN0b3IgPSBnZXRhdHRyKHgsICJfX3JlZHVjZV9leF9fIiwgTm9uZSlcbiAgICAgICAgICAgICAgICBpZiByZWR1Y3RvcjpcbiAgICAgICAgICAgICAgICAgICAgcnYgPSByZWR1Y3RvcigyKVxuICAgICAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgICAgIHJlZHVjdG9yID0gZ2V0YXR0cih4LCAiX19yZWR1Y2VfXyIsIE5vbmUpXG4gICAgICAgICAgICAgICAgICAgIGlmIHJlZHVjdG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgcnYgPSByZWR1Y3RvcigpXG4gICAgICAgICAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidW4oZGVlcCljb3B5YWJsZSBvYmplY3Qgb2YgdHlwZSAlcyIgJSBjbHMpXG4gICAgICAgICAgICAgICAgeSA9IF9yZWNvbnN0cnVjdCh4LCBydiwgMSwgbWVtbylcbiAgICBtZW1vW2lkeF0gPSB5XG4gICAgX2tlZXBfYWxpdmUoeCwgbWVtbykgIyBNYWtlIHN1cmUgeCBsaXZlcyBhdCBsZWFzdCBhcyBsb25nIGFzIGRcbiAgICByZXR1cm4geVxuXG5kZWYgX2RlZXBjb3B5X2F0b21pYyh4LCBtZW1vKTpcbiAgICByZXR1cm4geFxuZFt0eXBlKE5vbmUpXSA9IF9kZWVwY29weV9hdG9taWNcbiMgZFt0eXBlKEVsbGlwc2lzKV0gPSBfZGVlcGNvcHlfYXRvbWljXG5kW3R5cGUoTm90SW1wbGVtZW50ZWQpXSA9IF9kZWVwY29weV9hdG9taWNcbmRbaW50XSA9IF9kZWVwY29weV9hdG9taWNcbmRbZmxvYXRdID0gX2RlZXBjb3B5X2F0b21pY1xuZFtib29sXSA9IF9kZWVwY29weV9hdG9taWNcbmRbY29tcGxleF0gPSBfZGVlcGNvcHlfYXRvbWljXG4jIGRbYnl0ZXNdID0gX2RlZXBjb3B5X2F0b21pY1xuZFtzdHJdID0gX2RlZXBjb3B5X2F0b21pY1xuIyB0cnk6XG4jIGRbdHlwZXMuQ29kZVR5cGVdID0gX2RlZXBjb3B5X2F0b21pY1xuIyBleGNlcHQgQXR0cmlidXRlRXJyb3I6XG4jICAgcGFzc1xuZFt0eXBlXSA9IF9kZWVwY29weV9hdG9taWNcbiMgZFt0eXBlcy5CdWlsdGluRnVuY3Rpb25UeXBlXSA9IF9kZWVwY29weV9hdG9taWNcbmRbdHlwZXMuRnVuY3Rpb25UeXBlXSA9IF9kZWVwY29weV9hdG9taWNcbiMgZFt3ZWFrcmVmLnJlZl0gPSBfZGVlcGNvcHlfYXRvbWljXG5cbmRlZiBfZGVlcGNvcHlfbGlzdCh4LCBtZW1vKTpcbiAgICB5ID0gW11cbiAgICBtZW1vW2lkKHgpXSA9IHlcbiAgICBmb3IgYSBpbiB4OlxuICAgICAgICB5LmFwcGVuZChkZWVwY29weShhLCBtZW1vKSlcbiAgICByZXR1cm4geVxuZFtsaXN0XSA9IF9kZWVwY29weV9saXN0XG5cbmRlZiBfZGVlcGNvcHlfc2V0KHgsIG1lbW8pOlxuICAgIHJlc3VsdCA9IHNldChbXSkgICMgbWFrZSBlbXB0eSBzZXRcbiAgICBtZW1vW2lkKHgpXSA9IHJlc3VsdCAgIyByZWdpc3RlciB0aGlzIHNldCBpbiB0aGUgbWVtbyBmb3IgbG9vcCBjaGVja2luZ1xuICAgIGZvciBhIGluIHg6ICAgIyBnbyB0aHJvdWdoIGVsZW1lbnRzIG9mIHNldFxuICAgICAgICByZXN1bHQuYWRkKGRlZXBjb3B5KGEsIG1lbW8pKSAgIyBhZGQgdGhlIGNvcGllZCBlbGVtZW50cyBpbnRvIHRoZSBuZXcgc2V0XG4gICAgcmV0dXJuIHJlc3VsdCAjIHJldHVybiB0aGUgbmV3IHNldFxuZFtzZXRdID0gX2RlZXBjb3B5X3NldFxuXG5kZWYgX2RlZXBjb3B5X3R1cGxlKHgsIG1lbW8pOlxuICAgIHkgPSBbZGVlcGNvcHkoYSwgbWVtbykgZm9yIGEgaW4geF1cbiAgICAjIFdlXCdyZSBub3QgZ29pbmcgdG8gcHV0IHRoZSB0dXBsZSBpbiB0aGUgbWVtbywgYnV0IGl0XCdzIHN0aWxsIGltcG9ydGFudCB3ZVxuICAgICMgY2hlY2sgZm9yIGl0LCBpbiBjYXNlIHRoZSB0dXBsZSBjb250YWlucyByZWN1cnNpdmUgbXV0YWJsZSBzdHJ1Y3R1cmVzLlxuICAgIHRyeTpcbiAgICAgICAgcmV0dXJuIG1lbW9baWQoeCldXG4gICAgZXhjZXB0IEtleUVycm9yOlxuICAgICAgICBwYXNzXG4gICAgZm9yIGssIGogaW4gemlwKHgsIHkpOlxuICAgICAgICBpZiBrIGlzIG5vdCBqOlxuICAgICAgICAgICAgeSA9IHR1cGxlKHkpXG4gICAgICAgICAgICBicmVha1xuICAgIGVsc2U6XG4gICAgICAgIHkgPSB4XG4gICAgcmV0dXJuIHlcbmRbdHVwbGVdID0gX2RlZXBjb3B5X3R1cGxlXG5cbmRlZiBfZGVlcGNvcHlfZGljdCh4LCBtZW1vKTpcbiAgICB5ID0ge31cbiAgICBtZW1vW2lkKHgpXSA9IHlcbiAgICBmb3Iga2V5LCB2YWx1ZSBpbiB4Lml0ZW1zKCk6XG4gICAgICAgIHlbZGVlcGNvcHkoa2V5LCBtZW1vKV0gPSBkZWVwY29weSh2YWx1ZSwgbWVtbylcbiAgICByZXR1cm4geVxuZFtkaWN0XSA9IF9kZWVwY29weV9kaWN0XG5cbiMgZGVmIF9kZWVwY29weV9tZXRob2QoeCwgbWVtbyk6ICMgQ29weSBpbnN0YW5jZSBtZXRob2RzXG4jICAgICB5ID0gdHlwZSh4KSh4LmltX2Z1bmMsIGRlZXBjb3B5KHguaW1fc2VsZiwgbWVtbyksIHguaW1fY2xhc3MpO1xuIyAgICAgcmV0dXJuIHlcbmRbdHlwZXMuTWV0aG9kVHlwZV0gPSBfZGVlcGNvcHlfYXRvbWljXG5cbmRlZiBfZGVlcGNvcHlfaW5zdCh4LCBtZW1vKTpcbiAgICBpZiBoYXNhdHRyKHgsIFwnX19kZWVwY29weV9fXCcpOlxuICAgICAgICAgcmV0dXJuIHguX19kZWVwY29weV9fKG1lbW8pXG4gICAgaWYgaGFzYXR0cih4LCBcJ19fZ2V0aW5pdGFyZ3NfX1wnKTpcbiAgICAgICAgYXJncyA9IHguX19nZXRpbml0YXJnc19fKClcbiAgICAgICAgYXJncyA9IGRlZXBjb3B5KGFyZ3MsIG1lbW8pXG4gICAgICAgIHkgPSB4Ll9fY2xhc3NfXygqYXJncylcbiAgICBlbHNlOlxuICAgICAgICB5ID0gX0VtcHR5Q2xhc3MoKVxuICAgICAgICB5Ll9fY2xhc3NfXyA9IHguX19jbGFzc19fXG4gICAgbWVtb1tpZCh4KV0gPSB5XG4gICAgaWYgaGFzYXR0cih4LCBcJ19fZ2V0c3RhdGVfX1wnKTpcbiAgICAgICAgc3RhdGUgPSB4Ll9fZ2V0c3RhdGVfXygpXG4gICAgZWxzZTpcbiAgICAgICAgc3RhdGUgPSB4Ll9fZGljdF9fXG4gICAgc3RhdGUgPSBkZWVwY29weShzdGF0ZSwgbWVtbylcbiAgICBpZiBoYXNhdHRyKHksIFwnX19zZXRzdGF0ZV9fXCcpOlxuICAgICAgICB5Ll9fc2V0c3RhdGVfXyhzdGF0ZSlcbiAgICBlbHNlOlxuICAgICAgICB5Ll9fZGljdF9fLnVwZGF0ZShzdGF0ZSlcbiAgICAgICAgcmV0dXJuIHlcbmRbIkluc3RhbmNlVHlwZSJdID0gX2RlZXBjb3B5X2luc3RcblxuZGVmIF9rZWVwX2FsaXZlKHgsIG1lbW8pOlxuICAgICIiIktlZXBzIGEgcmVmZXJlbmNlIHRvIHRoZSBvYmplY3QgeCBpbiB0aGUgbWVtby5cbiAgICBCZWNhdXNlIHdlIHJlbWVtYmVyIG9iamVjdHMgYnkgdGhlaXIgaWQsIHdlIGhhdmVcbiAgICB0byBhc3N1cmUgdGhhdCBwb3NzaWJseSB0ZW1wb3Jhcnkgb2JqZWN0cyBhcmUga2VwdFxuICAgIGFsaXZlIGJ5IHJlZmVyZW5jaW5nIHRoZW0uXG4gICAgV2Ugc3RvcmUgYSByZWZlcmVuY2UgYXQgdGhlIGlkIG9mIHRoZSBtZW1vLCB3aGljaCBzaG91bGRcbiAgICBub3JtYWxseSBub3QgYmUgdXNlZCB1bmxlc3Mgc29tZW9uZSB0cmllcyB0byBkZWVwY29weVxuICAgIHRoZSBtZW1vIGl0c2VsZi4uLlxuICAgICIiIlxuICAgIHRyeTpcbiAgICAgICAgbWVtb1tpZChtZW1vKV0uYXBwZW5kKHgpXG4gICAgZXhjZXB0IEtleUVycm9yOlxuICAgICAgICAjIGFoYSwgdGhpcyBpcyB0aGUgZmlyc3Qgb25lIDotKVxuICAgICAgICBtZW1vW2lkKG1lbW8pXT1beF1cblxuZGVmIF9yZWNvbnN0cnVjdCh4LCBpbmZvLCBkZWVwLCBtZW1vPU5vbmUpOlxuICAgIGlmIGlzaW5zdGFuY2UoaW5mbywgc3RyKTpcbiAgICAgICAgcmV0dXJuIHhcbiAgICBhc3NlcnQgaXNpbnN0YW5jZShpbmZvLCB0dXBsZSlcbiAgICBpZiBtZW1vIGlzIE5vbmU6XG4gICAgICAgIG1lbW8gPSB7fVxuICAgIG4gPSBsZW4oaW5mbylcbiAgICBhc3NlcnQgbiBpbiAoMiwgMywgNCwgNSlcbiAgICBjYWxsYWJsZSwgYXJncyA9IGluZm9bOjJdXG4gICAgaWYgbiA+IDI6XG4gICAgICAgIHN0YXRlID0gaW5mb1syXVxuICAgIGVsc2U6XG4gICAgICAgIHN0YXRlID0gTm9uZVxuICAgIGlmIG4gPiAzOlxuICAgICAgICBsaXN0aXRlciA9IGluZm9bM11cbiAgICBlbHNlOlxuICAgICAgICBsaXN0aXRlciA9IE5vbmVcbiAgICBpZiBuID4gNDpcbiAgICAgICAgZGljdGl0ZXIgPSBpbmZvWzRdXG4gICAgZWxzZTpcbiAgICAgICAgZGljdGl0ZXIgPSBOb25lXG4gICAgaWYgZGVlcDpcbiAgICAgICAgYXJncyA9IGRlZXBjb3B5KGFyZ3MsIG1lbW8pXG4gICAgeSA9IGNhbGxhYmxlKCphcmdzKVxuICAgIG1lbW9baWQoeCldID0geVxuXG4gICAgaWYgc3RhdGUgaXMgbm90IE5vbmU6XG4gICAgICAgIGlmIGRlZXA6XG4gICAgICAgICAgICBzdGF0ZSA9IGRlZXBjb3B5KHN0YXRlLCBtZW1vKVxuICAgICAgICBpZiBoYXNhdHRyKHksIFwnX19zZXRzdGF0ZV9fXCcpOlxuICAgICAgICAgICAgeS5fX3NldHN0YXRlX18oc3RhdGUpXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBpZiBpc2luc3RhbmNlKHN0YXRlLCB0dXBsZSkgYW5kIGxlbihzdGF0ZSkgPT0gMjpcbiAgICAgICAgICAgICAgICBzdGF0ZSwgc2xvdHN0YXRlID0gc3RhdGVcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgc2xvdHN0YXRlID0gTm9uZVxuICAgICAgICAgICAgaWYgc3RhdGUgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICAgICAgeS5fX2RpY3RfXy51cGRhdGUoc3RhdGUpXG4gICAgICAgICAgICBpZiBzbG90c3RhdGUgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gc2xvdHN0YXRlLml0ZW1zKCk6XG4gICAgICAgICAgICAgICAgICAgIHNldGF0dHIoeSwga2V5LCB2YWx1ZSlcblxuICAgIGlmIGxpc3RpdGVyIGlzIG5vdCBOb25lOlxuICAgICAgICBmb3IgaXRlbSBpbiBsaXN0aXRlcjpcbiAgICAgICAgICAgIGlmIGRlZXA6XG4gICAgICAgICAgICAgICAgaXRlbSA9IGRlZXBjb3B5KGl0ZW0sIG1lbW8pXG4gICAgICAgICAgICB5LmFwcGVuZChpdGVtKVxuICAgIGlmIGRpY3RpdGVyIGlzIG5vdCBOb25lOlxuICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBkaWN0aXRlcjpcbiAgICAgICAgICAgIGlmIGRlZXA6XG4gICAgICAgICAgICAgICAga2V5ID0gZGVlcGNvcHkoa2V5LCBtZW1vKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVlcGNvcHkodmFsdWUsIG1lbW8pXG4gICAgICAgICAgICB5W2tleV0gPSB2YWx1ZVxuICAgIHJldHVybiB5XG5cbmRlbCBkXG5cbmRlbCB0eXBlc1xuXG4jIEhlbHBlciBmb3IgaW5zdGFuY2UgY3JlYXRpb24gd2l0aG91dCBjYWxsaW5nIF9faW5pdF9fXG5jbGFzcyBfRW1wdHlDbGFzczpcbiAgICBwYXNzJywKICAgICJzcmMvbGliL2NvcHlfcmVnLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImNvcHlfcmVnIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jc3YucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiY3N2IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jdHlwZXMvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiY3R5cGVzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9jdHlwZXMvbWFjaG9saWIvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibWFjaG9saWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2N1cnNlcy9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJjdXJzZXMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2RhdGV0aW1lLnB5IjoKICAgICAgJyIiIkNvbmNyZXRlIGRhdGUvdGltZSBhbmQgcmVsYXRlZCB0eXBlcyAtLSBwcm90b3R5cGUgaW1wbGVtZW50ZWQgaW4gUHl0aG9uLlxuXG5TZWUgaHR0cDovL3d3dy56b3BlLm9yZy9NZW1iZXJzL2ZkcmFrZS9EYXRlVGltZVdpa2kvRnJvbnRQYWdlXG5cblNlZSBhbHNvIGh0dHA6Ly9kaXIueWFob28uY29tL1JlZmVyZW5jZS9jYWxlbmRhcnMvXG5cbkZvciBhIHByaW1lciBvbiBEU1QsIGluY2x1ZGluZyBtYW55IGN1cnJlbnQgRFNUIHJ1bGVzLCBzZWVcbmh0dHA6Ly93ZWJleGhpYml0cy5vcmcvZGF5bGlnaHRzYXZpbmcvXG5cbkZvciBtb3JlIGFib3V0IERTVCB0aGFuIHlvdSBldmVyIHdhbnRlZCB0byBrbm93LCBzZWVcbmZ0cDovL2Vsc2llLm5jaS5uaWguZ292L3B1Yi9cblxuU291cmNlcyBmb3IgdGltZSB6b25lIGFuZCBEU1QgZGF0YTogaHR0cDovL3d3dy50d2luc3VuLmNvbS90ei90ei1saW5rLmh0bVxuXG5UaGlzIHdhcyBvcmlnaW5hbGx5IGNvcGllZCBmcm9tIHRoZSBzYW5kYm94IG9mIHRoZSBDUHl0aG9uIENWUyByZXBvc2l0b3J5LlxuVGhhbmtzIHRvIFRpbSBQZXRlcnMgZm9yIHN1Z2dlc3RpbmcgdXNpbmcgaXQuXG5cblRoaXMgd2FzIHRoZW4gY29waWVkIGZyb20gUHlQeSB2NS4xLjAgaW50byBTa3VscHQgYnkgTWVyZWR5ZGQgTHVmZiwgcmVtb3ZpbmdcblwnZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBkaXZpc2lvblwnIChhbmQgcmVwbGFjaW5nIGRpdmlzaW9uIG9wZXJhdG9ycyBhY2NvcmRpbmdseSlcbmFuZCBwaWNrbGUgc3VwcG9ydCAod2hpY2ggcmVxdWlyZXMgXCdzdHJ1Y3RcJywgd2hpY2ggU2t1bHB0IGRvZXMgbm90IGN1cnJlbnRseVxuW2FzIG9mIDMxLzgvMjAxNl0gaGF2ZSlcbiIiIlxuXG5pbXBvcnQgdGltZSBhcyBfdGltZVxuaW1wb3J0IG1hdGggYXMgX21hdGhcblxuX1NFTlRJTkVMID0gb2JqZWN0KClcblxuZGVmIF9jbXAoeCwgeSk6XG4gICAgcmV0dXJuIDAgaWYgeCA9PSB5IGVsc2UgMSBpZiB4ID4geSBlbHNlIC0xXG5cbmRlZiBfcm91bmQoeCk6XG4gICAgcmV0dXJuIGludChfbWF0aC5mbG9vcih4ICsgMC41KSBpZiB4ID49IDAuMCBlbHNlIF9tYXRoLmNlaWwoeCAtIDAuNSkpXG5cbk1JTllFQVIgPSAxXG5NQVhZRUFSID0gOTk5OVxuX01JTllFQVJGTVQgPSAxOTAwXG5cbl9NQVhfREVMVEFfREFZUyA9IDk5OTk5OTk5OVxuXG4jIFV0aWxpdHkgZnVuY3Rpb25zLCBhZGFwdGVkIGZyb20gUHl0aG9uXCdzIERlbW8vY2xhc3Nlcy9EYXRlcy5weSwgd2hpY2hcbiMgYWxzbyBhc3N1bWVzIHRoZSBjdXJyZW50IEdyZWdvcmlhbiBjYWxlbmRhciBpbmRlZmluaXRlbHkgZXh0ZW5kZWQgaW5cbiMgYm90aCBkaXJlY3Rpb25zLiAgRGlmZmVyZW5jZTogIERhdGVzLnB5IGNhbGxzIEphbnVhcnkgMSBvZiB5ZWFyIDAgZGF5XG4jIG51bWJlciAxLiAgVGhlIGNvZGUgaGVyZSBjYWxscyBKYW51YXJ5IDEgb2YgeWVhciAxIGRheSBudW1iZXIgMS4gIFRoaXMgaXNcbiMgdG8gbWF0Y2ggdGhlIGRlZmluaXRpb24gb2YgdGhlICJwcm9sZXB0aWMgR3JlZ29yaWFuIiBjYWxlbmRhciBpbiBEZXJzaG93aXR6XG4jIGFuZCBSZWluZ29sZFwncyAiQ2FsZW5kcmljYWwgQ2FsY3VsYXRpb25zIiwgd2hlcmUgaXRcJ3MgdGhlIGJhc2UgY2FsZW5kYXJcbiMgZm9yIGFsbCBjb21wdXRhdGlvbnMuICBTZWUgdGhlIGJvb2sgZm9yIGFsZ29yaXRobXMgZm9yIGNvbnZlcnRpbmcgYmV0d2VlblxuIyBwcm9sZXB0aWMgR3JlZ29yaWFuIG9yZGluYWxzIGFuZCBtYW55IG90aGVyIGNhbGVuZGFyIHN5c3RlbXMuXG5cbl9EQVlTX0lOX01PTlRIID0gWy0xLCAzMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXVxuXG5fREFZU19CRUZPUkVfTU9OVEggPSBbLTFdXG5kYm0gPSAwXG5mb3IgZGltIGluIF9EQVlTX0lOX01PTlRIWzE6XTpcbiAgICBfREFZU19CRUZPUkVfTU9OVEguYXBwZW5kKGRibSlcbiAgICBkYm0gKz0gZGltXG5kZWwgZGJtLCBkaW1cblxuZGVmIF9pc19sZWFwKHllYXIpOlxuICAgICJ5ZWFyIC0+IDEgaWYgbGVhcCB5ZWFyLCBlbHNlIDAuIlxuICAgIHJldHVybiB5ZWFyICUgNCA9PSAwIGFuZCAoeWVhciAlIDEwMCAhPSAwIG9yIHllYXIgJSA0MDAgPT0gMClcblxuZGVmIF9kYXlzX2JlZm9yZV95ZWFyKHllYXIpOlxuICAgICJ5ZWFyIC0+IG51bWJlciBvZiBkYXlzIGJlZm9yZSBKYW51YXJ5IDFzdCBvZiB5ZWFyLiJcbiAgICB5ID0geWVhciAtIDFcbiAgICByZXR1cm4geSozNjUgKyB5Ly80IC0geS8vMTAwICsgeS8vNDAwXG5cbmRlZiBfZGF5c19pbl9tb250aCh5ZWFyLCBtb250aCk6XG4gICAgInllYXIsIG1vbnRoIC0+IG51bWJlciBvZiBkYXlzIGluIHRoYXQgbW9udGggaW4gdGhhdCB5ZWFyLiJcbiAgICBhc3NlcnQgMSA8PSBtb250aCA8PSAxMiwgbW9udGhcbiAgICBpZiBtb250aCA9PSAyIGFuZCBfaXNfbGVhcCh5ZWFyKTpcbiAgICAgICAgcmV0dXJuIDI5XG4gICAgcmV0dXJuIF9EQVlTX0lOX01PTlRIW21vbnRoXVxuXG5kZWYgX2RheXNfYmVmb3JlX21vbnRoKHllYXIsIG1vbnRoKTpcbiAgICAieWVhciwgbW9udGggLT4gbnVtYmVyIG9mIGRheXMgaW4geWVhciBwcmVjZWRpbmcgZmlyc3QgZGF5IG9mIG1vbnRoLiJcbiAgICBhc3NlcnQgMSA8PSBtb250aCA8PSAxMiwgXCdtb250aCBtdXN0IGJlIGluIDEuLjEyXCdcbiAgICByZXR1cm4gX0RBWVNfQkVGT1JFX01PTlRIW21vbnRoXSArIChtb250aCA+IDIgYW5kIF9pc19sZWFwKHllYXIpKVxuXG5kZWYgX3ltZDJvcmQoeWVhciwgbW9udGgsIGRheSk6XG4gICAgInllYXIsIG1vbnRoLCBkYXkgLT4gb3JkaW5hbCwgY29uc2lkZXJpbmcgMDEtSmFuLTAwMDEgYXMgZGF5IDEuIlxuICAgIGFzc2VydCAxIDw9IG1vbnRoIDw9IDEyLCBcJ21vbnRoIG11c3QgYmUgaW4gMS4uMTJcJ1xuICAgIGRpbSA9IF9kYXlzX2luX21vbnRoKHllYXIsIG1vbnRoKVxuICAgIGFzc2VydCAxIDw9IGRheSA8PSBkaW0sIChcJ2RheSBtdXN0IGJlIGluIDEuLiVkXCcgJSBkaW0pXG4gICAgcmV0dXJuIChfZGF5c19iZWZvcmVfeWVhcih5ZWFyKSArXG4gICAgICAgICAgICBfZGF5c19iZWZvcmVfbW9udGgoeWVhciwgbW9udGgpICtcbiAgICAgICAgICAgIGRheSlcblxuX0RJNDAwWSA9IF9kYXlzX2JlZm9yZV95ZWFyKDQwMSkgICAgIyBudW1iZXIgb2YgZGF5cyBpbiA0MDAgeWVhcnNcbl9ESTEwMFkgPSBfZGF5c19iZWZvcmVfeWVhcigxMDEpICAgICMgICAgIiAgICAiICAgIiAgICIgMTAwICAgIlxuX0RJNFkgICA9IF9kYXlzX2JlZm9yZV95ZWFyKDUpICAgICAgIyAgICAiICAgICIgICAiICAgIiAgIDQgICAiXG5cbiMgQSA0LXllYXIgY3ljbGUgaGFzIGFuIGV4dHJhIGxlYXAgZGF5IG92ZXIgd2hhdCB3ZVwnZCBnZXQgZnJvbSBwYXN0aW5nXG4jIHRvZ2V0aGVyIDQgc2luZ2xlIHllYXJzLlxuYXNzZXJ0IF9ESTRZID09IDQgKiAzNjUgKyAxXG5cbiMgU2ltaWxhcmx5LCBhIDQwMC15ZWFyIGN5Y2xlIGhhcyBhbiBleHRyYSBsZWFwIGRheSBvdmVyIHdoYXQgd2VcJ2QgZ2V0IGZyb21cbiMgcGFzdGluZyB0b2dldGhlciA0IDEwMC15ZWFyIGN5Y2xlcy5cbmFzc2VydCBfREk0MDBZID09IDQgKiBfREkxMDBZICsgMVxuXG4jIE9UT0gsIGEgMTAwLXllYXIgY3ljbGUgaGFzIG9uZSBmZXdlciBsZWFwIGRheSB0aGFuIHdlXCdkIGdldCBmcm9tXG4jIHBhc3RpbmcgdG9nZXRoZXIgMjUgNC15ZWFyIGN5Y2xlcy5cbmFzc2VydCBfREkxMDBZID09IDI1ICogX0RJNFkgLSAxXG5cbl9VU19QRVJfVVMgPSAxXG5fVVNfUEVSX01TID0gMTAwMFxuX1VTX1BFUl9TRUNPTkQgPSAxMDAwMDAwXG5fVVNfUEVSX01JTlVURSA9IDYwMDAwMDAwXG5fU0VDT05EU19QRVJfREFZID0gMjQgKiAzNjAwXG5fVVNfUEVSX0hPVVIgPSAzNjAwMDAwMDAwXG5fVVNfUEVSX0RBWSA9IDg2NDAwMDAwMDAwXG5fVVNfUEVSX1dFRUsgPSA2MDQ4MDAwMDAwMDBcblxuZGVmIF9vcmQyeW1kKG4pOlxuICAgICJvcmRpbmFsIC0+ICh5ZWFyLCBtb250aCwgZGF5KSwgY29uc2lkZXJpbmcgMDEtSmFuLTAwMDEgYXMgZGF5IDEuIlxuXG4gICAgIyBuIGlzIGEgMS1iYXNlZCBpbmRleCwgc3RhcnRpbmcgYXQgMS1KYW4tMS4gIFRoZSBwYXR0ZXJuIG9mIGxlYXAgeWVhcnNcbiAgICAjIHJlcGVhdHMgZXhhY3RseSBldmVyeSA0MDAgeWVhcnMuICBUaGUgYmFzaWMgc3RyYXRlZ3kgaXMgdG8gZmluZCB0aGVcbiAgICAjIGNsb3Nlc3QgNDAwLXllYXIgYm91bmRhcnkgYXQgb3IgYmVmb3JlIG4sIHRoZW4gd29yayB3aXRoIHRoZSBvZmZzZXRcbiAgICAjIGZyb20gdGhhdCBib3VuZGFyeSB0byBuLiAgTGlmZSBpcyBtdWNoIGNsZWFyZXIgaWYgd2Ugc3VidHJhY3QgMSBmcm9tXG4gICAgIyBuIGZpcnN0IC0tIHRoZW4gdGhlIHZhbHVlcyBvZiBuIGF0IDQwMC15ZWFyIGJvdW5kYXJpZXMgYXJlIGV4YWN0bHlcbiAgICAjIHRob3NlIGRpdmlzaWJsZSBieSBfREk0MDBZOlxuICAgICNcbiAgICAjICAgICBEICBNICAgWSAgICAgICAgICAgIG4gICAgICAgICAgICAgIG4tMVxuICAgICMgICAgIC0tIC0tLSAtLS0tICAgICAgICAtLS0tLS0tLS0tICAgICAtLS0tLS0tLS0tLS0tLS0tXG4gICAgIyAgICAgMzEgRGVjIC00MDAgICAgICAgIC1fREk0MDBZICAgICAgIC1fREk0MDBZIC0xXG4gICAgIyAgICAgIDEgSmFuIC0zOTkgICAgICAgICAtX0RJNDAwWSArMSAgIC1fREk0MDBZICAgICAgNDAwLXllYXIgYm91bmRhcnlcbiAgICAjICAgICAuLi5cbiAgICAjICAgICAzMCBEZWMgIDAwMCAgICAgICAgLTEgICAgICAgICAgICAgLTJcbiAgICAjICAgICAzMSBEZWMgIDAwMCAgICAgICAgIDAgICAgICAgICAgICAgLTFcbiAgICAjICAgICAgMSBKYW4gIDAwMSAgICAgICAgIDEgICAgICAgICAgICAgIDAgICAgICAgICAgICA0MDAteWVhciBib3VuZGFyeVxuICAgICMgICAgICAyIEphbiAgMDAxICAgICAgICAgMiAgICAgICAgICAgICAgMVxuICAgICMgICAgICAzIEphbiAgMDAxICAgICAgICAgMyAgICAgICAgICAgICAgMlxuICAgICMgICAgIC4uLlxuICAgICMgICAgIDMxIERlYyAgNDAwICAgICAgICAgX0RJNDAwWSAgICAgICAgX0RJNDAwWSAtMVxuICAgICMgICAgICAxIEphbiAgNDAxICAgICAgICAgX0RJNDAwWSArMSAgICAgX0RJNDAwWSAgICAgIDQwMC15ZWFyIGJvdW5kYXJ5XG4gICAgbiAtPSAxXG4gICAgbjQwMCwgbiA9IGRpdm1vZChuLCBfREk0MDBZKVxuICAgIHllYXIgPSBuNDAwICogNDAwICsgMSAgICMgLi4uLCAtMzk5LCAxLCA0MDEsIC4uLlxuXG4gICAgIyBOb3cgbiBpcyB0aGUgKG5vbi1uZWdhdGl2ZSkgb2Zmc2V0LCBpbiBkYXlzLCBmcm9tIEphbnVhcnkgMSBvZiB5ZWFyLCB0b1xuICAgICMgdGhlIGRlc2lyZWQgZGF0ZS4gIE5vdyBjb21wdXRlIGhvdyBtYW55IDEwMC15ZWFyIGN5Y2xlcyBwcmVjZWRlIG4uXG4gICAgIyBOb3RlIHRoYXQgaXRcJ3MgcG9zc2libGUgZm9yIG4xMDAgdG8gZXF1YWwgNCEgIEluIHRoYXQgY2FzZSA0IGZ1bGxcbiAgICAjIDEwMC15ZWFyIGN5Y2xlcyBwcmVjZWRlIHRoZSBkZXNpcmVkIGRheSwgd2hpY2ggaW1wbGllcyB0aGUgZGVzaXJlZFxuICAgICMgZGF5IGlzIERlY2VtYmVyIDMxIGF0IHRoZSBlbmQgb2YgYSA0MDAteWVhciBjeWNsZS5cbiAgICBuMTAwLCBuID0gZGl2bW9kKG4sIF9ESTEwMFkpXG5cbiAgICAjIE5vdyBjb21wdXRlIGhvdyBtYW55IDQteWVhciBjeWNsZXMgcHJlY2VkZSBpdC5cbiAgICBuNCwgbiA9IGRpdm1vZChuLCBfREk0WSlcblxuICAgICMgQW5kIG5vdyBob3cgbWFueSBzaW5nbGUgeWVhcnMuICBBZ2FpbiBuMSBjYW4gYmUgNCwgYW5kIGFnYWluIG1lYW5pbmdcbiAgICAjIHRoYXQgdGhlIGRlc2lyZWQgZGF5IGlzIERlY2VtYmVyIDMxIGF0IHRoZSBlbmQgb2YgdGhlIDQteWVhciBjeWNsZS5cbiAgICBuMSwgbiA9IGRpdm1vZChuLCAzNjUpXG5cbiAgICB5ZWFyICs9IG4xMDAgKiAxMDAgKyBuNCAqIDQgKyBuMVxuICAgIGlmIG4xID09IDQgb3IgbjEwMCA9PSA0OlxuICAgICAgICBhc3NlcnQgbiA9PSAwXG4gICAgICAgIHJldHVybiB5ZWFyLTEsIDEyLCAzMVxuXG4gICAgIyBOb3cgdGhlIHllYXIgaXMgY29ycmVjdCwgYW5kIG4gaXMgdGhlIG9mZnNldCBmcm9tIEphbnVhcnkgMS4gIFdlIGZpbmRcbiAgICAjIHRoZSBtb250aCB2aWEgYW4gZXN0aW1hdGUgdGhhdFwncyBlaXRoZXIgZXhhY3Qgb3Igb25lIHRvbyBsYXJnZS5cbiAgICBsZWFweWVhciA9IG4xID09IDMgYW5kIChuNCAhPSAyNCBvciBuMTAwID09IDMpXG4gICAgYXNzZXJ0IGxlYXB5ZWFyID09IF9pc19sZWFwKHllYXIpXG4gICAgbW9udGggPSAobiArIDUwKSA+PiA1XG4gICAgcHJlY2VkaW5nID0gX0RBWVNfQkVGT1JFX01PTlRIW21vbnRoXSArIChtb250aCA+IDIgYW5kIGxlYXB5ZWFyKVxuICAgIGlmIHByZWNlZGluZyA+IG46ICAjIGVzdGltYXRlIGlzIHRvbyBsYXJnZVxuICAgICAgICBtb250aCAtPSAxXG4gICAgICAgIHByZWNlZGluZyAtPSBfREFZU19JTl9NT05USFttb250aF0gKyAobW9udGggPT0gMiBhbmQgbGVhcHllYXIpXG4gICAgbiAtPSBwcmVjZWRpbmdcbiAgICBhc3NlcnQgMCA8PSBuIDwgX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpXG5cbiAgICAjIE5vdyB0aGUgeWVhciBhbmQgbW9udGggYXJlIGNvcnJlY3QsIGFuZCBuIGlzIHRoZSBvZmZzZXQgZnJvbSB0aGVcbiAgICAjIHN0YXJ0IG9mIHRoYXQgbW9udGg6ICB3ZVwncmUgZG9uZSFcbiAgICByZXR1cm4geWVhciwgbW9udGgsIG4rMVxuXG4jIE1vbnRoIGFuZCBkYXkgbmFtZXMuICBGb3IgbG9jYWxpemVkIHZlcnNpb25zLCBzZWUgdGhlIGNhbGVuZGFyIG1vZHVsZS5cbl9NT05USE5BTUVTID0gW05vbmUsICJKYW4iLCAiRmViIiwgIk1hciIsICJBcHIiLCAiTWF5IiwgIkp1biIsXG4gICAgICAgICAgICAgICAgICAgICAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXVxuX0RBWU5BTUVTID0gW05vbmUsICJNb24iLCAiVHVlIiwgIldlZCIsICJUaHUiLCAiRnJpIiwgIlNhdCIsICJTdW4iXVxuXG5cbmRlZiBfYnVpbGRfc3RydWN0X3RpbWUoeSwgbSwgZCwgaGgsIG1tLCBzcywgZHN0ZmxhZyk6XG4gICAgd2RheSA9IChfeW1kMm9yZCh5LCBtLCBkKSArIDYpICUgN1xuICAgIGRudW0gPSBfZGF5c19iZWZvcmVfbW9udGgoeSwgbSkgKyBkXG4gICAgcmV0dXJuIF90aW1lLnN0cnVjdF90aW1lKCh5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZGF5LCBkbnVtLCBkc3RmbGFnKSlcblxuZGVmIF9mb3JtYXRfdGltZShoaCwgbW0sIHNzLCB1cyk6XG4gICAgIyBTa2lwIHRyYWlsaW5nIG1pY3Jvc2Vjb25kcyB3aGVuIHVzPT0wLlxuICAgIHJlc3VsdCA9ICIlMDJkOiUwMmQ6JTAyZCIgJSAoaGgsIG1tLCBzcylcbiAgICBpZiB1czpcbiAgICAgICAgcmVzdWx0ICs9ICIuJTA2ZCIgJSB1c1xuICAgIHJldHVybiByZXN1bHRcblxuIyBDb3JyZWN0bHkgc3Vic3RpdHV0ZSBmb3IgJXogYW5kICVaIGVzY2FwZXMgaW4gc3RyZnRpbWUgZm9ybWF0cy5cbmRlZiBfd3JhcF9zdHJmdGltZShvYmplY3QsIGZvcm1hdCwgdGltZXR1cGxlKTpcbiAgICB5ZWFyID0gdGltZXR1cGxlWzBdXG4gICAgaWYgeWVhciA8IF9NSU5ZRUFSRk1UOlxuICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJ5ZWFyPSVkIGlzIGJlZm9yZSAlZDsgdGhlIGRhdGV0aW1lIHN0cmZ0aW1lKCkgIlxuICAgICAgICAgICAgICAgICAgICAgICAgICJtZXRob2RzIHJlcXVpcmUgeWVhciA+PSAlZCIgJVxuICAgICAgICAgICAgICAgICAgICAgICAgICh5ZWFyLCBfTUlOWUVBUkZNVCwgX01JTllFQVJGTVQpKVxuICAgICMgRG9uXCd0IGNhbGwgdXRjb2Zmc2V0KCkgb3IgdHpuYW1lKCkgdW5sZXNzIGFjdHVhbGx5IG5lZWRlZC5cbiAgICBmcmVwbGFjZSA9IE5vbmUgICMgdGhlIHN0cmluZyB0byB1c2UgZm9yICVmXG4gICAgenJlcGxhY2UgPSBOb25lICAjIHRoZSBzdHJpbmcgdG8gdXNlIGZvciAlelxuICAgIFpyZXBsYWNlID0gTm9uZSAgIyB0aGUgc3RyaW5nIHRvIHVzZSBmb3IgJVpcblxuICAgICMgU2NhbiBmb3JtYXQgZm9yICV6IGFuZCAlWiBlc2NhcGVzLCByZXBsYWNpbmcgYXMgbmVlZGVkLlxuICAgIG5ld2Zvcm1hdCA9IFtdXG4gICAgcHVzaCA9IG5ld2Zvcm1hdC5hcHBlbmRcbiAgICBpLCBuID0gMCwgbGVuKGZvcm1hdClcbiAgICB3aGlsZSBpIDwgbjpcbiAgICAgICAgY2ggPSBmb3JtYXRbaV1cbiAgICAgICAgaSArPSAxXG4gICAgICAgIGlmIGNoID09IFwnJVwnOlxuICAgICAgICAgICAgaWYgaSA8IG46XG4gICAgICAgICAgICAgICAgY2ggPSBmb3JtYXRbaV1cbiAgICAgICAgICAgICAgICBpICs9IDFcbiAgICAgICAgICAgICAgICBpZiBjaCA9PSBcJ2ZcJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgZnJlcGxhY2UgaXMgTm9uZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyZXBsYWNlID0gXCclMDZkXCcgJSBnZXRhdHRyKG9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ21pY3Jvc2Vjb25kXCcsIDApXG4gICAgICAgICAgICAgICAgICAgIG5ld2Zvcm1hdC5hcHBlbmQoZnJlcGxhY2UpXG4gICAgICAgICAgICAgICAgZWxpZiBjaCA9PSBcJ3pcJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgenJlcGxhY2UgaXMgTm9uZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHpyZXBsYWNlID0gIiJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIob2JqZWN0LCAiX3V0Y29mZnNldCIpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IG9iamVjdC5fdXRjb2Zmc2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvZmZzZXQgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24gPSBcJytcJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvZmZzZXQgPCAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbiA9IFwnLVwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgsIG0gPSBkaXZtb2Qob2Zmc2V0LCA2MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgenJlcGxhY2UgPSBcJyVjJTAyZCUwMmRcJyAlIChzaWduLCBoLCBtKVxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQgXCclXCcgbm90IGluIHpyZXBsYWNlXG4gICAgICAgICAgICAgICAgICAgIG5ld2Zvcm1hdC5hcHBlbmQoenJlcGxhY2UpXG4gICAgICAgICAgICAgICAgZWxpZiBjaCA9PSBcJ1pcJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgWnJlcGxhY2UgaXMgTm9uZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIFpyZXBsYWNlID0gIiJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIob2JqZWN0LCAidHpuYW1lIik6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG9iamVjdC50em5hbWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHMgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgc3RyZnRpbWUgaXMgZ29pbmcgdG8gaGF2ZSBhdCB0aGlzOiBlc2NhcGUgJVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBacmVwbGFjZSA9IHMucmVwbGFjZShcJyVcJywgXCclJVwnKVxuICAgICAgICAgICAgICAgICAgICBuZXdmb3JtYXQuYXBwZW5kKFpyZXBsYWNlKVxuICAgICAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgICAgIHB1c2goXCclXCcpXG4gICAgICAgICAgICAgICAgICAgIHB1c2goY2gpXG4gICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgIHB1c2goXCclXCcpXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBwdXNoKGNoKVxuICAgIG5ld2Zvcm1hdCA9ICIiLmpvaW4obmV3Zm9ybWF0KVxuICAgIHJldHVybiBfdGltZS5zdHJmdGltZShuZXdmb3JtYXQsIHRpbWV0dXBsZSlcblxuIyBKdXN0IHJhaXNlIFR5cGVFcnJvciBpZiB0aGUgYXJnIGlzblwndCBOb25lIG9yIGEgc3RyaW5nLlxuZGVmIF9jaGVja190em5hbWUobmFtZSk6XG4gICAgaWYgbmFtZSBpcyBub3QgTm9uZSBhbmQgbm90IGlzaW5zdGFuY2UobmFtZSwgc3RyKTpcbiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0emluZm8udHpuYW1lKCkgbXVzdCByZXR1cm4gTm9uZSBvciBzdHJpbmcsICJcbiAgICAgICAgICAgICAgICAgICAgICAgICJub3QgXCclc1wnIiAlIHR5cGUobmFtZSkpXG5cbiMgbmFtZSBpcyB0aGUgb2Zmc2V0LXByb2R1Y2luZyBtZXRob2QsICJ1dGNvZmZzZXQiIG9yICJkc3QiLlxuIyBvZmZzZXQgaXMgd2hhdCBpdCByZXR1cm5lZC5cbiMgSWYgb2Zmc2V0IGlzblwndCBOb25lIG9yIHRpbWVkZWx0YSwgcmFpc2VzIFR5cGVFcnJvci5cbiMgSWYgb2Zmc2V0IGlzIE5vbmUsIHJldHVybnMgTm9uZS5cbiMgRWxzZSBvZmZzZXQgaXMgY2hlY2tlZCBmb3IgYmVpbmcgaW4gcmFuZ2UsIGFuZCBhIHdob2xlICMgb2YgbWludXRlcy5cbiMgSWYgaXQgaXMsIGl0cyBpbnRlZ2VyIHZhbHVlIGlzIHJldHVybmVkLiAgRWxzZSBWYWx1ZUVycm9yIGlzIHJhaXNlZC5cbmRlZiBfY2hlY2tfdXRjX29mZnNldChuYW1lLCBvZmZzZXQpOlxuICAgIGFzc2VydCBuYW1lIGluICgidXRjb2Zmc2V0IiwgImRzdCIpXG4gICAgaWYgb2Zmc2V0IGlzIE5vbmU6XG4gICAgICAgIHJldHVyblxuICAgIGlmIG5vdCBpc2luc3RhbmNlKG9mZnNldCwgdGltZWRlbHRhKTpcbiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0emluZm8uJXMoKSBtdXN0IHJldHVybiBOb25lICJcbiAgICAgICAgICAgICAgICAgICAgICAgICJvciB0aW1lZGVsdGEsIG5vdCBcJyVzXCciICUgKG5hbWUsIHR5cGUob2Zmc2V0KSkpXG4gICAgZGF5cyA9IG9mZnNldC5kYXlzXG4gICAgaWYgZGF5cyA8IC0xIG9yIGRheXMgPiAwOlxuICAgICAgICBvZmZzZXQgPSAxNDQwICAjIHRyaWdnZXIgb3V0LW9mLXJhbmdlXG4gICAgZWxzZTpcbiAgICAgICAgc2Vjb25kcyA9IGRheXMgKiA4NjQwMCArIG9mZnNldC5zZWNvbmRzXG4gICAgICAgIG1pbnV0ZXMsIHNlY29uZHMgPSBkaXZtb2Qoc2Vjb25kcywgNjApXG4gICAgICAgIGlmIHNlY29uZHMgb3Igb2Zmc2V0Lm1pY3Jvc2Vjb25kczpcbiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInR6aW5mby4lcygpIG11c3QgcmV0dXJuIGEgd2hvbGUgbnVtYmVyICJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9mIG1pbnV0ZXMiICUgbmFtZSlcbiAgICAgICAgb2Zmc2V0ID0gbWludXRlc1xuICAgIGlmIG5vdCAtMTQ0MCA8IG9mZnNldCA8IDE0NDA6XG4gICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIiVzKCk9JWQsIG11c3QgYmUgaW4gLTE0MzkuLjE0MzkiICUgKG5hbWUsIG9mZnNldCkpXG4gICAgcmV0dXJuIG9mZnNldFxuXG5kZWYgX2NoZWNrX2ludF9maWVsZCh2YWx1ZSk6XG4gICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgaW50KTpcbiAgICAgICAgcmV0dXJuIGludCh2YWx1ZSlcbiAgICBpZiBub3QgaXNpbnN0YW5jZSh2YWx1ZSwgZmxvYXQpOlxuICAgICAgICB0cnk6XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLl9faW50X18oKVxuICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6XG4gICAgICAgICAgICBwYXNzXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBpbnQpOlxuICAgICAgICAgICAgICAgIHJldHVybiBpbnQodmFsdWUpXG4gICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UodmFsdWUsIGxvbmcpOlxuICAgICAgICAgICAgICAgIHJldHVybiBpbnQobG9uZyh2YWx1ZSkpXG4gICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoXCdfX2ludF9fIG1ldGhvZCBzaG91bGQgcmV0dXJuIGFuIGludGVnZXJcJylcbiAgICAgICAgcmFpc2UgVHlwZUVycm9yKFwnYW4gaW50ZWdlciBpcyByZXF1aXJlZFwnKVxuICAgIHJhaXNlIFR5cGVFcnJvcihcJ2ludGVnZXIgYXJndW1lbnQgZXhwZWN0ZWQsIGdvdCBmbG9hdFwnKVxuXG5kZWYgX2NoZWNrX2RhdGVfZmllbGRzKHllYXIsIG1vbnRoLCBkYXkpOlxuICAgIHllYXIgPSBfY2hlY2tfaW50X2ZpZWxkKHllYXIpXG4gICAgbW9udGggPSBfY2hlY2tfaW50X2ZpZWxkKG1vbnRoKVxuICAgIGRheSA9IF9jaGVja19pbnRfZmllbGQoZGF5KVxuICAgIGlmIG5vdCBNSU5ZRUFSIDw9IHllYXIgPD0gTUFYWUVBUjpcbiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihcJ3llYXIgbXVzdCBiZSBpbiAlZC4uJWRcJyAlIChNSU5ZRUFSLCBNQVhZRUFSKSwgeWVhcilcbiAgICBpZiBub3QgMSA8PSBtb250aCA8PSAxMjpcbiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihcJ21vbnRoIG11c3QgYmUgaW4gMS4uMTJcJywgbW9udGgpXG4gICAgZGltID0gX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpXG4gICAgaWYgbm90IDEgPD0gZGF5IDw9IGRpbTpcbiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihcJ2RheSBtdXN0IGJlIGluIDEuLiVkXCcgJSBkaW0sIGRheSlcbiAgICByZXR1cm4geWVhciwgbW9udGgsIGRheVxuXG5kZWYgX2NoZWNrX3RpbWVfZmllbGRzKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZCk6XG4gICAgaG91ciA9IF9jaGVja19pbnRfZmllbGQoaG91cilcbiAgICBtaW51dGUgPSBfY2hlY2tfaW50X2ZpZWxkKG1pbnV0ZSlcbiAgICBzZWNvbmQgPSBfY2hlY2tfaW50X2ZpZWxkKHNlY29uZClcbiAgICBtaWNyb3NlY29uZCA9IF9jaGVja19pbnRfZmllbGQobWljcm9zZWNvbmQpXG4gICAgaWYgbm90IDAgPD0gaG91ciA8PSAyMzpcbiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihcJ2hvdXIgbXVzdCBiZSBpbiAwLi4yM1wnLCBob3VyKVxuICAgIGlmIG5vdCAwIDw9IG1pbnV0ZSA8PSA1OTpcbiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihcJ21pbnV0ZSBtdXN0IGJlIGluIDAuLjU5XCcsIG1pbnV0ZSlcbiAgICBpZiBub3QgMCA8PSBzZWNvbmQgPD0gNTk6XG4gICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoXCdzZWNvbmQgbXVzdCBiZSBpbiAwLi41OVwnLCBzZWNvbmQpXG4gICAgaWYgbm90IDAgPD0gbWljcm9zZWNvbmQgPD0gOTk5OTk5OlxuICAgICAgICByYWlzZSBWYWx1ZUVycm9yKFwnbWljcm9zZWNvbmQgbXVzdCBiZSBpbiAwLi45OTk5OTlcJywgbWljcm9zZWNvbmQpXG4gICAgcmV0dXJuIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZFxuXG5kZWYgX2NoZWNrX3R6aW5mb19hcmcodHopOlxuICAgIGlmIHR6IGlzIG5vdCBOb25lIGFuZCBub3QgaXNpbnN0YW5jZSh0eiwgdHppbmZvKTpcbiAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0emluZm8gYXJndW1lbnQgbXVzdCBiZSBOb25lIG9yIG9mIGEgdHppbmZvIHN1YmNsYXNzIilcblxuXG4jIE5vdGVzIG9uIGNvbXBhcmlzb246ICBJbiBnZW5lcmFsLCBkYXRldGltZSBtb2R1bGUgY29tcGFyaXNvbiBvcGVyYXRvcnMgcmFpc2VcbiMgVHlwZUVycm9yIHdoZW4gdGhleSBkb25cJ3Qga25vdyBob3cgdG8gZG8gYSBjb21wYXJpc29uIHRoZW1zZWxmLiAgSWYgdGhleVxuIyByZXR1cm5lZCBOb3RJbXBsZW1lbnRlZCBpbnN0ZWFkLCBjb21wYXJpc29uIGNvdWxkIChzaWxlbnRseSkgZmFsbCBiYWNrIHRvXG4jIHRoZSBkZWZhdWx0IGNvbXBhcmUtb2JqZWN0cy1ieS1jb21wYXJpbmctdGhlaXItbWVtb3J5LWFkZHJlc3NlcyBzdHJhdGVneSxcbiMgYW5kIHRoYXRcJ3Mgbm90IGhlbHBmdWwuICBUaGVyZSBhcmUgdHdvIGV4Y2VwdGlvbnM6XG4jXG4jIDEuIEZvciBkYXRlIGFuZCBkYXRldGltZSwgaWYgdGhlIG90aGVyIG9iamVjdCBoYXMgYSAidGltZXR1cGxlIiBhdHRyLFxuIyAgICBOb3RJbXBsZW1lbnRlZCBpcyByZXR1cm5lZC4gIFRoaXMgaXMgYSBob29rIHRvIGFsbG93IG90aGVyIGtpbmRzIG9mXG4jICAgIGRhdGV0aW1lLWxpa2Ugb2JqZWN0cyBhIGNoYW5jZSB0byBpbnRlcmNlcHQgdGhlIGNvbXBhcmlzb24uXG4jXG4jIDIuIEVsc2UgX19lcV9fIGFuZCBfX25lX18gcmV0dXJuIEZhbHNlIGFuZCBUcnVlLCByZXNwZWN0aXZlbHkuICBUaGlzIGlzXG4jICAgIHNvIG9wZXJ0YWlvbnMgbGlrZVxuI1xuIyAgICAgICAgeCA9PSB5XG4jICAgICAgICB4ICE9IHlcbiMgICAgICAgIHggaW4gc2VxdWVuY2VcbiMgICAgICAgIHggbm90IGluIHNlcXVlbmNlXG4jICAgICAgICBkaWN0W3hdID0geVxuI1xuIyAgICBkb25cJ3QgcmFpc2UgYW5ub3lpbmcgVHlwZUVycm9ycyBqdXN0IGJlY2F1c2UgYSBkYXRldGltZSBvYmplY3RcbiMgICAgaXMgcGFydCBvZiBhIGhldGVyb2dlbmVvdXMgY29sbGVjdGlvbi4gIElmIHRoZXJlXCdzIG5vIGtub3duIHdheSB0b1xuIyAgICBjb21wYXJlIFggdG8gYSBkYXRldGltZSwgc2F5aW5nIHRoZXlcJ3JlIG5vdCBlcXVhbCBpcyByZWFzb25hYmxlLlxuXG5kZWYgX2NtcGVycm9yKHgsIHkpOlxuICAgIHJhaXNlIFR5cGVFcnJvcigiY2FuXCd0IGNvbXBhcmUgXCclc1wnIHRvIFwnJXNcJyIgJSAoXG4gICAgICAgICAgICAgICAgICAgIHR5cGUoeCkuX19uYW1lX18sIHR5cGUoeSkuX19uYW1lX18pKVxuXG5kZWYgX25vcm1hbGl6ZV9wYWlyKGhpLCBsbywgZmFjdG9yKTpcbiAgICBpZiBub3QgMCA8PSBsbyA8PSBmYWN0b3ItMTpcbiAgICAgICAgaW5jLCBsbyA9IGRpdm1vZChsbywgZmFjdG9yKVxuICAgICAgICBoaSArPSBpbmNcbiAgICByZXR1cm4gaGksIGxvXG5cbmRlZiBfbm9ybWFsaXplX2RhdGV0aW1lKHksIG0sIGQsIGhoLCBtbSwgc3MsIHVzLCBpZ25vcmVfb3ZlcmZsb3c9RmFsc2UpOlxuICAgICMgTm9ybWFsaXplIGFsbCB0aGUgaW5wdXRzLCBhbmQgc3RvcmUgdGhlIG5vcm1hbGl6ZWQgdmFsdWVzLlxuICAgIHNzLCB1cyA9IF9ub3JtYWxpemVfcGFpcihzcywgdXMsIDEwMDAwMDApXG4gICAgbW0sIHNzID0gX25vcm1hbGl6ZV9wYWlyKG1tLCBzcywgNjApXG4gICAgaGgsIG1tID0gX25vcm1hbGl6ZV9wYWlyKGhoLCBtbSwgNjApXG4gICAgZCwgaGggPSBfbm9ybWFsaXplX3BhaXIoZCwgaGgsIDI0KVxuICAgIHksIG0sIGQgPSBfbm9ybWFsaXplX2RhdGUoeSwgbSwgZCwgaWdub3JlX292ZXJmbG93KVxuICAgIHJldHVybiB5LCBtLCBkLCBoaCwgbW0sIHNzLCB1c1xuXG5kZWYgX25vcm1hbGl6ZV9kYXRlKHllYXIsIG1vbnRoLCBkYXksIGlnbm9yZV9vdmVyZmxvdz1GYWxzZSk6XG4gICAgIyBUaGF0IHdhcyBlYXN5LiAgTm93IGl0IGdldHMgbXVkZHk6ICB0aGUgcHJvcGVyIHJhbmdlIGZvciBkYXlcbiAgICAjIGNhblwndCBiZSBkZXRlcm1pbmVkIHdpdGhvdXQga25vd2luZyB0aGUgY29ycmVjdCBtb250aCBhbmQgeWVhcixcbiAgICAjIGJ1dCBpZiBkYXkgaXMsIGUuZy4sIHBsdXMgb3IgbWludXMgYSBtaWxsaW9uLCB0aGUgY3VycmVudCBtb250aFxuICAgICMgYW5kIHllYXIgdmFsdWVzIG1ha2Ugbm8gc2Vuc2UgKGFuZCBtYXkgYWxzbyBiZSBvdXQgb2YgYm91bmRzXG4gICAgIyB0aGVtc2VsdmVzKS5cbiAgICAjIFNheWluZyAxMiBtb250aHMgPT0gMSB5ZWFyIHNob3VsZCBiZSBub24tY29udHJvdmVyc2lhbC5cbiAgICBpZiBub3QgMSA8PSBtb250aCA8PSAxMjpcbiAgICAgICAgeWVhciwgbW9udGggPSBfbm9ybWFsaXplX3BhaXIoeWVhciwgbW9udGgtMSwgMTIpXG4gICAgICAgIG1vbnRoICs9IDFcbiAgICAgICAgYXNzZXJ0IDEgPD0gbW9udGggPD0gMTJcblxuICAgICMgTm93IG9ubHkgZGF5IGNhbiBiZSBvdXQgb2YgYm91bmRzICh5ZWFyIG1heSBhbHNvIGJlIG91dCBvZiBib3VuZHNcbiAgICAjIGZvciBhIGRhdGV0aW1lIG9iamVjdCwgYnV0IHdlIGRvblwndCBjYXJlIGFib3V0IHRoYXQgaGVyZSkuXG4gICAgIyBJZiBkYXkgaXMgb3V0IG9mIGJvdW5kcywgd2hhdCB0byBkbyBpcyBhcmd1YWJsZSwgYnV0IGF0IGxlYXN0IHRoZVxuICAgICMgbWV0aG9kIGhlcmUgaXMgcHJpbmNpcGxlZCBhbmQgZXhwbGFpbmFibGUuXG4gICAgZGltID0gX2RheXNfaW5fbW9udGgoeWVhciwgbW9udGgpXG4gICAgaWYgbm90IDEgPD0gZGF5IDw9IGRpbTpcbiAgICAgICAgIyBNb3ZlIGRheS0xIGRheXMgZnJvbSB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLiAgRmlyc3QgdHJ5IHRvXG4gICAgICAgICMgZ2V0IG9mZiBjaGVhcCBpZiB3ZVwncmUgb25seSBvbmUgZGF5IG91dCBvZiByYW5nZSAoYWRqdXN0bWVudHNcbiAgICAgICAgIyBmb3IgdGltZXpvbmUgYWxvbmUgY2FuXCd0IGJlIHdvcnNlIHRoYW4gdGhhdCkuXG4gICAgICAgIGlmIGRheSA9PSAwOiAgICAjIG1vdmUgYmFjayBhIGRheVxuICAgICAgICAgICAgbW9udGggLT0gMVxuICAgICAgICAgICAgaWYgbW9udGggPiAwOlxuICAgICAgICAgICAgICAgIGRheSA9IF9kYXlzX2luX21vbnRoKHllYXIsIG1vbnRoKVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICB5ZWFyLCBtb250aCwgZGF5ID0geWVhci0xLCAxMiwgMzFcbiAgICAgICAgZWxpZiBkYXkgPT0gZGltICsgMTogICAgIyBtb3ZlIGZvcndhcmQgYSBkYXlcbiAgICAgICAgICAgIG1vbnRoICs9IDFcbiAgICAgICAgICAgIGRheSA9IDFcbiAgICAgICAgICAgIGlmIG1vbnRoID4gMTI6XG4gICAgICAgICAgICAgICAgbW9udGggPSAxXG4gICAgICAgICAgICAgICAgeWVhciArPSAxXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBvcmRpbmFsID0gX3ltZDJvcmQoeWVhciwgbW9udGgsIDEpICsgKGRheSAtIDEpXG4gICAgICAgICAgICB5ZWFyLCBtb250aCwgZGF5ID0gX29yZDJ5bWQob3JkaW5hbClcblxuICAgIGlmIG5vdCBpZ25vcmVfb3ZlcmZsb3cgYW5kIG5vdCBNSU5ZRUFSIDw9IHllYXIgPD0gTUFYWUVBUjpcbiAgICAgICAgcmFpc2UgT3ZlcmZsb3dFcnJvcigiZGF0ZSB2YWx1ZSBvdXQgb2YgcmFuZ2UiKVxuICAgIHJldHVybiB5ZWFyLCBtb250aCwgZGF5XG5cbmRlZiBfYWNjdW0odGFnLCBzb2ZhciwgbnVtLCBmYWN0b3IsIGxlZnRvdmVyKTpcbiAgICBpZiBpc2luc3RhbmNlKG51bSwgKGludCwgbG9uZykpOlxuICAgICAgICBwcm9kID0gbnVtICogZmFjdG9yXG4gICAgICAgIHJzdW0gPSBzb2ZhciArIHByb2RcbiAgICAgICAgcmV0dXJuIHJzdW0sIGxlZnRvdmVyXG4gICAgaWYgaXNpbnN0YW5jZShudW0sIGZsb2F0KTpcbiAgICAgICAgZnJhY3BhcnQsIGludHBhcnQgPSBfbWF0aC5tb2RmKG51bSlcbiAgICAgICAgcHJvZCA9IGludChpbnRwYXJ0KSAqIGZhY3RvclxuICAgICAgICByc3VtID0gc29mYXIgKyBwcm9kXG4gICAgICAgIGlmIGZyYWNwYXJ0ID09IDAuMDpcbiAgICAgICAgICAgIHJldHVybiByc3VtLCBsZWZ0b3ZlclxuICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShmYWN0b3IsIChpbnQsIGxvbmcpKVxuICAgICAgICBmcmFjcGFydCwgaW50cGFydCA9IF9tYXRoLm1vZGYoZmFjdG9yICogZnJhY3BhcnQpXG4gICAgICAgIHJzdW0gKz0gaW50KGludHBhcnQpXG4gICAgICAgIHJldHVybiByc3VtLCBsZWZ0b3ZlciArIGZyYWNwYXJ0XG4gICAgcmFpc2UgVHlwZUVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlIGZvciB0aW1lZGVsdGEgJXMgY29tcG9uZW50OiAlcyIgJVxuICAgICAgICAgICAgICAgICAgICAodGFnLCB0eXBlKG51bSkpKVxuXG5jbGFzcyB0aW1lZGVsdGEob2JqZWN0KTpcbiAgICAiIiJSZXByZXNlbnQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gZGF0ZXRpbWUgb2JqZWN0cy5cblxuICAgIFN1cHBvcnRlZCBvcGVyYXRvcnM6XG5cbiAgICAtIGFkZCwgc3VidHJhY3QgdGltZWRlbHRhXG4gICAgLSB1bmFyeSBwbHVzLCBtaW51cywgYWJzXG4gICAgLSBjb21wYXJlIHRvIHRpbWVkZWx0YVxuICAgIC0gbXVsdGlwbHksIGRpdmlkZSBieSBpbnQvbG9uZ1xuXG4gICAgSW4gYWRkaXRpb24sIGRhdGV0aW1lIHN1cHBvcnRzIHN1YnRyYWN0aW9uIG9mIHR3byBkYXRldGltZSBvYmplY3RzXG4gICAgcmV0dXJuaW5nIGEgdGltZWRlbHRhLCBhbmQgYWRkaXRpb24gb3Igc3VidHJhY3Rpb24gb2YgYSBkYXRldGltZVxuICAgIGFuZCBhIHRpbWVkZWx0YSBnaXZpbmcgYSBkYXRldGltZS5cblxuICAgIFJlcHJlc2VudGF0aW9uOiAoZGF5cywgc2Vjb25kcywgbWljcm9zZWNvbmRzKS4gIFdoeT8gIEJlY2F1c2UgSVxuICAgIGZlbHQgbGlrZSBpdC5cbiAgICAiIiJcbiAgICBfX3Nsb3RzX18gPSBcJ19kYXlzXCcsIFwnX3NlY29uZHNcJywgXCdfbWljcm9zZWNvbmRzXCcsIFwnX2hhc2hjb2RlXCdcblxuICAgIGRlZiBfX25ld19fKGNscywgZGF5cz1fU0VOVElORUwsIHNlY29uZHM9X1NFTlRJTkVMLCBtaWNyb3NlY29uZHM9X1NFTlRJTkVMLFxuICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kcz1fU0VOVElORUwsIG1pbnV0ZXM9X1NFTlRJTkVMLCBob3Vycz1fU0VOVElORUwsIHdlZWtzPV9TRU5USU5FTCk6XG4gICAgICAgIHggPSAwXG4gICAgICAgIGxlZnRvdmVyID0gMC4wXG4gICAgICAgIGlmIG1pY3Jvc2Vjb25kcyBpcyBub3QgX1NFTlRJTkVMOlxuICAgICAgICAgICAgeCwgbGVmdG92ZXIgPSBfYWNjdW0oIm1pY3Jvc2Vjb25kcyIsIHgsIG1pY3Jvc2Vjb25kcywgX1VTX1BFUl9VUywgbGVmdG92ZXIpXG4gICAgICAgIGlmIG1pbGxpc2Vjb25kcyBpcyBub3QgX1NFTlRJTkVMOlxuICAgICAgICAgICAgeCwgbGVmdG92ZXIgPSBfYWNjdW0oIm1pbGxpc2Vjb25kcyIsIHgsIG1pbGxpc2Vjb25kcywgX1VTX1BFUl9NUywgbGVmdG92ZXIpXG4gICAgICAgIGlmIHNlY29uZHMgaXMgbm90IF9TRU5USU5FTDpcbiAgICAgICAgICAgIHgsIGxlZnRvdmVyID0gX2FjY3VtKCJzZWNvbmRzIiwgeCwgc2Vjb25kcywgX1VTX1BFUl9TRUNPTkQsIGxlZnRvdmVyKVxuICAgICAgICBpZiBtaW51dGVzIGlzIG5vdCBfU0VOVElORUw6XG4gICAgICAgICAgICB4LCBsZWZ0b3ZlciA9IF9hY2N1bSgibWludXRlcyIsIHgsIG1pbnV0ZXMsIF9VU19QRVJfTUlOVVRFLCBsZWZ0b3ZlcilcbiAgICAgICAgaWYgaG91cnMgaXMgbm90IF9TRU5USU5FTDpcbiAgICAgICAgICAgIHgsIGxlZnRvdmVyID0gX2FjY3VtKCJob3VycyIsIHgsIGhvdXJzLCBfVVNfUEVSX0hPVVIsIGxlZnRvdmVyKVxuICAgICAgICBpZiBkYXlzIGlzIG5vdCBfU0VOVElORUw6XG4gICAgICAgICAgICB4LCBsZWZ0b3ZlciA9IF9hY2N1bSgiZGF5cyIsIHgsIGRheXMsIF9VU19QRVJfREFZLCBsZWZ0b3ZlcilcbiAgICAgICAgaWYgd2Vla3MgaXMgbm90IF9TRU5USU5FTDpcbiAgICAgICAgICAgIHgsIGxlZnRvdmVyID0gX2FjY3VtKCJ3ZWVrcyIsIHgsIHdlZWtzLCBfVVNfUEVSX1dFRUssIGxlZnRvdmVyKVxuICAgICAgICBpZiBsZWZ0b3ZlciAhPSAwLjA6XG4gICAgICAgICAgICB4ICs9IF9yb3VuZChsZWZ0b3ZlcilcbiAgICAgICAgcmV0dXJuIGNscy5fZnJvbV9taWNyb3NlY29uZHMoeClcblxuICAgIEBjbGFzc21ldGhvZFxuICAgIGRlZiBfZnJvbV9taWNyb3NlY29uZHMoY2xzLCB1cyk6XG4gICAgICAgIHMsIHVzID0gZGl2bW9kKHVzLCBfVVNfUEVSX1NFQ09ORClcbiAgICAgICAgZCwgcyA9IGRpdm1vZChzLCBfU0VDT05EU19QRVJfREFZKVxuICAgICAgICByZXR1cm4gY2xzLl9jcmVhdGUoZCwgcywgdXMsIEZhbHNlKVxuXG4gICAgQGNsYXNzbWV0aG9kXG4gICAgZGVmIF9jcmVhdGUoY2xzLCBkLCBzLCB1cywgbm9ybWFsaXplKTpcbiAgICAgICAgaWYgbm9ybWFsaXplOlxuICAgICAgICAgICAgcywgdXMgPSBfbm9ybWFsaXplX3BhaXIocywgdXMsIDEwMDAwMDApXG4gICAgICAgICAgICBkLCBzID0gX25vcm1hbGl6ZV9wYWlyKGQsIHMsIDI0KjM2MDApXG5cbiAgICAgICAgaWYgbm90IC1fTUFYX0RFTFRBX0RBWVMgPD0gZCA8PSBfTUFYX0RFTFRBX0RBWVM6XG4gICAgICAgICAgICByYWlzZSBPdmVyZmxvd0Vycm9yKCJkYXlzPSVkOyBtdXN0IGhhdmUgbWFnbml0dWRlIDw9ICVkIiAlIChkLCBfTUFYX0RFTFRBX0RBWVMpKVxuXG4gICAgICAgIHNlbGYgPSBvYmplY3QuX19uZXdfXyhjbHMpXG4gICAgICAgIHNlbGYuX2RheXMgPSBkXG4gICAgICAgIHNlbGYuX3NlY29uZHMgPSBzXG4gICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyA9IHVzXG4gICAgICAgIHNlbGYuX2hhc2hjb2RlID0gLTFcbiAgICAgICAgcmV0dXJuIHNlbGZcblxuICAgIGRlZiBfdG9fbWljcm9zZWNvbmRzKHNlbGYpOlxuICAgICAgICByZXR1cm4gKChzZWxmLl9kYXlzICogX1NFQ09ORFNfUEVSX0RBWSArIHNlbGYuX3NlY29uZHMpICogX1VTX1BFUl9TRUNPTkQgK1xuICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcylcblxuICAgIGRlZiBfX3JlcHJfXyhzZWxmKTpcbiAgICAgICAgbW9kdWxlID0gImRhdGV0aW1lLiIgaWYgc2VsZi5fX2NsYXNzX18gaXMgdGltZWRlbHRhIGVsc2UgIiJcbiAgICAgICAgaWYgc2VsZi5fbWljcm9zZWNvbmRzOlxuICAgICAgICAgICAgcmV0dXJuICIlcyglZCwgJWQsICVkKSIgJSAobW9kdWxlICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcylcbiAgICAgICAgaWYgc2VsZi5fc2Vjb25kczpcbiAgICAgICAgICAgIHJldHVybiAiJXMoJWQsICVkKSIgJSAobW9kdWxlICsgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RheXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NlY29uZHMpXG4gICAgICAgIHJldHVybiAiJXMoJWQpIiAlIChtb2R1bGUgKyBzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywgc2VsZi5fZGF5cylcblxuICAgIGRlZiBfX3N0cl9fKHNlbGYpOlxuICAgICAgICBtbSwgc3MgPSBkaXZtb2Qoc2VsZi5fc2Vjb25kcywgNjApXG4gICAgICAgIGhoLCBtbSA9IGRpdm1vZChtbSwgNjApXG4gICAgICAgIHMgPSAiJWQ6JTAyZDolMDJkIiAlIChoaCwgbW0sIHNzKVxuICAgICAgICBpZiBzZWxmLl9kYXlzOlxuICAgICAgICAgICAgZGVmIHBsdXJhbChuKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbiwgYWJzKG4pICE9IDEgYW5kICJzIiBvciAiIlxuICAgICAgICAgICAgcyA9ICgiJWQgZGF5JXMsICIgJSBwbHVyYWwoc2VsZi5fZGF5cykpICsgc1xuICAgICAgICBpZiBzZWxmLl9taWNyb3NlY29uZHM6XG4gICAgICAgICAgICBzID0gcyArICIuJTA2ZCIgJSBzZWxmLl9taWNyb3NlY29uZHNcbiAgICAgICAgcmV0dXJuIHNcblxuICAgIGRlZiB0b3RhbF9zZWNvbmRzKHNlbGYpOlxuICAgICAgICAiIiJUb3RhbCBzZWNvbmRzIGluIHRoZSBkdXJhdGlvbi4iIiJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3RvX21pY3Jvc2Vjb25kcygpIC8gMTAuMCoqNlxuXG4gICAgIyBSZWFkLW9ubHkgZmllbGQgYWNjZXNzb3JzXG4gICAgQHByb3BlcnR5XG4gICAgZGVmIGRheXMoc2VsZik6XG4gICAgICAgICIiImRheXMiIiJcbiAgICAgICAgcmV0dXJuIHNlbGYuX2RheXNcblxuICAgIEBwcm9wZXJ0eVxuICAgIGRlZiBzZWNvbmRzKHNlbGYpOlxuICAgICAgICAiIiJzZWNvbmRzIiIiXG4gICAgICAgIHJldHVybiBzZWxmLl9zZWNvbmRzXG5cbiAgICBAcHJvcGVydHlcbiAgICBkZWYgbWljcm9zZWNvbmRzKHNlbGYpOlxuICAgICAgICAiIiJtaWNyb3NlY29uZHMiIiJcbiAgICAgICAgcmV0dXJuIHNlbGYuX21pY3Jvc2Vjb25kc1xuXG4gICAgZGVmIF9fYWRkX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOlxuICAgICAgICAgICAgIyBmb3IgQ1B5dGhvbiBjb21wYXRpYmlsaXR5LCB3ZSBjYW5ub3QgdXNlXG4gICAgICAgICAgICAjIG91ciBfX2NsYXNzX18gaGVyZSwgYnV0IG5lZWQgYSByZWFsIHRpbWVkZWx0YVxuICAgICAgICAgICAgcmV0dXJuIHRpbWVkZWx0YS5fY3JlYXRlKHNlbGYuX2RheXMgKyBvdGhlci5fZGF5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzICsgb3RoZXIuX3NlY29uZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmRzICsgb3RoZXIuX21pY3Jvc2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcnVlKVxuICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWRcblxuICAgIGRlZiBfX3N1Yl9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKTpcbiAgICAgICAgICAgICMgZm9yIENQeXRob24gY29tcGF0aWJpbGl0eSwgd2UgY2Fubm90IHVzZVxuICAgICAgICAgICAgIyBvdXIgX19jbGFzc19fIGhlcmUsIGJ1dCBuZWVkIGEgcmVhbCB0aW1lZGVsdGFcbiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEuX2NyZWF0ZShzZWxmLl9kYXlzIC0gb3RoZXIuX2RheXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyAtIG90aGVyLl9zZWNvbmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyAtIG90aGVyLl9taWNyb3NlY29uZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJ1ZSlcbiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG5cbiAgICBkZWYgX19uZWdfXyhzZWxmKTpcbiAgICAgICAgIyBmb3IgQ1B5dGhvbiBjb21wYXRpYmlsaXR5LCB3ZSBjYW5ub3QgdXNlXG4gICAgICAgICMgb3VyIF9fY2xhc3NfXyBoZXJlLCBidXQgbmVlZCBhIHJlYWwgdGltZWRlbHRhXG4gICAgICAgIHJldHVybiB0aW1lZGVsdGEuX2NyZWF0ZSgtc2VsZi5fZGF5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC1zZWxmLl9zZWNvbmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLXNlbGYuX21pY3Jvc2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRydWUpXG5cbiAgICBkZWYgX19wb3NfXyhzZWxmKTpcbiAgICAgICAgIyBmb3IgQ1B5dGhvbiBjb21wYXRpYmlsaXR5LCB3ZSBjYW5ub3QgdXNlXG4gICAgICAgICMgb3VyIF9fY2xhc3NfXyBoZXJlLCBidXQgbmVlZCBhIHJlYWwgdGltZWRlbHRhXG4gICAgICAgIHJldHVybiB0aW1lZGVsdGEuX2NyZWF0ZShzZWxmLl9kYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZhbHNlKVxuXG4gICAgZGVmIF9fYWJzX18oc2VsZik6XG4gICAgICAgIGlmIHNlbGYuX2RheXMgPCAwOlxuICAgICAgICAgICAgcmV0dXJuIC1zZWxmXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gc2VsZlxuXG4gICAgZGVmIF9fbXVsX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgKGludCwgbG9uZykpOlxuICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG4gICAgICAgIHVzZWMgPSBzZWxmLl90b19taWNyb3NlY29uZHMoKVxuICAgICAgICByZXR1cm4gdGltZWRlbHRhLl9mcm9tX21pY3Jvc2Vjb25kcyh1c2VjICogb3RoZXIpXG5cbiAgICBfX3JtdWxfXyA9IF9fbXVsX19cblxuICAgIGRlZiBfX2Rpdl9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIChpbnQsIGxvbmcpKTpcbiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZFxuICAgICAgICB1c2VjID0gc2VsZi5fdG9fbWljcm9zZWNvbmRzKClcbiAgICAgICAgcmV0dXJuIHRpbWVkZWx0YS5fZnJvbV9taWNyb3NlY29uZHModXNlYyAvLyBvdGhlcilcblxuICAgIF9fZmxvb3JkaXZfXyA9IF9fZGl2X19cblxuICAgICMgQ29tcGFyaXNvbnMgb2YgdGltZWRlbHRhIG9iamVjdHMgd2l0aCBvdGhlci5cblxuICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPT0gMFxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcmV0dXJuIEZhbHNlXG5cbiAgICBkZWYgX19uZV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpICE9IDBcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHJldHVybiBUcnVlXG5cbiAgICBkZWYgX19sZV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDw9IDBcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcilcblxuICAgIGRlZiBfX2x0X18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPCAwXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpXG5cbiAgICBkZWYgX19nZV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDBcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcilcblxuICAgIGRlZiBfX2d0X18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPiAwXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpXG5cbiAgICBkZWYgX2NtcChzZWxmLCBvdGhlcik6XG4gICAgICAgIGFzc2VydCBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpXG4gICAgICAgIHJldHVybiBfY21wKHNlbGYuX2dldHN0YXRlKCksIG90aGVyLl9nZXRzdGF0ZSgpKVxuXG4gICAgZGVmIF9faGFzaF9fKHNlbGYpOlxuICAgICAgICBpZiBzZWxmLl9oYXNoY29kZSA9PSAtMTpcbiAgICAgICAgICAgIHNlbGYuX2hhc2hjb2RlID0gaGFzaChzZWxmLl9nZXRzdGF0ZSgpKVxuICAgICAgICByZXR1cm4gc2VsZi5faGFzaGNvZGVcblxuICAgIGRlZiBfX25vbnplcm9fXyhzZWxmKTpcbiAgICAgICAgcmV0dXJuIChzZWxmLl9kYXlzICE9IDAgb3JcbiAgICAgICAgICAgICAgICBzZWxmLl9zZWNvbmRzICE9IDAgb3JcbiAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZHMgIT0gMClcblxudGltZWRlbHRhLm1pbiA9IHRpbWVkZWx0YSgtX01BWF9ERUxUQV9EQVlTKVxudGltZWRlbHRhLm1heCA9IHRpbWVkZWx0YShfTUFYX0RFTFRBX0RBWVMsIDI0KjM2MDAtMSwgMTAwMDAwMC0xKVxudGltZWRlbHRhLnJlc29sdXRpb24gPSB0aW1lZGVsdGEobWljcm9zZWNvbmRzPTEpXG5cbmNsYXNzIGRhdGUob2JqZWN0KTpcbiAgICAiIiJDb25jcmV0ZSBkYXRlIHR5cGUuXG5cbiAgICBDb25zdHJ1Y3RvcnM6XG5cbiAgICBfX25ld19fKClcbiAgICBmcm9tdGltZXN0YW1wKClcbiAgICB0b2RheSgpXG4gICAgZnJvbW9yZGluYWwoKVxuXG4gICAgT3BlcmF0b3JzOlxuXG4gICAgX19yZXByX18sIF9fc3RyX19cbiAgICBfX2NtcF9fLCBfX2hhc2hfX1xuICAgIF9fYWRkX18sIF9fcmFkZF9fLCBfX3N1Yl9fIChhZGQvcmFkZCBvbmx5IHdpdGggdGltZWRlbHRhIGFyZylcblxuICAgIE1ldGhvZHM6XG5cbiAgICB0aW1ldHVwbGUoKVxuICAgIHRvb3JkaW5hbCgpXG4gICAgd2Vla2RheSgpXG4gICAgaXNvd2Vla2RheSgpLCBpc29jYWxlbmRhcigpLCBpc29mb3JtYXQoKVxuICAgIGN0aW1lKClcbiAgICBzdHJmdGltZSgpXG5cbiAgICBQcm9wZXJ0aWVzIChyZWFkb25seSk6XG4gICAgeWVhciwgbW9udGgsIGRheVxuICAgICIiIlxuICAgIF9fc2xvdHNfXyA9IFwnX3llYXJcJywgXCdfbW9udGhcJywgXCdfZGF5XCcsIFwnX2hhc2hjb2RlXCdcblxuICAgIGRlZiBfX25ld19fKGNscywgeWVhciwgbW9udGg9Tm9uZSwgZGF5PU5vbmUpOlxuICAgICAgICAiIiJDb25zdHJ1Y3Rvci5cblxuICAgICAgICBBcmd1bWVudHM6XG5cbiAgICAgICAgeWVhciwgbW9udGgsIGRheSAocmVxdWlyZWQsIGJhc2UgMSlcbiAgICAgICAgIiIiXG4gICAgICAgIHllYXIsIG1vbnRoLCBkYXkgPSBfY2hlY2tfZGF0ZV9maWVsZHMoeWVhciwgbW9udGgsIGRheSlcbiAgICAgICAgc2VsZiA9IG9iamVjdC5fX25ld19fKGNscylcbiAgICAgICAgc2VsZi5feWVhciA9IHllYXJcbiAgICAgICAgc2VsZi5fbW9udGggPSBtb250aFxuICAgICAgICBzZWxmLl9kYXkgPSBkYXlcbiAgICAgICAgc2VsZi5faGFzaGNvZGUgPSAtMVxuICAgICAgICByZXR1cm4gc2VsZlxuXG4gICAgIyBBZGRpdGlvbmFsIGNvbnN0cnVjdG9yc1xuXG4gICAgQGNsYXNzbWV0aG9kXG4gICAgZGVmIGZyb210aW1lc3RhbXAoY2xzLCB0KTpcbiAgICAgICAgIkNvbnN0cnVjdCBhIGRhdGUgZnJvbSBhIFBPU0lYIHRpbWVzdGFtcCAobGlrZSB0aW1lLnRpbWUoKSkuIlxuICAgICAgICB5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZWVrZGF5LCBqZGF5LCBkc3QgPSBfdGltZS5sb2NhbHRpbWUodClcbiAgICAgICAgcmV0dXJuIGNscyh5LCBtLCBkKVxuXG4gICAgQGNsYXNzbWV0aG9kXG4gICAgZGVmIHRvZGF5KGNscyk6XG4gICAgICAgICJDb25zdHJ1Y3QgYSBkYXRlIGZyb20gdGltZS50aW1lKCkuIlxuICAgICAgICB0ID0gX3RpbWUudGltZSgpXG4gICAgICAgIHJldHVybiBjbHMuZnJvbXRpbWVzdGFtcCh0KVxuXG4gICAgQGNsYXNzbWV0aG9kXG4gICAgZGVmIGZyb21vcmRpbmFsKGNscywgbik6XG4gICAgICAgICIiIkNvbnRydWN0IGEgZGF0ZSBmcm9tIGEgcHJvbGVwdGljIEdyZWdvcmlhbiBvcmRpbmFsLlxuXG4gICAgICAgIEphbnVhcnkgMSBvZiB5ZWFyIDEgaXMgZGF5IDEuICBPbmx5IHRoZSB5ZWFyLCBtb250aCBhbmQgZGF5IGFyZVxuICAgICAgICBub24temVybyBpbiB0aGUgcmVzdWx0LlxuICAgICAgICAiIiJcbiAgICAgICAgeSwgbSwgZCA9IF9vcmQyeW1kKG4pXG4gICAgICAgIHJldHVybiBjbHMoeSwgbSwgZClcblxuICAgICMgQ29udmVyc2lvbnMgdG8gc3RyaW5nXG5cbiAgICBkZWYgX19yZXByX18oc2VsZik6XG4gICAgICAgICIiIkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS5cblxuICAgICAgICA+Pj4gZHQgPSBkYXRldGltZSgyMDEwLCAxLCAxKVxuICAgICAgICA+Pj4gcmVwcihkdClcbiAgICAgICAgXCdkYXRldGltZS5kYXRldGltZSgyMDEwLCAxLCAxLCAwLCAwKVwnXG5cbiAgICAgICAgPj4+IGR0ID0gZGF0ZXRpbWUoMjAxMCwgMSwgMSwgdHppbmZvPXRpbWV6b25lLnV0YylcbiAgICAgICAgPj4+IHJlcHIoZHQpXG4gICAgICAgIFwnZGF0ZXRpbWUuZGF0ZXRpbWUoMjAxMCwgMSwgMSwgMCwgMCwgdHppbmZvPWRhdGV0aW1lLnRpbWV6b25lLnV0YylcJ1xuICAgICAgICAiIiJcbiAgICAgICAgbW9kdWxlID0gImRhdGV0aW1lLiIgaWYgc2VsZi5fX2NsYXNzX18gaXMgZGF0ZSBlbHNlICIiXG4gICAgICAgIHJldHVybiAiJXMoJWQsICVkLCAlZCkiICUgKG1vZHVsZSArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl95ZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9tb250aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGF5KVxuXG4gICAgIyBYWFggVGhlc2Ugc2hvdWxkblwndCBkZXBlbmQgb24gdGltZS5sb2NhbHRpbWUoKSwgYmVjYXVzZSB0aGF0XG4gICAgIyBjbGlwcyB0aGUgdXNhYmxlIGRhdGVzIHRvIFsxOTcwIC4uIDIwMzgpLiAgQXQgbGVhc3QgY3RpbWUoKSBpc1xuICAgICMgZWFzaWx5IGRvbmUgd2l0aG91dCB1c2luZyBzdHJmdGltZSgpIC0tIHRoYXRcJ3MgYmV0dGVyIHRvbyBiZWNhdXNlXG4gICAgIyBzdHJmdGltZSgiJWMiLCAuLi4pIGlzIGxvY2FsZSBzcGVjaWZpYy5cblxuICAgIGRlZiBjdGltZShzZWxmKTpcbiAgICAgICAgIlJldHVybiBjdGltZSgpIHN0eWxlIHN0cmluZy4iXG4gICAgICAgIHdlZWtkYXkgPSBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3XG4gICAgICAgIHJldHVybiAiJXMgJXMgJTJkIDAwOjAwOjAwICUwNGQiICUgKFxuICAgICAgICAgICAgX0RBWU5BTUVTW3dlZWtkYXldLFxuICAgICAgICAgICAgX01PTlRITkFNRVNbc2VsZi5fbW9udGhdLFxuICAgICAgICAgICAgc2VsZi5fZGF5LCBzZWxmLl95ZWFyKVxuXG4gICAgZGVmIHN0cmZ0aW1lKHNlbGYsIGZvcm1hdCk6XG4gICAgICAgICJGb3JtYXQgdXNpbmcgc3RyZnRpbWUoKS4iXG4gICAgICAgIHJldHVybiBfd3JhcF9zdHJmdGltZShzZWxmLCBmb3JtYXQsIHNlbGYudGltZXR1cGxlKCkpXG5cbiAgICBkZWYgX19mb3JtYXRfXyhzZWxmLCBmbXQpOlxuICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShmbXQsIChzdHIsIHVuaWNvZGUpKTpcbiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIl9fZm9ybWF0X18gZXhwZWN0cyBzdHIgb3IgdW5pY29kZSwgbm90ICVzIiAlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtdC5fX2NsYXNzX18uX19uYW1lX18pXG4gICAgICAgIGlmIGxlbihmbXQpICE9IDA6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zdHJmdGltZShmbXQpXG4gICAgICAgIHJldHVybiBzdHIoc2VsZilcblxuICAgIGRlZiBpc29mb3JtYXQoc2VsZik6XG4gICAgICAgICIiIlJldHVybiB0aGUgZGF0ZSBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIElTTy5cblxuICAgICAgICBUaGlzIGlzIFwnWVlZWS1NTS1ERFwnLlxuXG4gICAgICAgIFJlZmVyZW5jZXM6XG4gICAgICAgIC0gaHR0cDovL3d3dy53My5vcmcvVFIvTk9URS1kYXRldGltZVxuICAgICAgICAtIGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS9pc28tdGltZS5odG1sXG4gICAgICAgICIiIlxuICAgICAgICByZXR1cm4gIiUwNGQtJTAyZC0lMDJkIiAlIChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5KVxuXG4gICAgX19zdHJfXyA9IGlzb2Zvcm1hdFxuXG4gICAgIyBSZWFkLW9ubHkgZmllbGQgYWNjZXNzb3JzXG4gICAgQHByb3BlcnR5XG4gICAgZGVmIHllYXIoc2VsZik6XG4gICAgICAgICIiInllYXIgKDEtOTk5OSkiIiJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3llYXJcblxuICAgIEBwcm9wZXJ0eVxuICAgIGRlZiBtb250aChzZWxmKTpcbiAgICAgICAgIiIibW9udGggKDEtMTIpIiIiXG4gICAgICAgIHJldHVybiBzZWxmLl9tb250aFxuXG4gICAgQHByb3BlcnR5XG4gICAgZGVmIGRheShzZWxmKTpcbiAgICAgICAgIiIiZGF5ICgxLTMxKSIiIlxuICAgICAgICByZXR1cm4gc2VsZi5fZGF5XG5cbiAgICAjIFN0YW5kYXJkIGNvbnZlcnNpb25zLCBfX2NtcF9fLCBfX2hhc2hfXyAoYW5kIGhlbHBlcnMpXG5cbiAgICBkZWYgdGltZXR1cGxlKHNlbGYpOlxuICAgICAgICAiUmV0dXJuIGxvY2FsIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUubG9jYWx0aW1lKCkuIlxuICAgICAgICByZXR1cm4gX2J1aWxkX3N0cnVjdF90aW1lKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgLTEpXG5cbiAgICBkZWYgdG9vcmRpbmFsKHNlbGYpOlxuICAgICAgICAiIiJSZXR1cm4gcHJvbGVwdGljIEdyZWdvcmlhbiBvcmRpbmFsIGZvciB0aGUgeWVhciwgbW9udGggYW5kIGRheS5cblxuICAgICAgICBKYW51YXJ5IDEgb2YgeWVhciAxIGlzIGRheSAxLiAgT25seSB0aGUgeWVhciwgbW9udGggYW5kIGRheSB2YWx1ZXNcbiAgICAgICAgY29udHJpYnV0ZSB0byB0aGUgcmVzdWx0LlxuICAgICAgICAiIiJcbiAgICAgICAgcmV0dXJuIF95bWQyb3JkKHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXkpXG5cbiAgICBkZWYgcmVwbGFjZShzZWxmLCB5ZWFyPU5vbmUsIG1vbnRoPU5vbmUsIGRheT1Ob25lKTpcbiAgICAgICAgIiIiUmV0dXJuIGEgbmV3IGRhdGUgd2l0aCBuZXcgdmFsdWVzIGZvciB0aGUgc3BlY2lmaWVkIGZpZWxkcy4iIiJcbiAgICAgICAgaWYgeWVhciBpcyBOb25lOlxuICAgICAgICAgICAgeWVhciA9IHNlbGYuX3llYXJcbiAgICAgICAgaWYgbW9udGggaXMgTm9uZTpcbiAgICAgICAgICAgIG1vbnRoID0gc2VsZi5fbW9udGhcbiAgICAgICAgaWYgZGF5IGlzIE5vbmU6XG4gICAgICAgICAgICBkYXkgPSBzZWxmLl9kYXlcbiAgICAgICAgcmV0dXJuIGRhdGUoeWVhciwgbW9udGgsIGRheSlcblxuICAgICMgQ29tcGFyaXNvbnMgb2YgZGF0ZSBvYmplY3RzIHdpdGggb3RoZXIuXG5cbiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwXG4gICAgICAgIGVsaWYgaGFzYXR0cihvdGhlciwgInRpbWV0dXBsZSIpOlxuICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gRmFsc2VcblxuICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpICE9IDBcbiAgICAgICAgZWxpZiBoYXNhdHRyKG90aGVyLCAidGltZXR1cGxlIik6XG4gICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWRcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHJldHVybiBUcnVlXG5cbiAgICBkZWYgX19sZV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8PSAwXG4gICAgICAgIGVsaWYgaGFzYXR0cihvdGhlciwgInRpbWV0dXBsZSIpOlxuICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpXG5cbiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDBcbiAgICAgICAgZWxpZiBoYXNhdHRyKG90aGVyLCAidGltZXR1cGxlIik6XG4gICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWRcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcilcblxuICAgIGRlZiBfX2dlX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDBcbiAgICAgICAgZWxpZiBoYXNhdHRyKG90aGVyLCAidGltZXR1cGxlIik6XG4gICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWRcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcilcblxuICAgIGRlZiBfX2d0X18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCBkYXRlKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID4gMFxuICAgICAgICBlbGlmIGhhc2F0dHIob3RoZXIsICJ0aW1ldHVwbGUiKTpcbiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZFxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKVxuXG4gICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOlxuICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSlcbiAgICAgICAgeSwgbSwgZCA9IHNlbGYuX3llYXIsIHNlbGYuX21vbnRoLCBzZWxmLl9kYXlcbiAgICAgICAgeTIsIG0yLCBkMiA9IG90aGVyLl95ZWFyLCBvdGhlci5fbW9udGgsIG90aGVyLl9kYXlcbiAgICAgICAgcmV0dXJuIF9jbXAoKHksIG0sIGQpLCAoeTIsIG0yLCBkMikpXG5cbiAgICBkZWYgX19oYXNoX18oc2VsZik6XG4gICAgICAgICJIYXNoLiJcbiAgICAgICAgaWYgc2VsZi5faGFzaGNvZGUgPT0gLTE6XG4gICAgICAgICAgICBzZWxmLl9oYXNoY29kZSA9IGhhc2goc2VsZi5fZ2V0c3RhdGUoKSlcbiAgICAgICAgcmV0dXJuIHNlbGYuX2hhc2hjb2RlXG5cbiAgICAjIENvbXB1dGF0aW9uc1xuXG4gICAgZGVmIF9hZGRfdGltZWRlbHRhKHNlbGYsIG90aGVyLCBmYWN0b3IpOlxuICAgICAgICB5LCBtLCBkID0gX25vcm1hbGl6ZV9kYXRlKFxuICAgICAgICAgICAgc2VsZi5feWVhcixcbiAgICAgICAgICAgIHNlbGYuX21vbnRoLFxuICAgICAgICAgICAgc2VsZi5fZGF5ICsgb3RoZXIuZGF5cyAqIGZhY3RvcilcbiAgICAgICAgcmV0dXJuIGRhdGUoeSwgbSwgZClcblxuICAgIGRlZiBfX2FkZF9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgIkFkZCBhIGRhdGUgdG8gYSB0aW1lZGVsdGEuIlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lZGVsdGEpOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2FkZF90aW1lZGVsdGEob3RoZXIsIDEpXG4gICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZFxuXG4gICAgX19yYWRkX18gPSBfX2FkZF9fXG5cbiAgICBkZWYgX19zdWJfXyhzZWxmLCBvdGhlcik6XG4gICAgICAgICIiIlN1YnRyYWN0IHR3byBkYXRlcywgb3IgYSBkYXRlIGFuZCBhIHRpbWVkZWx0YS4iIiJcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6XG4gICAgICAgICAgICBkYXlzMSA9IHNlbGYudG9vcmRpbmFsKClcbiAgICAgICAgICAgIGRheXMyID0gb3RoZXIudG9vcmRpbmFsKClcbiAgICAgICAgICAgIHJldHVybiB0aW1lZGVsdGEuX2NyZWF0ZShkYXlzMSAtIGRheXMyLCAwLCAwLCBGYWxzZSlcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZWRlbHRhKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9hZGRfdGltZWRlbHRhKG90aGVyLCAtMSlcbiAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG5cbiAgICBkZWYgd2Vla2RheShzZWxmKTpcbiAgICAgICAgIlJldHVybiBkYXkgb2YgdGhlIHdlZWssIHdoZXJlIE1vbmRheSA9PSAwIC4uLiBTdW5kYXkgPT0gNi4iXG4gICAgICAgIHJldHVybiAoc2VsZi50b29yZGluYWwoKSArIDYpICUgN1xuXG4gICAgIyBEYXktb2YtdGhlLXdlZWsgYW5kIHdlZWstb2YtdGhlLXllYXIsIGFjY29yZGluZyB0byBJU09cblxuICAgIGRlZiBpc293ZWVrZGF5KHNlbGYpOlxuICAgICAgICAiUmV0dXJuIGRheSBvZiB0aGUgd2Vlaywgd2hlcmUgTW9uZGF5ID09IDEgLi4uIFN1bmRheSA9PSA3LiJcbiAgICAgICAgIyAxLUphbi0wMDAxIGlzIGEgTW9uZGF5XG4gICAgICAgIHJldHVybiBzZWxmLnRvb3JkaW5hbCgpICUgNyBvciA3XG5cbiAgICBkZWYgaXNvY2FsZW5kYXIoc2VsZik6XG4gICAgICAgICIiIlJldHVybiBhIDMtdHVwbGUgY29udGFpbmluZyBJU08geWVhciwgd2VlayBudW1iZXIsIGFuZCB3ZWVrZGF5LlxuXG4gICAgICAgIFRoZSBmaXJzdCBJU08gd2VlayBvZiB0aGUgeWVhciBpcyB0aGUgKE1vbi1TdW4pIHdlZWtcbiAgICAgICAgY29udGFpbmluZyB0aGUgeWVhclwncyBmaXJzdCBUaHVyc2RheTsgZXZlcnl0aGluZyBlbHNlIGRlcml2ZXNcbiAgICAgICAgZnJvbSB0aGF0LlxuXG4gICAgICAgIFRoZSBmaXJzdCB3ZWVrIGlzIDE7IE1vbmRheSBpcyAxIC4uLiBTdW5kYXkgaXMgNy5cblxuICAgICAgICBJU08gY2FsZW5kYXIgYWxnb3JpdGhtIHRha2VuIGZyb21cbiAgICAgICAgaHR0cDovL3d3dy5waHlzLnV1Lm5sL352Z2VudC9jYWxlbmRhci9pc29jYWxlbmRhci5odG1cbiAgICAgICAgIiIiXG4gICAgICAgIHllYXIgPSBzZWxmLl95ZWFyXG4gICAgICAgIHdlZWsxbW9uZGF5ID0gX2lzb3dlZWsxbW9uZGF5KHllYXIpXG4gICAgICAgIHRvZGF5ID0gX3ltZDJvcmQoc2VsZi5feWVhciwgc2VsZi5fbW9udGgsIHNlbGYuX2RheSlcbiAgICAgICAgIyBJbnRlcm5hbGx5LCB3ZWVrIGFuZCBkYXkgaGF2ZSBvcmlnaW4gMFxuICAgICAgICB3ZWVrLCBkYXkgPSBkaXZtb2QodG9kYXkgLSB3ZWVrMW1vbmRheSwgNylcbiAgICAgICAgaWYgd2VlayA8IDA6XG4gICAgICAgICAgICB5ZWFyIC09IDFcbiAgICAgICAgICAgIHdlZWsxbW9uZGF5ID0gX2lzb3dlZWsxbW9uZGF5KHllYXIpXG4gICAgICAgICAgICB3ZWVrLCBkYXkgPSBkaXZtb2QodG9kYXkgLSB3ZWVrMW1vbmRheSwgNylcbiAgICAgICAgZWxpZiB3ZWVrID49IDUyOlxuICAgICAgICAgICAgaWYgdG9kYXkgPj0gX2lzb3dlZWsxbW9uZGF5KHllYXIrMSk6XG4gICAgICAgICAgICAgICAgeWVhciArPSAxXG4gICAgICAgICAgICAgICAgd2VlayA9IDBcbiAgICAgICAgcmV0dXJuIHllYXIsIHdlZWsrMSwgZGF5KzFcblxuX2RhdGVfY2xhc3MgPSBkYXRlICAjIHNvIGZ1bmN0aW9ucyB3LyBhcmdzIG5hbWVkICJkYXRlIiBjYW4gZ2V0IGF0IHRoZSBjbGFzc1xuXG5kYXRlLm1pbiA9IGRhdGUoMSwgMSwgMSlcbmRhdGUubWF4ID0gZGF0ZSg5OTk5LCAxMiwgMzEpXG5kYXRlLnJlc29sdXRpb24gPSB0aW1lZGVsdGEoZGF5cz0xKVxuXG5jbGFzcyB0emluZm8ob2JqZWN0KTpcbiAgICAiIiJBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciB0aW1lIHpvbmUgaW5mbyBjbGFzc2VzLlxuXG4gICAgU3ViY2xhc3NlcyBtdXN0IG92ZXJyaWRlIHRoZSBuYW1lKCksIHV0Y29mZnNldCgpIGFuZCBkc3QoKSBtZXRob2RzLlxuICAgICIiIlxuICAgIF9fc2xvdHNfXyA9ICgpXG5cbiAgICBkZWYgdHpuYW1lKHNlbGYsIGR0KTpcbiAgICAgICAgImRhdGV0aW1lIC0+IHN0cmluZyBuYW1lIG9mIHRpbWUgem9uZS4iXG4gICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInR6aW5mbyBzdWJjbGFzcyBtdXN0IG92ZXJyaWRlIHR6bmFtZSgpIilcblxuICAgIGRlZiB1dGNvZmZzZXQoc2VsZiwgZHQpOlxuICAgICAgICAiZGF0ZXRpbWUgLT4gbWludXRlcyBlYXN0IG9mIFVUQyAobmVnYXRpdmUgZm9yIHdlc3Qgb2YgVVRDKSJcbiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidHppbmZvIHN1YmNsYXNzIG11c3Qgb3ZlcnJpZGUgdXRjb2Zmc2V0KCkiKVxuXG4gICAgZGVmIGRzdChzZWxmLCBkdCk6XG4gICAgICAgICIiImRhdGV0aW1lIC0+IERTVCBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQy5cblxuICAgICAgICBSZXR1cm4gMCBpZiBEU1Qgbm90IGluIGVmZmVjdC4gIHV0Y29mZnNldCgpIG11c3QgaW5jbHVkZSB0aGUgRFNUXG4gICAgICAgIG9mZnNldC5cbiAgICAgICAgIiIiXG4gICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInR6aW5mbyBzdWJjbGFzcyBtdXN0IG92ZXJyaWRlIGRzdCgpIilcblxuICAgIGRlZiBmcm9tdXRjKHNlbGYsIGR0KTpcbiAgICAgICAgImRhdGV0aW1lIGluIFVUQyAtPiBkYXRldGltZSBpbiBsb2NhbCB0aW1lLiJcblxuICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShkdCwgZGF0ZXRpbWUpOlxuICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJmcm9tdXRjKCkgcmVxdWlyZXMgYSBkYXRldGltZSBhcmd1bWVudCIpXG4gICAgICAgIGlmIGR0LnR6aW5mbyBpcyBub3Qgc2VsZjpcbiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImR0LnR6aW5mbyBpcyBub3Qgc2VsZiIpXG5cbiAgICAgICAgZHRvZmYgPSBkdC51dGNvZmZzZXQoKVxuICAgICAgICBpZiBkdG9mZiBpcyBOb25lOlxuICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZnJvbXV0YygpIHJlcXVpcmVzIGEgbm9uLU5vbmUgdXRjb2Zmc2V0KCkgIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmVzdWx0IilcblxuICAgICAgICAjIFNlZSB0aGUgbG9uZyBjb21tZW50IGJsb2NrIGF0IHRoZSBlbmQgb2YgdGhpcyBmaWxlIGZvciBhblxuICAgICAgICAjIGV4cGxhbmF0aW9uIG9mIHRoaXMgYWxnb3JpdGhtLlxuICAgICAgICBkdGRzdCA9IGR0LmRzdCgpXG4gICAgICAgIGlmIGR0ZHN0IGlzIE5vbmU6XG4gICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJmcm9tdXRjKCkgcmVxdWlyZXMgYSBub24tTm9uZSBkc3QoKSByZXN1bHQiKVxuICAgICAgICBkZWx0YSA9IGR0b2ZmIC0gZHRkc3RcbiAgICAgICAgaWYgZGVsdGE6XG4gICAgICAgICAgICBkdCA9IGR0ICsgZGVsdGFcbiAgICAgICAgICAgIGR0ZHN0ID0gZHQuZHN0KClcbiAgICAgICAgICAgIGlmIGR0ZHN0IGlzIE5vbmU6XG4gICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZnJvbXV0YygpOiBkdC5kc3QgZ2F2ZSBpbmNvbnNpc3RlbnQgIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJlc3VsdHM7IGNhbm5vdCBjb252ZXJ0IilcbiAgICAgICAgaWYgZHRkc3Q6XG4gICAgICAgICAgICByZXR1cm4gZHQgKyBkdGRzdFxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcmV0dXJuIGR0XG5cbl90emluZm9fY2xhc3MgPSB0emluZm9cblxuY2xhc3MgdGltZShvYmplY3QpOlxuICAgICIiIlRpbWUgd2l0aCB0aW1lIHpvbmUuXG5cbiAgICBDb25zdHJ1Y3RvcnM6XG5cbiAgICBfX25ld19fKClcblxuICAgIE9wZXJhdG9yczpcblxuICAgIF9fcmVwcl9fLCBfX3N0cl9fXG4gICAgX19jbXBfXywgX19oYXNoX19cblxuICAgIE1ldGhvZHM6XG5cbiAgICBzdHJmdGltZSgpXG4gICAgaXNvZm9ybWF0KClcbiAgICB1dGNvZmZzZXQoKVxuICAgIHR6bmFtZSgpXG4gICAgZHN0KClcblxuICAgIFByb3BlcnRpZXMgKHJlYWRvbmx5KTpcbiAgICBob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQsIHR6aW5mb1xuICAgICIiIlxuICAgIF9fc2xvdHNfXyA9IFwnX2hvdXJcJywgXCdfbWludXRlXCcsIFwnX3NlY29uZFwnLCBcJ19taWNyb3NlY29uZFwnLCBcJ190emluZm9cJywgXCdfaGFzaGNvZGVcJ1xuXG4gICAgZGVmIF9fbmV3X18oY2xzLCBob3VyPTAsIG1pbnV0ZT0wLCBzZWNvbmQ9MCwgbWljcm9zZWNvbmQ9MCwgdHppbmZvPU5vbmUpOlxuICAgICAgICAiIiJDb25zdHJ1Y3Rvci5cblxuICAgICAgICBBcmd1bWVudHM6XG5cbiAgICAgICAgaG91ciwgbWludXRlIChyZXF1aXJlZClcbiAgICAgICAgc2Vjb25kLCBtaWNyb3NlY29uZCAoZGVmYXVsdCB0byB6ZXJvKVxuICAgICAgICB0emluZm8gKGRlZmF1bHQgdG8gTm9uZSlcbiAgICAgICAgIiIiXG4gICAgICAgIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZCA9IF9jaGVja190aW1lX2ZpZWxkcyhcbiAgICAgICAgICAgIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWNyb3NlY29uZClcbiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHppbmZvKVxuICAgICAgICBzZWxmID0gb2JqZWN0Ll9fbmV3X18oY2xzKVxuICAgICAgICBzZWxmLl9ob3VyID0gaG91clxuICAgICAgICBzZWxmLl9taW51dGUgPSBtaW51dGVcbiAgICAgICAgc2VsZi5fc2Vjb25kID0gc2Vjb25kXG4gICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kID0gbWljcm9zZWNvbmRcbiAgICAgICAgc2VsZi5fdHppbmZvID0gdHppbmZvXG4gICAgICAgIHNlbGYuX2hhc2hjb2RlID0gLTFcbiAgICAgICAgcmV0dXJuIHNlbGZcblxuICAgICMgUmVhZC1vbmx5IGZpZWxkIGFjY2Vzc29yc1xuICAgIEBwcm9wZXJ0eVxuICAgIGRlZiBob3VyKHNlbGYpOlxuICAgICAgICAiIiJob3VyICgwLTIzKSIiIlxuICAgICAgICByZXR1cm4gc2VsZi5faG91clxuXG4gICAgQHByb3BlcnR5XG4gICAgZGVmIG1pbnV0ZShzZWxmKTpcbiAgICAgICAgIiIibWludXRlICgwLTU5KSIiIlxuICAgICAgICByZXR1cm4gc2VsZi5fbWludXRlXG5cbiAgICBAcHJvcGVydHlcbiAgICBkZWYgc2Vjb25kKHNlbGYpOlxuICAgICAgICAiIiJzZWNvbmQgKDAtNTkpIiIiXG4gICAgICAgIHJldHVybiBzZWxmLl9zZWNvbmRcblxuICAgIEBwcm9wZXJ0eVxuICAgIGRlZiBtaWNyb3NlY29uZChzZWxmKTpcbiAgICAgICAgIiIibWljcm9zZWNvbmQgKDAtOTk5OTk5KSIiIlxuICAgICAgICByZXR1cm4gc2VsZi5fbWljcm9zZWNvbmRcblxuICAgIEBwcm9wZXJ0eVxuICAgIGRlZiB0emluZm8oc2VsZik6XG4gICAgICAgICIiInRpbWV6b25lIGluZm8gb2JqZWN0IiIiXG4gICAgICAgIHJldHVybiBzZWxmLl90emluZm9cblxuICAgICMgU3RhbmRhcmQgY29udmVyc2lvbnMsIF9faGFzaF9fIChhbmQgaGVscGVycylcblxuICAgICMgQ29tcGFyaXNvbnMgb2YgdGltZSBvYmplY3RzIHdpdGggb3RoZXIuXG5cbiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA9PSAwXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gRmFsc2VcblxuICAgIGRlZiBfX25lX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpICE9IDBcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHJldHVybiBUcnVlXG5cbiAgICBkZWYgX19sZV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8PSAwXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpXG5cbiAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgdGltZSk6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fY21wKG90aGVyKSA8IDBcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcilcblxuICAgIGRlZiBfX2dlX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID49IDBcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcilcblxuICAgIGRlZiBfX2d0X18oc2VsZiwgb3RoZXIpOlxuICAgICAgICBpZiBpc2luc3RhbmNlKG90aGVyLCB0aW1lKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID4gMFxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKVxuXG4gICAgZGVmIF9jbXAoc2VsZiwgb3RoZXIpOlxuICAgICAgICBhc3NlcnQgaXNpbnN0YW5jZShvdGhlciwgdGltZSlcbiAgICAgICAgbXl0eiA9IHNlbGYuX3R6aW5mb1xuICAgICAgICBvdHR6ID0gb3RoZXIuX3R6aW5mb1xuICAgICAgICBteW9mZiA9IG90b2ZmID0gTm9uZVxuXG4gICAgICAgIGlmIG15dHogaXMgb3R0ejpcbiAgICAgICAgICAgIGJhc2VfY29tcGFyZSA9IFRydWVcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIG15b2ZmID0gc2VsZi5fdXRjb2Zmc2V0KClcbiAgICAgICAgICAgIG90b2ZmID0gb3RoZXIuX3V0Y29mZnNldCgpXG4gICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBteW9mZiA9PSBvdG9mZlxuXG4gICAgICAgIGlmIGJhc2VfY29tcGFyZTpcbiAgICAgICAgICAgIHJldHVybiBfY21wKChzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAob3RoZXIuX2hvdXIsIG90aGVyLl9taW51dGUsIG90aGVyLl9zZWNvbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXIuX21pY3Jvc2Vjb25kKSlcbiAgICAgICAgaWYgbXlvZmYgaXMgTm9uZSBvciBvdG9mZiBpcyBOb25lOlxuICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5cJ3QgY29tcGFyZSBvZmZzZXQtbmFpdmUgYW5kIG9mZnNldC1hd2FyZSB0aW1lcyIpXG4gICAgICAgIG15aGhtbSA9IHNlbGYuX2hvdXIgKiA2MCArIHNlbGYuX21pbnV0ZSAtIG15b2ZmXG4gICAgICAgIG90aGhtbSA9IG90aGVyLl9ob3VyICogNjAgKyBvdGhlci5fbWludXRlIC0gb3RvZmZcbiAgICAgICAgcmV0dXJuIF9jbXAoKG15aGhtbSwgc2VsZi5fc2Vjb25kLCBzZWxmLl9taWNyb3NlY29uZCksXG4gICAgICAgICAgICAgICAgICAgIChvdGhobW0sIG90aGVyLl9zZWNvbmQsIG90aGVyLl9taWNyb3NlY29uZCkpXG5cbiAgICBkZWYgX19oYXNoX18oc2VsZik6XG4gICAgICAgICIiIkhhc2guIiIiXG4gICAgICAgIGlmIHNlbGYuX2hhc2hjb2RlID09IC0xOlxuICAgICAgICAgICAgdHpvZmYgPSBzZWxmLl91dGNvZmZzZXQoKVxuICAgICAgICAgICAgaWYgbm90IHR6b2ZmOiAgIyB6ZXJvIG9yIE5vbmVcbiAgICAgICAgICAgICAgICBzZWxmLl9oYXNoY29kZSA9IGhhc2goc2VsZi5fZ2V0c3RhdGUoKVswXSlcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgaCwgbSA9IGRpdm1vZChzZWxmLmhvdXIgKiA2MCArIHNlbGYubWludXRlIC0gdHpvZmYsIDYwKVxuICAgICAgICAgICAgICAgIGlmIDAgPD0gaCA8IDI0OlxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9oYXNoY29kZSA9IGhhc2godGltZShoLCBtLCBzZWxmLnNlY29uZCwgc2VsZi5taWNyb3NlY29uZCkpXG4gICAgICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faGFzaGNvZGUgPSBoYXNoKChoLCBtLCBzZWxmLnNlY29uZCwgc2VsZi5taWNyb3NlY29uZCkpXG4gICAgICAgIHJldHVybiBzZWxmLl9oYXNoY29kZVxuXG4gICAgIyBDb252ZXJzaW9uIHRvIHN0cmluZ1xuXG4gICAgZGVmIF90enN0cihzZWxmLCBzZXA9IjoiKTpcbiAgICAgICAgIiIiUmV0dXJuIGZvcm1hdHRlZCB0aW1lem9uZSBvZmZzZXQgKCt4eDp4eCkgb3IgTm9uZS4iIiJcbiAgICAgICAgb2ZmID0gc2VsZi5fdXRjb2Zmc2V0KClcbiAgICAgICAgaWYgb2ZmIGlzIG5vdCBOb25lOlxuICAgICAgICAgICAgaWYgb2ZmIDwgMDpcbiAgICAgICAgICAgICAgICBzaWduID0gIi0iXG4gICAgICAgICAgICAgICAgb2ZmID0gLW9mZlxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICBzaWduID0gIisiXG4gICAgICAgICAgICBoaCwgbW0gPSBkaXZtb2Qob2ZmLCA2MClcbiAgICAgICAgICAgIGFzc2VydCAwIDw9IGhoIDwgMjRcbiAgICAgICAgICAgIG9mZiA9ICIlcyUwMmQlcyUwMmQiICUgKHNpZ24sIGhoLCBzZXAsIG1tKVxuICAgICAgICByZXR1cm4gb2ZmXG5cbiAgICBkZWYgX19yZXByX18oc2VsZik6XG4gICAgICAgICIiIkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS4iIiJcbiAgICAgICAgaWYgc2VsZi5fbWljcm9zZWNvbmQgIT0gMDpcbiAgICAgICAgICAgIHMgPSAiLCAlZCwgJWQiICUgKHNlbGYuX3NlY29uZCwgc2VsZi5fbWljcm9zZWNvbmQpXG4gICAgICAgIGVsaWYgc2VsZi5fc2Vjb25kICE9IDA6XG4gICAgICAgICAgICBzID0gIiwgJWQiICUgc2VsZi5fc2Vjb25kXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBzID0gIiJcbiAgICAgICAgbW9kdWxlID0gImRhdGV0aW1lLiIgaWYgc2VsZi5fX2NsYXNzX18gaXMgdGltZSBlbHNlICIiXG4gICAgICAgIHM9ICIlcyglZCwgJWQlcykiICUgKG1vZHVsZSArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHMpXG4gICAgICAgIGlmIHNlbGYuX3R6aW5mbyBpcyBub3QgTm9uZTpcbiAgICAgICAgICAgIGFzc2VydCBzWy0xOl0gPT0gIikiXG4gICAgICAgICAgICBzID0gc1s6LTFdICsgIiwgdHppbmZvPSVyIiAlIHNlbGYuX3R6aW5mbyArICIpIlxuICAgICAgICByZXR1cm4gc1xuXG4gICAgZGVmIGlzb2Zvcm1hdChzZWxmKTpcbiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gSVNPLlxuXG4gICAgICAgIFRoaXMgaXMgXCdISDpNTTpTUy5tbW1tbW0reno6enpcJywgb3IgXCdISDpNTTpTUyt6ejp6elwnIGlmXG4gICAgICAgIHNlbGYubWljcm9zZWNvbmQgPT0gMC5cbiAgICAgICAgIiIiXG4gICAgICAgIHMgPSBfZm9ybWF0X3RpbWUoc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbWljcm9zZWNvbmQpXG4gICAgICAgIHR6ID0gc2VsZi5fdHpzdHIoKVxuICAgICAgICBpZiB0ejpcbiAgICAgICAgICAgIHMgKz0gdHpcbiAgICAgICAgcmV0dXJuIHNcblxuICAgIF9fc3RyX18gPSBpc29mb3JtYXRcblxuICAgIGRlZiBzdHJmdGltZShzZWxmLCBmb3JtYXQpOlxuICAgICAgICAiIiJGb3JtYXQgdXNpbmcgc3RyZnRpbWUoKS4gIFRoZSBkYXRlIHBhcnQgb2YgdGhlIHRpbWVzdGFtcCBwYXNzZWRcbiAgICAgICAgdG8gdW5kZXJseWluZyBzdHJmdGltZSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICIiIlxuICAgICAgICAjIFRoZSB5ZWFyIG11c3QgYmUgPj0gX01JTllFQVJGTVQgZWxzZSBQeXRob25cJ3Mgc3RyZnRpbWUgaW1wbGVtZW50YXRpb25cbiAgICAgICAgIyBjYW4gcmFpc2UgYSBib2d1cyBleGNlcHRpb24uXG4gICAgICAgIHRpbWV0dXBsZSA9ICgxOTAwLCAxLCAxLFxuICAgICAgICAgICAgICAgICAgICAgc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsXG4gICAgICAgICAgICAgICAgICAgICAwLCAxLCAtMSlcbiAgICAgICAgcmV0dXJuIF93cmFwX3N0cmZ0aW1lKHNlbGYsIGZvcm1hdCwgdGltZXR1cGxlKVxuXG4gICAgZGVmIF9fZm9ybWF0X18oc2VsZiwgZm10KTpcbiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoZm10LCAoc3RyLCB1bmljb2RlKSk6XG4gICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJfX2Zvcm1hdF9fIGV4cGVjdHMgc3RyIG9yIHVuaWNvZGUsIG5vdCAlcyIgJVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXQuX19jbGFzc19fLl9fbmFtZV9fKVxuICAgICAgICBpZiBsZW4oZm10KSAhPSAwOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RyZnRpbWUoZm10KVxuICAgICAgICByZXR1cm4gc3RyKHNlbGYpXG5cbiAgICAjIFRpbWV6b25lIGZ1bmN0aW9uc1xuXG4gICAgZGVmIHV0Y29mZnNldChzZWxmKTpcbiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWludXRlcyBlYXN0IG9mIFVUQyAobmVnYXRpdmUgd2VzdCBvZlxuICAgICAgICBVVEMpLiIiIlxuICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZTpcbiAgICAgICAgICAgIHJldHVybiBOb25lXG4gICAgICAgIG9mZnNldCA9IHNlbGYuX3R6aW5mby51dGNvZmZzZXQoTm9uZSlcbiAgICAgICAgb2Zmc2V0ID0gX2NoZWNrX3V0Y19vZmZzZXQoInV0Y29mZnNldCIsIG9mZnNldClcbiAgICAgICAgaWYgb2Zmc2V0IGlzIG5vdCBOb25lOlxuICAgICAgICAgICAgb2Zmc2V0ID0gdGltZWRlbHRhLl9jcmVhdGUoMCwgb2Zmc2V0ICogNjAsIDAsIFRydWUpXG4gICAgICAgIHJldHVybiBvZmZzZXRcblxuICAgICMgUmV0dXJuIGFuIGludGVnZXIgKG9yIE5vbmUpIGluc3RlYWQgb2YgYSB0aW1lZGVsdGEgKG9yIE5vbmUpLlxuICAgIGRlZiBfdXRjb2Zmc2V0KHNlbGYpOlxuICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZTpcbiAgICAgICAgICAgIHJldHVybiBOb25lXG4gICAgICAgIG9mZnNldCA9IHNlbGYuX3R6aW5mby51dGNvZmZzZXQoTm9uZSlcbiAgICAgICAgb2Zmc2V0ID0gX2NoZWNrX3V0Y19vZmZzZXQoInV0Y29mZnNldCIsIG9mZnNldClcbiAgICAgICAgcmV0dXJuIG9mZnNldFxuXG4gICAgZGVmIHR6bmFtZShzZWxmKTpcbiAgICAgICAgIiIiUmV0dXJuIHRoZSB0aW1lem9uZSBuYW1lLlxuXG4gICAgICAgIE5vdGUgdGhhdCB0aGUgbmFtZSBpcyAxMDAlIGluZm9ybWF0aW9uYWwgLS0gdGhlcmVcJ3Mgbm8gcmVxdWlyZW1lbnQgdGhhdFxuICAgICAgICBpdCBtZWFuIGFueXRoaW5nIGluIHBhcnRpY3VsYXIuIEZvciBleGFtcGxlLCAiR01UIiwgIlVUQyIsICItNTAwIixcbiAgICAgICAgIi01OjAwIiwgIkVEVCIsICJVUy9FYXN0ZXJuIiwgIkFtZXJpY2EvTmV3IFlvcmsiIGFyZSBhbGwgdmFsaWQgcmVwbGllcy5cbiAgICAgICAgIiIiXG4gICAgICAgIGlmIHNlbGYuX3R6aW5mbyBpcyBOb25lOlxuICAgICAgICAgICAgcmV0dXJuIE5vbmVcbiAgICAgICAgbmFtZSA9IHNlbGYuX3R6aW5mby50em5hbWUoTm9uZSlcbiAgICAgICAgX2NoZWNrX3R6bmFtZShuYW1lKVxuICAgICAgICByZXR1cm4gbmFtZVxuXG4gICAgZGVmIGRzdChzZWxmKTpcbiAgICAgICAgIiIiUmV0dXJuIDAgaWYgRFNUIGlzIG5vdCBpbiBlZmZlY3QsIG9yIHRoZSBEU1Qgb2Zmc2V0IChpbiBtaW51dGVzXG4gICAgICAgIGVhc3R3YXJkKSBpZiBEU1QgaXMgaW4gZWZmZWN0LlxuXG4gICAgICAgIFRoaXMgaXMgcHVyZWx5IGluZm9ybWF0aW9uYWw7IHRoZSBEU1Qgb2Zmc2V0IGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG9cbiAgICAgICAgdGhlIFVUQyBvZmZzZXQgcmV0dXJuZWQgYnkgdXRjb2Zmc2V0KCkgaWYgYXBwbGljYWJsZSwgc28gdGhlcmVcJ3Mgbm9cbiAgICAgICAgbmVlZCB0byBjb25zdWx0IGRzdCgpIHVubGVzcyB5b3VcJ3JlIGludGVyZXN0ZWQgaW4gZGlzcGxheWluZyB0aGUgRFNUXG4gICAgICAgIGluZm8uXG4gICAgICAgICIiIlxuICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZTpcbiAgICAgICAgICAgIHJldHVybiBOb25lXG4gICAgICAgIG9mZnNldCA9IHNlbGYuX3R6aW5mby5kc3QoTm9uZSlcbiAgICAgICAgb2Zmc2V0ID0gX2NoZWNrX3V0Y19vZmZzZXQoImRzdCIsIG9mZnNldClcbiAgICAgICAgaWYgb2Zmc2V0IGlzIG5vdCBOb25lOlxuICAgICAgICAgICAgb2Zmc2V0ID0gdGltZWRlbHRhLl9jcmVhdGUoMCwgb2Zmc2V0ICogNjAsIDAsIFRydWUpXG4gICAgICAgIHJldHVybiBvZmZzZXRcblxuICAgICMgUmV0dXJuIGFuIGludGVnZXIgKG9yIE5vbmUpIGluc3RlYWQgb2YgYSB0aW1lZGVsdGEgKG9yIE5vbmUpLlxuICAgIGRlZiBfZHN0KHNlbGYpOlxuICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZTpcbiAgICAgICAgICAgIHJldHVybiBOb25lXG4gICAgICAgIG9mZnNldCA9IHNlbGYuX3R6aW5mby5kc3QoTm9uZSlcbiAgICAgICAgb2Zmc2V0ID0gX2NoZWNrX3V0Y19vZmZzZXQoImRzdCIsIG9mZnNldClcbiAgICAgICAgcmV0dXJuIG9mZnNldFxuXG4gICAgZGVmIHJlcGxhY2Uoc2VsZiwgaG91cj1Ob25lLCBtaW51dGU9Tm9uZSwgc2Vjb25kPU5vbmUsIG1pY3Jvc2Vjb25kPU5vbmUsXG4gICAgICAgICAgICAgICAgdHppbmZvPVRydWUpOlxuICAgICAgICAiIiJSZXR1cm4gYSBuZXcgdGltZSB3aXRoIG5ldyB2YWx1ZXMgZm9yIHRoZSBzcGVjaWZpZWQgZmllbGRzLiIiIlxuICAgICAgICBpZiBob3VyIGlzIE5vbmU6XG4gICAgICAgICAgICBob3VyID0gc2VsZi5ob3VyXG4gICAgICAgIGlmIG1pbnV0ZSBpcyBOb25lOlxuICAgICAgICAgICAgbWludXRlID0gc2VsZi5taW51dGVcbiAgICAgICAgaWYgc2Vjb25kIGlzIE5vbmU6XG4gICAgICAgICAgICBzZWNvbmQgPSBzZWxmLnNlY29uZFxuICAgICAgICBpZiBtaWNyb3NlY29uZCBpcyBOb25lOlxuICAgICAgICAgICAgbWljcm9zZWNvbmQgPSBzZWxmLm1pY3Jvc2Vjb25kXG4gICAgICAgIGlmIHR6aW5mbyBpcyBUcnVlOlxuICAgICAgICAgICAgdHppbmZvID0gc2VsZi50emluZm9cbiAgICAgICAgcmV0dXJuIHRpbWUoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kLCB0emluZm8pXG5cbiAgICBkZWYgX19ub256ZXJvX18oc2VsZik6XG4gICAgICAgIGlmIHNlbGYuc2Vjb25kIG9yIHNlbGYubWljcm9zZWNvbmQ6XG4gICAgICAgICAgICByZXR1cm4gVHJ1ZVxuICAgICAgICBvZmZzZXQgPSBzZWxmLl91dGNvZmZzZXQoKSBvciAwXG4gICAgICAgIHJldHVybiBzZWxmLmhvdXIgKiA2MCArIHNlbGYubWludXRlICE9IG9mZnNldFxuXG5fdGltZV9jbGFzcyA9IHRpbWUgICMgc28gZnVuY3Rpb25zIHcvIGFyZ3MgbmFtZWQgInRpbWUiIGNhbiBnZXQgYXQgdGhlIGNsYXNzXG5cbnRpbWUubWluID0gdGltZSgwLCAwLCAwKVxudGltZS5tYXggPSB0aW1lKDIzLCA1OSwgNTksIDk5OTk5OSlcbnRpbWUucmVzb2x1dGlvbiA9IHRpbWVkZWx0YShtaWNyb3NlY29uZHM9MSlcblxuY2xhc3MgZGF0ZXRpbWUoZGF0ZSk6XG4gICAgIiIiZGF0ZXRpbWUoeWVhciwgbW9udGgsIGRheVssIGhvdXJbLCBtaW51dGVbLCBzZWNvbmRbLCBtaWNyb3NlY29uZFssdHppbmZvXV1dXV0pXG5cbiAgICBUaGUgeWVhciwgbW9udGggYW5kIGRheSBhcmd1bWVudHMgYXJlIHJlcXVpcmVkLiB0emluZm8gbWF5IGJlIE5vbmUsIG9yIGFuXG4gICAgaW5zdGFuY2Ugb2YgYSB0emluZm8gc3ViY2xhc3MuIFRoZSByZW1haW5pbmcgYXJndW1lbnRzIG1heSBiZSBpbnRzIG9yIGxvbmdzLlxuICAgICIiIlxuICAgIF9fc2xvdHNfXyA9IGRhdGUuX19zbG90c19fICsgdGltZS5fX3Nsb3RzX19cblxuICAgIGRlZiBfX25ld19fKGNscywgeWVhciwgbW9udGg9Tm9uZSwgZGF5PU5vbmUsIGhvdXI9MCwgbWludXRlPTAsIHNlY29uZD0wLFxuICAgICAgICAgICAgICAgIG1pY3Jvc2Vjb25kPTAsIHR6aW5mbz1Ob25lKTpcbiAgICAgICAgeWVhciwgbW9udGgsIGRheSA9IF9jaGVja19kYXRlX2ZpZWxkcyh5ZWFyLCBtb250aCwgZGF5KVxuICAgICAgICBob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQgPSBfY2hlY2tfdGltZV9maWVsZHMoXG4gICAgICAgICAgICBob3VyLCBtaW51dGUsIHNlY29uZCwgbWljcm9zZWNvbmQpXG4gICAgICAgIF9jaGVja190emluZm9fYXJnKHR6aW5mbylcbiAgICAgICAgc2VsZiA9IG9iamVjdC5fX25ld19fKGNscylcbiAgICAgICAgc2VsZi5feWVhciA9IHllYXJcbiAgICAgICAgc2VsZi5fbW9udGggPSBtb250aFxuICAgICAgICBzZWxmLl9kYXkgPSBkYXlcbiAgICAgICAgc2VsZi5faG91ciA9IGhvdXJcbiAgICAgICAgc2VsZi5fbWludXRlID0gbWludXRlXG4gICAgICAgIHNlbGYuX3NlY29uZCA9IHNlY29uZFxuICAgICAgICBzZWxmLl9taWNyb3NlY29uZCA9IG1pY3Jvc2Vjb25kXG4gICAgICAgIHNlbGYuX3R6aW5mbyA9IHR6aW5mb1xuICAgICAgICBzZWxmLl9oYXNoY29kZSA9IC0xXG4gICAgICAgIHJldHVybiBzZWxmXG5cbiAgICAjIFJlYWQtb25seSBmaWVsZCBhY2Nlc3NvcnNcbiAgICBAcHJvcGVydHlcbiAgICBkZWYgaG91cihzZWxmKTpcbiAgICAgICAgIiIiaG91ciAoMC0yMykiIiJcbiAgICAgICAgcmV0dXJuIHNlbGYuX2hvdXJcblxuICAgIEBwcm9wZXJ0eVxuICAgIGRlZiBtaW51dGUoc2VsZik6XG4gICAgICAgICIiIm1pbnV0ZSAoMC01OSkiIiJcbiAgICAgICAgcmV0dXJuIHNlbGYuX21pbnV0ZVxuXG4gICAgQHByb3BlcnR5XG4gICAgZGVmIHNlY29uZChzZWxmKTpcbiAgICAgICAgIiIic2Vjb25kICgwLTU5KSIiIlxuICAgICAgICByZXR1cm4gc2VsZi5fc2Vjb25kXG5cbiAgICBAcHJvcGVydHlcbiAgICBkZWYgbWljcm9zZWNvbmQoc2VsZik6XG4gICAgICAgICIiIm1pY3Jvc2Vjb25kICgwLTk5OTk5OSkiIiJcbiAgICAgICAgcmV0dXJuIHNlbGYuX21pY3Jvc2Vjb25kXG5cbiAgICBAcHJvcGVydHlcbiAgICBkZWYgdHppbmZvKHNlbGYpOlxuICAgICAgICAiIiJ0aW1lem9uZSBpbmZvIG9iamVjdCIiIlxuICAgICAgICByZXR1cm4gc2VsZi5fdHppbmZvXG5cbiAgICBAY2xhc3NtZXRob2RcbiAgICBkZWYgZnJvbXRpbWVzdGFtcChjbHMsIHRpbWVzdGFtcCwgdHo9Tm9uZSk6XG4gICAgICAgICIiIkNvbnN0cnVjdCBhIGRhdGV0aW1lIGZyb20gYSBQT1NJWCB0aW1lc3RhbXAgKGxpa2UgdGltZS50aW1lKCkpLlxuXG4gICAgICAgIEEgdGltZXpvbmUgaW5mbyBvYmplY3QgbWF5IGJlIHBhc3NlZCBpbiBhcyB3ZWxsLlxuICAgICAgICAiIiJcbiAgICAgICAgX2NoZWNrX3R6aW5mb19hcmcodHopXG4gICAgICAgIGNvbnZlcnRlciA9IF90aW1lLmxvY2FsdGltZSBpZiB0eiBpcyBOb25lIGVsc2UgX3RpbWUuZ210aW1lXG4gICAgICAgIHNlbGYgPSBjbHMuX2Zyb21fdGltZXN0YW1wKGNvbnZlcnRlciwgdGltZXN0YW1wLCB0eilcbiAgICAgICAgaWYgdHogaXMgbm90IE5vbmU6XG4gICAgICAgICAgICBzZWxmID0gdHouZnJvbXV0YyhzZWxmKVxuICAgICAgICByZXR1cm4gc2VsZlxuXG4gICAgQGNsYXNzbWV0aG9kXG4gICAgZGVmIHV0Y2Zyb210aW1lc3RhbXAoY2xzLCB0KTpcbiAgICAgICAgIkNvbnN0cnVjdCBhIFVUQyBkYXRldGltZSBmcm9tIGEgUE9TSVggdGltZXN0YW1wIChsaWtlIHRpbWUudGltZSgpKS4iXG4gICAgICAgIHJldHVybiBjbHMuX2Zyb21fdGltZXN0YW1wKF90aW1lLmdtdGltZSwgdCwgTm9uZSlcblxuICAgIEBjbGFzc21ldGhvZFxuICAgIGRlZiBfZnJvbV90aW1lc3RhbXAoY2xzLCBjb252ZXJ0ZXIsIHRpbWVzdGFtcCwgdHppbmZvKTpcbiAgICAgICAgdF9mdWxsID0gdGltZXN0YW1wXG4gICAgICAgIHRpbWVzdGFtcCA9IGludChfbWF0aC5mbG9vcih0aW1lc3RhbXApKVxuICAgICAgICBmcmFjID0gdF9mdWxsIC0gdGltZXN0YW1wXG4gICAgICAgIHVzID0gX3JvdW5kKGZyYWMgKiAxZTYpXG5cbiAgICAgICAgIyBJZiB0aW1lc3RhbXAgaXMgbGVzcyB0aGFuIG9uZSBtaWNyb3NlY29uZCBzbWFsbGVyIHRoYW4gYVxuICAgICAgICAjIGZ1bGwgc2Vjb25kLCB1cyBjYW4gYmUgcm91bmRlZCB1cCB0byAxMDAwMDAwLiAgSW4gdGhpcyBjYXNlLFxuICAgICAgICAjIHJvbGwgb3ZlciB0byBzZWNvbmRzLCBvdGhlcndpc2UsIFZhbHVlRXJyb3IgaXMgcmFpc2VkXG4gICAgICAgICMgYnkgdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICBpZiB1cyA9PSAxMDAwMDAwOlxuICAgICAgICAgICAgdGltZXN0YW1wICs9IDFcbiAgICAgICAgICAgIHVzID0gMFxuICAgICAgICB5LCBtLCBkLCBoaCwgbW0sIHNzLCB3ZWVrZGF5LCBqZGF5LCBkc3QgPSBjb252ZXJ0ZXIodGltZXN0YW1wKVxuICAgICAgICBzcyA9IG1pbihzcywgNTkpICAgICMgY2xhbXAgb3V0IGxlYXAgc2Vjb25kcyBpZiB0aGUgcGxhdGZvcm0gaGFzIHRoZW1cbiAgICAgICAgcmV0dXJuIGNscyh5LCBtLCBkLCBoaCwgbW0sIHNzLCB1cywgdHppbmZvKVxuXG4gICAgQGNsYXNzbWV0aG9kXG4gICAgZGVmIG5vdyhjbHMsIHR6PU5vbmUpOlxuICAgICAgICAiQ29uc3RydWN0IGEgZGF0ZXRpbWUgZnJvbSB0aW1lLnRpbWUoKSBhbmQgb3B0aW9uYWwgdGltZSB6b25lIGluZm8uIlxuICAgICAgICB0ID0gX3RpbWUudGltZSgpXG4gICAgICAgIHJldHVybiBjbHMuZnJvbXRpbWVzdGFtcCh0LCB0eilcblxuICAgIEBjbGFzc21ldGhvZFxuICAgIGRlZiB1dGNub3coY2xzKTpcbiAgICAgICAgIkNvbnN0cnVjdCBhIFVUQyBkYXRldGltZSBmcm9tIHRpbWUudGltZSgpLiJcbiAgICAgICAgdCA9IF90aW1lLnRpbWUoKVxuICAgICAgICByZXR1cm4gY2xzLnV0Y2Zyb210aW1lc3RhbXAodClcblxuICAgIEBjbGFzc21ldGhvZFxuICAgIGRlZiBjb21iaW5lKGNscywgZGF0ZSwgdGltZSk6XG4gICAgICAgICJDb25zdHJ1Y3QgYSBkYXRldGltZSBmcm9tIGEgZ2l2ZW4gZGF0ZSBhbmQgYSBnaXZlbiB0aW1lLiJcbiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoZGF0ZSwgX2RhdGVfY2xhc3MpOlxuICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJkYXRlIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRlIGluc3RhbmNlIilcbiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodGltZSwgX3RpbWVfY2xhc3MpOlxuICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJ0aW1lIGFyZ3VtZW50IG11c3QgYmUgYSB0aW1lIGluc3RhbmNlIilcbiAgICAgICAgcmV0dXJuIGNscyhkYXRlLnllYXIsIGRhdGUubW9udGgsIGRhdGUuZGF5LFxuICAgICAgICAgICAgICAgICAgIHRpbWUuaG91ciwgdGltZS5taW51dGUsIHRpbWUuc2Vjb25kLCB0aW1lLm1pY3Jvc2Vjb25kLFxuICAgICAgICAgICAgICAgICAgIHRpbWUudHppbmZvKVxuXG4gICAgZGVmIHRpbWV0dXBsZShzZWxmKTpcbiAgICAgICAgIlJldHVybiBsb2NhbCB0aW1lIHR1cGxlIGNvbXBhdGlibGUgd2l0aCB0aW1lLmxvY2FsdGltZSgpLiJcbiAgICAgICAgZHN0ID0gc2VsZi5fZHN0KClcbiAgICAgICAgaWYgZHN0IGlzIE5vbmU6XG4gICAgICAgICAgICBkc3QgPSAtMVxuICAgICAgICBlbGlmIGRzdDpcbiAgICAgICAgICAgIGRzdCA9IDFcbiAgICAgICAgcmV0dXJuIF9idWlsZF9zdHJ1Y3RfdGltZShzZWxmLnllYXIsIHNlbGYubW9udGgsIHNlbGYuZGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaG91ciwgc2VsZi5taW51dGUsIHNlbGYuc2Vjb25kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdClcblxuICAgIGRlZiB1dGN0aW1ldHVwbGUoc2VsZik6XG4gICAgICAgICJSZXR1cm4gVVRDIHRpbWUgdHVwbGUgY29tcGF0aWJsZSB3aXRoIHRpbWUuZ210aW1lKCkuIlxuICAgICAgICB5LCBtLCBkID0gc2VsZi55ZWFyLCBzZWxmLm1vbnRoLCBzZWxmLmRheVxuICAgICAgICBoaCwgbW0sIHNzID0gc2VsZi5ob3VyLCBzZWxmLm1pbnV0ZSwgc2VsZi5zZWNvbmRcbiAgICAgICAgb2Zmc2V0ID0gc2VsZi5fdXRjb2Zmc2V0KClcbiAgICAgICAgaWYgb2Zmc2V0OiAgIyBuZWl0aGVyIE5vbmUgbm9yIDBcbiAgICAgICAgICAgIG1tIC09IG9mZnNldFxuICAgICAgICAgICAgeSwgbSwgZCwgaGgsIG1tLCBzcywgXyA9IF9ub3JtYWxpemVfZGF0ZXRpbWUoXG4gICAgICAgICAgICAgICAgeSwgbSwgZCwgaGgsIG1tLCBzcywgMCwgaWdub3JlX292ZXJmbG93PVRydWUpXG4gICAgICAgIHJldHVybiBfYnVpbGRfc3RydWN0X3RpbWUoeSwgbSwgZCwgaGgsIG1tLCBzcywgMClcblxuICAgIGRlZiBkYXRlKHNlbGYpOlxuICAgICAgICAiUmV0dXJuIHRoZSBkYXRlIHBhcnQuIlxuICAgICAgICByZXR1cm4gZGF0ZShzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5KVxuXG4gICAgZGVmIHRpbWUoc2VsZik6XG4gICAgICAgICJSZXR1cm4gdGhlIHRpbWUgcGFydCwgd2l0aCB0emluZm8gTm9uZS4iXG4gICAgICAgIHJldHVybiB0aW1lKHNlbGYuaG91ciwgc2VsZi5taW51dGUsIHNlbGYuc2Vjb25kLCBzZWxmLm1pY3Jvc2Vjb25kKVxuXG4gICAgZGVmIHRpbWV0eihzZWxmKTpcbiAgICAgICAgIlJldHVybiB0aGUgdGltZSBwYXJ0LCB3aXRoIHNhbWUgdHppbmZvLiJcbiAgICAgICAgcmV0dXJuIHRpbWUoc2VsZi5ob3VyLCBzZWxmLm1pbnV0ZSwgc2VsZi5zZWNvbmQsIHNlbGYubWljcm9zZWNvbmQsXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3R6aW5mbylcblxuICAgIGRlZiByZXBsYWNlKHNlbGYsIHllYXI9Tm9uZSwgbW9udGg9Tm9uZSwgZGF5PU5vbmUsIGhvdXI9Tm9uZSxcbiAgICAgICAgICAgICAgICBtaW51dGU9Tm9uZSwgc2Vjb25kPU5vbmUsIG1pY3Jvc2Vjb25kPU5vbmUsIHR6aW5mbz1UcnVlKTpcbiAgICAgICAgIiIiUmV0dXJuIGEgbmV3IGRhdGV0aW1lIHdpdGggbmV3IHZhbHVlcyBmb3IgdGhlIHNwZWNpZmllZCBmaWVsZHMuIiIiXG4gICAgICAgIGlmIHllYXIgaXMgTm9uZTpcbiAgICAgICAgICAgIHllYXIgPSBzZWxmLnllYXJcbiAgICAgICAgaWYgbW9udGggaXMgTm9uZTpcbiAgICAgICAgICAgIG1vbnRoID0gc2VsZi5tb250aFxuICAgICAgICBpZiBkYXkgaXMgTm9uZTpcbiAgICAgICAgICAgIGRheSA9IHNlbGYuZGF5XG4gICAgICAgIGlmIGhvdXIgaXMgTm9uZTpcbiAgICAgICAgICAgIGhvdXIgPSBzZWxmLmhvdXJcbiAgICAgICAgaWYgbWludXRlIGlzIE5vbmU6XG4gICAgICAgICAgICBtaW51dGUgPSBzZWxmLm1pbnV0ZVxuICAgICAgICBpZiBzZWNvbmQgaXMgTm9uZTpcbiAgICAgICAgICAgIHNlY29uZCA9IHNlbGYuc2Vjb25kXG4gICAgICAgIGlmIG1pY3Jvc2Vjb25kIGlzIE5vbmU6XG4gICAgICAgICAgICBtaWNyb3NlY29uZCA9IHNlbGYubWljcm9zZWNvbmRcbiAgICAgICAgaWYgdHppbmZvIGlzIFRydWU6XG4gICAgICAgICAgICB0emluZm8gPSBzZWxmLnR6aW5mb1xuICAgICAgICByZXR1cm4gZGF0ZXRpbWUoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pY3Jvc2Vjb25kLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHppbmZvKVxuXG4gICAgZGVmIGFzdGltZXpvbmUoc2VsZiwgdHopOlxuICAgICAgICBpZiBub3QgaXNpbnN0YW5jZSh0eiwgdHppbmZvKTpcbiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigidHogYXJndW1lbnQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB0emluZm8iKVxuXG4gICAgICAgIG15dHogPSBzZWxmLnR6aW5mb1xuICAgICAgICBpZiBteXR6IGlzIE5vbmU6XG4gICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJhc3RpbWV6b25lKCkgcmVxdWlyZXMgYW4gYXdhcmUgZGF0ZXRpbWUiKVxuXG4gICAgICAgIGlmIHR6IGlzIG15dHo6XG4gICAgICAgICAgICByZXR1cm4gc2VsZlxuXG4gICAgICAgICMgQ29udmVydCBzZWxmIHRvIFVUQywgYW5kIGF0dGFjaCB0aGUgbmV3IHRpbWUgem9uZSBvYmplY3QuXG4gICAgICAgIG15b2Zmc2V0ID0gc2VsZi51dGNvZmZzZXQoKVxuICAgICAgICBpZiBteW9mZnNldCBpcyBOb25lOlxuICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiYXN0aW1lem9uZSgpIHJlcXVpcmVzIGFuIGF3YXJlIGRhdGV0aW1lIilcbiAgICAgICAgdXRjID0gKHNlbGYgLSBteW9mZnNldCkucmVwbGFjZSh0emluZm89dHopXG5cbiAgICAgICAgIyBDb252ZXJ0IGZyb20gVVRDIHRvIHR6XCdzIGxvY2FsIHRpbWUuXG4gICAgICAgIHJldHVybiB0ei5mcm9tdXRjKHV0YylcblxuICAgICMgV2F5cyB0byBwcm9kdWNlIGEgc3RyaW5nLlxuXG4gICAgZGVmIGN0aW1lKHNlbGYpOlxuICAgICAgICAiUmV0dXJuIGN0aW1lKCkgc3R5bGUgc3RyaW5nLiJcbiAgICAgICAgd2Vla2RheSA9IHNlbGYudG9vcmRpbmFsKCkgJSA3IG9yIDdcbiAgICAgICAgcmV0dXJuICIlcyAlcyAlMmQgJTAyZDolMDJkOiUwMmQgJTA0ZCIgJSAoXG4gICAgICAgICAgICBfREFZTkFNRVNbd2Vla2RheV0sXG4gICAgICAgICAgICBfTU9OVEhOQU1FU1tzZWxmLl9tb250aF0sXG4gICAgICAgICAgICBzZWxmLl9kYXksXG4gICAgICAgICAgICBzZWxmLl9ob3VyLCBzZWxmLl9taW51dGUsIHNlbGYuX3NlY29uZCxcbiAgICAgICAgICAgIHNlbGYuX3llYXIpXG5cbiAgICBkZWYgaXNvZm9ybWF0KHNlbGYsIHNlcD1cJ1RcJyk6XG4gICAgICAgICIiIlJldHVybiB0aGUgdGltZSBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIElTTy5cblxuICAgICAgICBUaGlzIGlzIFwnWVlZWS1NTS1ERCBISDpNTTpTUy5tbW1tbW1cJywgb3IgXCdZWVlZLU1NLUREIEhIOk1NOlNTXCcgaWZcbiAgICAgICAgc2VsZi5taWNyb3NlY29uZCA9PSAwLlxuXG4gICAgICAgIElmIHNlbGYudHppbmZvIGlzIG5vdCBOb25lLCB0aGUgVVRDIG9mZnNldCBpcyBhbHNvIGF0dGFjaGVkLCBnaXZpbmdcbiAgICAgICAgXCdZWVlZLU1NLUREIEhIOk1NOlNTLm1tbW1tbStISDpNTVwnIG9yIFwnWVlZWS1NTS1ERCBISDpNTTpTUytISDpNTVwnLlxuXG4gICAgICAgIE9wdGlvbmFsIGFyZ3VtZW50IHNlcCBzcGVjaWZpZXMgdGhlIHNlcGFyYXRvciBiZXR3ZWVuIGRhdGUgYW5kXG4gICAgICAgIHRpbWUsIGRlZmF1bHQgXCdUXCcuXG4gICAgICAgICIiIlxuICAgICAgICBzID0gKCIlMDRkLSUwMmQtJTAyZCVjIiAlIChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LCBzZXApICtcbiAgICAgICAgICAgICBfZm9ybWF0X3RpbWUoc2VsZi5faG91ciwgc2VsZi5fbWludXRlLCBzZWxmLl9zZWNvbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kKSlcbiAgICAgICAgb2ZmID0gc2VsZi5fdXRjb2Zmc2V0KClcbiAgICAgICAgaWYgb2ZmIGlzIG5vdCBOb25lOlxuICAgICAgICAgICAgaWYgb2ZmIDwgMDpcbiAgICAgICAgICAgICAgICBzaWduID0gIi0iXG4gICAgICAgICAgICAgICAgb2ZmID0gLW9mZlxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICBzaWduID0gIisiXG4gICAgICAgICAgICBoaCwgbW0gPSBkaXZtb2Qob2ZmLCA2MClcbiAgICAgICAgICAgIHMgKz0gIiVzJTAyZDolMDJkIiAlIChzaWduLCBoaCwgbW0pXG4gICAgICAgIHJldHVybiBzXG5cbiAgICBkZWYgX19yZXByX18oc2VsZik6XG4gICAgICAgICIiIkNvbnZlcnQgdG8gZm9ybWFsIHN0cmluZywgZm9yIHJlcHIoKS4iIiJcbiAgICAgICAgTCA9IFtzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LCAgIyBUaGVzZSBhcmUgbmV2ZXIgemVyb1xuICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLCBzZWxmLl9taWNyb3NlY29uZF1cbiAgICAgICAgaWYgTFstMV0gPT0gMDpcbiAgICAgICAgICAgIGRlbCBMWy0xXVxuICAgICAgICBpZiBMWy0xXSA9PSAwOlxuICAgICAgICAgICAgZGVsIExbLTFdXG4gICAgICAgIHMgPSAiLCAiLmpvaW4obWFwKHN0ciwgTCkpXG4gICAgICAgIG1vZHVsZSA9ICJkYXRldGltZS4iIGlmIHNlbGYuX19jbGFzc19fIGlzIGRhdGV0aW1lIGVsc2UgIiJcbiAgICAgICAgcyA9ICIlcyglcykiICUgKG1vZHVsZSArIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLCBzKVxuICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgbm90IE5vbmU6XG4gICAgICAgICAgICBhc3NlcnQgc1stMTpdID09ICIpIlxuICAgICAgICAgICAgcyA9IHNbOi0xXSArICIsIHR6aW5mbz0lciIgJSBzZWxmLl90emluZm8gKyAiKSJcbiAgICAgICAgcmV0dXJuIHNcblxuICAgIGRlZiBfX3N0cl9fKHNlbGYpOlxuICAgICAgICAiQ29udmVydCB0byBzdHJpbmcsIGZvciBzdHIoKS4iXG4gICAgICAgIHJldHVybiBzZWxmLmlzb2Zvcm1hdChzZXA9XCcgXCcpXG5cbiAgICBAY2xhc3NtZXRob2RcbiAgICBkZWYgc3RycHRpbWUoY2xzLCBkYXRlX3N0cmluZywgZm9ybWF0KTpcbiAgICAgICAgXCdzdHJpbmcsIGZvcm1hdCAtPiBuZXcgZGF0ZXRpbWUgcGFyc2VkIGZyb20gYSBzdHJpbmcgKGxpa2UgdGltZS5zdHJwdGltZSgpKS5cJ1xuICAgICAgICBmcm9tIF9zdHJwdGltZSBpbXBvcnQgX3N0cnB0aW1lXG4gICAgICAgICMgX3N0cnB0aW1lLl9zdHJwdGltZSByZXR1cm5zIGEgdHdvLWVsZW1lbnQgdHVwbGUuICBUaGUgZmlyc3RcbiAgICAgICAgIyBlbGVtZW50IGlzIGEgdGltZS5zdHJ1Y3RfdGltZSBvYmplY3QuICBUaGUgc2Vjb25kIGlzIHRoZVxuICAgICAgICAjIG1pY3Jvc2Vjb25kcyAod2hpY2ggYXJlIG5vdCBkZWZpbmVkIGZvciB0aW1lLnN0cnVjdF90aW1lKS5cbiAgICAgICAgc3RydWN0LCBtaWNyb3MgPSBfc3RycHRpbWUoZGF0ZV9zdHJpbmcsIGZvcm1hdClcbiAgICAgICAgcmV0dXJuIGNscygqKHN0cnVjdFswOjZdICsgKG1pY3JvcywpKSlcblxuICAgIGRlZiB1dGNvZmZzZXQoc2VsZik6XG4gICAgICAgICIiIlJldHVybiB0aGUgdGltZXpvbmUgb2Zmc2V0IGluIG1pbnV0ZXMgZWFzdCBvZiBVVEMgKG5lZ2F0aXZlIHdlc3Qgb2ZcbiAgICAgICAgVVRDKS4iIiJcbiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6XG4gICAgICAgICAgICByZXR1cm4gTm9uZVxuICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8udXRjb2Zmc2V0KHNlbGYpXG4gICAgICAgIG9mZnNldCA9IF9jaGVja191dGNfb2Zmc2V0KCJ1dGNvZmZzZXQiLCBvZmZzZXQpXG4gICAgICAgIGlmIG9mZnNldCBpcyBub3QgTm9uZTpcbiAgICAgICAgICAgIG9mZnNldCA9IHRpbWVkZWx0YS5fY3JlYXRlKDAsIG9mZnNldCAqIDYwLCAwLCBUcnVlKVxuICAgICAgICByZXR1cm4gb2Zmc2V0XG5cbiAgICAjIFJldHVybiBhbiBpbnRlZ2VyIChvciBOb25lKSBpbnN0ZWFkIG9mIGEgdGltZWRlbHRhIChvciBOb25lKS5cbiAgICBkZWYgX3V0Y29mZnNldChzZWxmKTpcbiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6XG4gICAgICAgICAgICByZXR1cm4gTm9uZVxuICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8udXRjb2Zmc2V0KHNlbGYpXG4gICAgICAgIG9mZnNldCA9IF9jaGVja191dGNfb2Zmc2V0KCJ1dGNvZmZzZXQiLCBvZmZzZXQpXG4gICAgICAgIHJldHVybiBvZmZzZXRcblxuICAgIGRlZiB0em5hbWUoc2VsZik6XG4gICAgICAgICIiIlJldHVybiB0aGUgdGltZXpvbmUgbmFtZS5cblxuICAgICAgICBOb3RlIHRoYXQgdGhlIG5hbWUgaXMgMTAwJSBpbmZvcm1hdGlvbmFsIC0tIHRoZXJlXCdzIG5vIHJlcXVpcmVtZW50IHRoYXRcbiAgICAgICAgaXQgbWVhbiBhbnl0aGluZyBpbiBwYXJ0aWN1bGFyLiBGb3IgZXhhbXBsZSwgIkdNVCIsICJVVEMiLCAiLTUwMCIsXG4gICAgICAgICItNTowMCIsICJFRFQiLCAiVVMvRWFzdGVybiIsICJBbWVyaWNhL05ldyBZb3JrIiBhcmUgYWxsIHZhbGlkIHJlcGxpZXMuXG4gICAgICAgICIiIlxuICAgICAgICBpZiBzZWxmLl90emluZm8gaXMgTm9uZTpcbiAgICAgICAgICAgIHJldHVybiBOb25lXG4gICAgICAgIG5hbWUgPSBzZWxmLl90emluZm8udHpuYW1lKHNlbGYpXG4gICAgICAgIF9jaGVja190em5hbWUobmFtZSlcbiAgICAgICAgcmV0dXJuIG5hbWVcblxuICAgIGRlZiBkc3Qoc2VsZik6XG4gICAgICAgICIiIlJldHVybiAwIGlmIERTVCBpcyBub3QgaW4gZWZmZWN0LCBvciB0aGUgRFNUIG9mZnNldCAoaW4gbWludXRlc1xuICAgICAgICBlYXN0d2FyZCkgaWYgRFNUIGlzIGluIGVmZmVjdC5cblxuICAgICAgICBUaGlzIGlzIHB1cmVseSBpbmZvcm1hdGlvbmFsOyB0aGUgRFNUIG9mZnNldCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvXG4gICAgICAgIHRoZSBVVEMgb2Zmc2V0IHJldHVybmVkIGJ5IHV0Y29mZnNldCgpIGlmIGFwcGxpY2FibGUsIHNvIHRoZXJlXCdzIG5vXG4gICAgICAgIG5lZWQgdG8gY29uc3VsdCBkc3QoKSB1bmxlc3MgeW91XCdyZSBpbnRlcmVzdGVkIGluIGRpc3BsYXlpbmcgdGhlIERTVFxuICAgICAgICBpbmZvLlxuICAgICAgICAiIiJcbiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6XG4gICAgICAgICAgICByZXR1cm4gTm9uZVxuICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8uZHN0KHNlbGYpXG4gICAgICAgIG9mZnNldCA9IF9jaGVja191dGNfb2Zmc2V0KCJkc3QiLCBvZmZzZXQpXG4gICAgICAgIGlmIG9mZnNldCBpcyBub3QgTm9uZTpcbiAgICAgICAgICAgIG9mZnNldCA9IHRpbWVkZWx0YS5fY3JlYXRlKDAsIG9mZnNldCAqIDYwLCAwLCBUcnVlKVxuICAgICAgICByZXR1cm4gb2Zmc2V0XG5cbiAgICAjIFJldHVybiBhbiBpbnRlZ2VyIChvciBOb25lKSBpbnN0ZWFkIG9mIGEgdGltZWRlbHRhIChvciBOb25lKS5cbiAgICBkZWYgX2RzdChzZWxmKTpcbiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIE5vbmU6XG4gICAgICAgICAgICByZXR1cm4gTm9uZVxuICAgICAgICBvZmZzZXQgPSBzZWxmLl90emluZm8uZHN0KHNlbGYpXG4gICAgICAgIG9mZnNldCA9IF9jaGVja191dGNfb2Zmc2V0KCJkc3QiLCBvZmZzZXQpXG4gICAgICAgIHJldHVybiBvZmZzZXRcblxuICAgICMgQ29tcGFyaXNvbnMgb2YgZGF0ZXRpbWUgb2JqZWN0cyB3aXRoIG90aGVyLlxuXG4gICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6XG4gICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpID09IDBcbiAgICAgICAgZWxpZiBoYXNhdHRyKG90aGVyLCAidGltZXR1cGxlIikgYW5kIG5vdCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKTpcbiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZFxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcmV0dXJuIEZhbHNlXG5cbiAgICBkZWYgX19uZV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgIT0gMFxuICAgICAgICBlbGlmIGhhc2F0dHIob3RoZXIsICJ0aW1ldHVwbGUiKSBhbmQgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOlxuICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gVHJ1ZVxuXG4gICAgZGVmIF9fbGVfXyhzZWxmLCBvdGhlcik6XG4gICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDw9IDBcbiAgICAgICAgZWxpZiBoYXNhdHRyKG90aGVyLCAidGltZXR1cGxlIikgYW5kIG5vdCBpc2luc3RhbmNlKG90aGVyLCBkYXRlKTpcbiAgICAgICAgICAgIHJldHVybiBOb3RJbXBsZW1lbnRlZFxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgX2NtcGVycm9yKHNlbGYsIG90aGVyKVxuXG4gICAgZGVmIF9fbHRfXyhzZWxmLCBvdGhlcik6XG4gICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jbXAob3RoZXIpIDwgMFxuICAgICAgICBlbGlmIGhhc2F0dHIob3RoZXIsICJ0aW1ldHVwbGUiKSBhbmQgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOlxuICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpXG5cbiAgICBkZWYgX19nZV9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPj0gMFxuICAgICAgICBlbGlmIGhhc2F0dHIob3RoZXIsICJ0aW1ldHVwbGUiKSBhbmQgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGUpOlxuICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBfY21wZXJyb3Ioc2VsZiwgb3RoZXIpXG5cbiAgICBkZWYgX19ndF9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgZGF0ZXRpbWUpOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NtcChvdGhlcikgPiAwXG4gICAgICAgIGVsaWYgaGFzYXR0cihvdGhlciwgInRpbWV0dXBsZSIpIGFuZCBub3QgaXNpbnN0YW5jZShvdGhlciwgZGF0ZSk6XG4gICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWRcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIF9jbXBlcnJvcihzZWxmLCBvdGhlcilcblxuICAgIGRlZiBfY21wKHNlbGYsIG90aGVyKTpcbiAgICAgICAgYXNzZXJ0IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKVxuICAgICAgICBteXR6ID0gc2VsZi5fdHppbmZvXG4gICAgICAgIG90dHogPSBvdGhlci5fdHppbmZvXG4gICAgICAgIG15b2ZmID0gb3RvZmYgPSBOb25lXG5cbiAgICAgICAgaWYgbXl0eiBpcyBvdHR6OlxuICAgICAgICAgICAgYmFzZV9jb21wYXJlID0gVHJ1ZVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgaWYgbXl0eiBpcyBub3QgTm9uZTpcbiAgICAgICAgICAgICAgICBteW9mZiA9IHNlbGYuX3V0Y29mZnNldCgpXG4gICAgICAgICAgICBpZiBvdHR6IGlzIG5vdCBOb25lOlxuICAgICAgICAgICAgICAgIG90b2ZmID0gb3RoZXIuX3V0Y29mZnNldCgpXG4gICAgICAgICAgICBiYXNlX2NvbXBhcmUgPSBteW9mZiA9PSBvdG9mZlxuXG4gICAgICAgIGlmIGJhc2VfY29tcGFyZTpcbiAgICAgICAgICAgIHJldHVybiBfY21wKChzZWxmLl95ZWFyLCBzZWxmLl9tb250aCwgc2VsZi5fZGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2hvdXIsIHNlbGYuX21pbnV0ZSwgc2VsZi5fc2Vjb25kLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX21pY3Jvc2Vjb25kKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChvdGhlci5feWVhciwgb3RoZXIuX21vbnRoLCBvdGhlci5fZGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLl9ob3VyLCBvdGhlci5fbWludXRlLCBvdGhlci5fc2Vjb25kLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLl9taWNyb3NlY29uZCkpXG4gICAgICAgIGlmIG15b2ZmIGlzIE5vbmUgb3Igb3RvZmYgaXMgTm9uZTpcbiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiY2FuXCd0IGNvbXBhcmUgb2Zmc2V0LW5haXZlIGFuZCBvZmZzZXQtYXdhcmUgZGF0ZXRpbWVzIilcbiAgICAgICAgIyBYWFggV2hhdCBmb2xsb3dzIGNvdWxkIGJlIGRvbmUgbW9yZSBlZmZpY2llbnRseS4uLlxuICAgICAgICBkaWZmID0gc2VsZiAtIG90aGVyICAgICAjIHRoaXMgd2lsbCB0YWtlIG9mZnNldHMgaW50byBhY2NvdW50XG4gICAgICAgIGlmIGRpZmYuZGF5cyA8IDA6XG4gICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgcmV0dXJuIGRpZmYgYW5kIDEgb3IgMFxuXG4gICAgZGVmIF9hZGRfdGltZWRlbHRhKHNlbGYsIG90aGVyLCBmYWN0b3IpOlxuICAgICAgICB5LCBtLCBkLCBoaCwgbW0sIHNzLCB1cyA9IF9ub3JtYWxpemVfZGF0ZXRpbWUoXG4gICAgICAgICAgICBzZWxmLl95ZWFyLFxuICAgICAgICAgICAgc2VsZi5fbW9udGgsXG4gICAgICAgICAgICBzZWxmLl9kYXkgKyBvdGhlci5kYXlzICogZmFjdG9yLFxuICAgICAgICAgICAgc2VsZi5faG91cixcbiAgICAgICAgICAgIHNlbGYuX21pbnV0ZSxcbiAgICAgICAgICAgIHNlbGYuX3NlY29uZCArIG90aGVyLnNlY29uZHMgKiBmYWN0b3IsXG4gICAgICAgICAgICBzZWxmLl9taWNyb3NlY29uZCArIG90aGVyLm1pY3Jvc2Vjb25kcyAqIGZhY3RvcilcbiAgICAgICAgcmV0dXJuIGRhdGV0aW1lKHksIG0sIGQsIGhoLCBtbSwgc3MsIHVzLCB0emluZm89c2VsZi5fdHppbmZvKVxuXG4gICAgZGVmIF9fYWRkX18oc2VsZiwgb3RoZXIpOlxuICAgICAgICAiQWRkIGEgZGF0ZXRpbWUgYW5kIGEgdGltZWRlbHRhLiJcbiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6XG4gICAgICAgICAgICByZXR1cm4gTm90SW1wbGVtZW50ZWRcbiAgICAgICAgcmV0dXJuIHNlbGYuX2FkZF90aW1lZGVsdGEob3RoZXIsIDEpXG5cbiAgICBfX3JhZGRfXyA9IF9fYWRkX19cblxuICAgIGRlZiBfX3N1Yl9fKHNlbGYsIG90aGVyKTpcbiAgICAgICAgIlN1YnRyYWN0IHR3byBkYXRldGltZXMsIG9yIGEgZGF0ZXRpbWUgYW5kIGEgdGltZWRlbHRhLiJcbiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIGRhdGV0aW1lKTpcbiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIHRpbWVkZWx0YSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2FkZF90aW1lZGVsdGEob3RoZXIsIC0xKVxuICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkXG5cbiAgICAgICAgZGVsdGFfZCA9IHNlbGYudG9vcmRpbmFsKCkgLSBvdGhlci50b29yZGluYWwoKVxuICAgICAgICBkZWx0YV9zID0gKHNlbGYuX2hvdXIgLSBvdGhlci5faG91cikgKiAzNjAwICsgXFxcbiAgICAgICAgICAgICAgICAgIChzZWxmLl9taW51dGUgLSBvdGhlci5fbWludXRlKSAqIDYwICsgXFxcbiAgICAgICAgICAgICAgICAgIChzZWxmLl9zZWNvbmQgLSBvdGhlci5fc2Vjb25kKVxuICAgICAgICBkZWx0YV91cyA9IHNlbGYuX21pY3Jvc2Vjb25kIC0gb3RoZXIuX21pY3Jvc2Vjb25kXG4gICAgICAgIGJhc2UgPSB0aW1lZGVsdGEuX2NyZWF0ZShkZWx0YV9kLCBkZWx0YV9zLCBkZWx0YV91cywgVHJ1ZSlcbiAgICAgICAgaWYgc2VsZi5fdHppbmZvIGlzIG90aGVyLl90emluZm86XG4gICAgICAgICAgICByZXR1cm4gYmFzZVxuICAgICAgICBteW9mZiA9IHNlbGYuX3V0Y29mZnNldCgpXG4gICAgICAgIG90b2ZmID0gb3RoZXIuX3V0Y29mZnNldCgpXG4gICAgICAgIGlmIG15b2ZmID09IG90b2ZmOlxuICAgICAgICAgICAgcmV0dXJuIGJhc2VcbiAgICAgICAgaWYgbXlvZmYgaXMgTm9uZSBvciBvdG9mZiBpcyBOb25lOlxuICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCJjYW5cJ3Qgc3VidHJhY3Qgb2Zmc2V0LW5haXZlIGFuZCBvZmZzZXQtYXdhcmUgZGF0ZXRpbWVzIilcbiAgICAgICAgcmV0dXJuIGJhc2UgKyB0aW1lZGVsdGEobWludXRlcyA9IG90b2ZmLW15b2ZmKVxuXG4gICAgZGVmIF9faGFzaF9fKHNlbGYpOlxuICAgICAgICBpZiBzZWxmLl9oYXNoY29kZSA9PSAtMTpcbiAgICAgICAgICAgIHR6b2ZmID0gc2VsZi5fdXRjb2Zmc2V0KClcbiAgICAgICAgICAgIGlmIHR6b2ZmIGlzIE5vbmU6XG4gICAgICAgICAgICAgICAgc2VsZi5faGFzaGNvZGUgPSBoYXNoKHNlbGYuX2dldHN0YXRlKClbMF0pXG4gICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgIGRheXMgPSBfeW1kMm9yZChzZWxmLnllYXIsIHNlbGYubW9udGgsIHNlbGYuZGF5KVxuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBzZWxmLmhvdXIgKiAzNjAwICsgKHNlbGYubWludXRlIC0gdHpvZmYpICogNjAgKyBzZWxmLnNlY29uZFxuICAgICAgICAgICAgICAgIHNlbGYuX2hhc2hjb2RlID0gaGFzaCh0aW1lZGVsdGEoZGF5cywgc2Vjb25kcywgc2VsZi5taWNyb3NlY29uZCkpXG4gICAgICAgIHJldHVybiBzZWxmLl9oYXNoY29kZVxuXG5cblxuZGF0ZXRpbWUubWluID0gZGF0ZXRpbWUoMSwgMSwgMSlcbmRhdGV0aW1lLm1heCA9IGRhdGV0aW1lKDk5OTksIDEyLCAzMSwgMjMsIDU5LCA1OSwgOTk5OTk5KVxuZGF0ZXRpbWUucmVzb2x1dGlvbiA9IHRpbWVkZWx0YShtaWNyb3NlY29uZHM9MSlcblxuXG5kZWYgX2lzb3dlZWsxbW9uZGF5KHllYXIpOlxuICAgICMgSGVscGVyIHRvIGNhbGN1bGF0ZSB0aGUgZGF5IG51bWJlciBvZiB0aGUgTW9uZGF5IHN0YXJ0aW5nIHdlZWsgMVxuICAgICMgWFhYIFRoaXMgY291bGQgYmUgZG9uZSBtb3JlIGVmZmljaWVudGx5XG4gICAgVEhVUlNEQVkgPSAzXG4gICAgZmlyc3RkYXkgPSBfeW1kMm9yZCh5ZWFyLCAxLCAxKVxuICAgIGZpcnN0d2Vla2RheSA9IChmaXJzdGRheSArIDYpICUgNyAgIyBTZWUgd2Vla2RheSgpIGFib3ZlXG4gICAgd2VlazFtb25kYXkgPSBmaXJzdGRheSAtIGZpcnN0d2Vla2RheVxuICAgIGlmIGZpcnN0d2Vla2RheSA+IFRIVVJTREFZOlxuICAgICAgICB3ZWVrMW1vbmRheSArPSA3XG4gICAgcmV0dXJuIHdlZWsxbW9uZGF5XG5cbiIiIlxuU29tZSB0aW1lIHpvbmUgYWxnZWJyYS4gIEZvciBhIGRhdGV0aW1lIHgsIGxldFxuICAgIHgubiA9IHggc3RyaXBwZWQgb2YgaXRzIHRpbWV6b25lIC0tIGl0cyBuYWl2ZSB0aW1lLlxuICAgIHgubyA9IHgudXRjb2Zmc2V0KCksIGFuZCBhc3N1bWluZyB0aGF0IGRvZXNuXCd0IHJhaXNlIGFuIGV4Y2VwdGlvbiBvclxuICAgICAgICAgIHJldHVybiBOb25lXG4gICAgeC5kID0geC5kc3QoKSwgYW5kIGFzc3VtaW5nIHRoYXQgZG9lc25cJ3QgcmFpc2UgYW4gZXhjZXB0aW9uIG9yXG4gICAgICAgICAgcmV0dXJuIE5vbmVcbiAgICB4LnMgPSB4XCdzIHN0YW5kYXJkIG9mZnNldCwgeC5vIC0geC5kXG5cbk5vdyBzb21lIGRlcml2ZWQgcnVsZXMsIHdoZXJlIGsgaXMgYSBkdXJhdGlvbiAodGltZWRlbHRhKS5cblxuMS4geC5vID0geC5zICsgeC5kXG4gICBUaGlzIGZvbGxvd3MgZnJvbSB0aGUgZGVmaW5pdGlvbiBvZiB4LnMuXG5cbjIuIElmIHggYW5kIHkgaGF2ZSB0aGUgc2FtZSB0emluZm8gbWVtYmVyLCB4LnMgPSB5LnMuXG4gICBUaGlzIGlzIGFjdHVhbGx5IGEgcmVxdWlyZW1lbnQsIGFuIGFzc3VtcHRpb24gd2UgbmVlZCB0byBtYWtlIGFib3V0XG4gICBzYW5lIHR6aW5mbyBjbGFzc2VzLlxuXG4zLiBUaGUgbmFpdmUgVVRDIHRpbWUgY29ycmVzcG9uZGluZyB0byB4IGlzIHgubiAtIHguby5cbiAgIFRoaXMgaXMgYWdhaW4gYSByZXF1aXJlbWVudCBmb3IgYSBzYW5lIHR6aW5mbyBjbGFzcy5cblxuNC4gKHgraykucyA9IHguc1xuICAgVGhpcyBmb2xsb3dzIGZyb20gIzIsIGFuZCB0aGF0IGRhdGltZXRpbWV0eit0aW1lZGVsdGEgcHJlc2VydmVzIHR6aW5mby5cblxuNS4gKHgraykubiA9IHgubiArIGtcbiAgIEFnYWluIGZvbGxvd3MgZnJvbSBob3cgYXJpdGhtZXRpYyBpcyBkZWZpbmVkLlxuXG5Ob3cgd2UgY2FuIGV4cGxhaW4gdHouZnJvbXV0Yyh4KS4gIExldFwncyBhc3N1bWUgaXRcJ3MgYW4gaW50ZXJlc3RpbmcgY2FzZVxuKG1lYW5pbmcgdGhhdCB0aGUgdmFyaW91cyB0emluZm8gbWV0aG9kcyBleGlzdCwgYW5kIGRvblwndCBibG93IHVwIG9yIHJldHVyblxuTm9uZSB3aGVuIGNhbGxlZCkuXG5cblRoZSBmdW5jdGlvbiB3YW50cyB0byByZXR1cm4gYSBkYXRldGltZSB5IHdpdGggdGltZXpvbmUgdHosIGVxdWl2YWxlbnQgdG8geC5cbnggaXMgYWxyZWFkeSBpbiBVVEMuXG5cbkJ5ICMzLCB3ZSB3YW50XG5cbiAgICB5Lm4gLSB5Lm8gPSB4Lm4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsxXVxuXG5UaGUgYWxnb3JpdGhtIHN0YXJ0cyBieSBhdHRhY2hpbmcgdHogdG8geC5uLCBhbmQgY2FsbGluZyB0aGF0IHkuICBTb1xueC5uID0geS5uIGF0IHRoZSBzdGFydC4gIFRoZW4gaXQgd2FudHMgdG8gYWRkIGEgZHVyYXRpb24gayB0byB5LCBzbyB0aGF0IFsxXVxuYmVjb21lcyB0cnVlOyBpbiBlZmZlY3QsIHdlIHdhbnQgdG8gc29sdmUgWzJdIGZvciBrOlxuXG4gICAoeStrKS5uIC0gKHkraykubyA9IHgubiAgICAgICAgICAgICAgICAgICAgICBbMl1cblxuQnkgIzEsIHRoaXMgaXMgdGhlIHNhbWUgYXNcblxuICAgKHkraykubiAtICgoeStrKS5zICsgKHkraykuZCkgPSB4Lm4gICAgICAgICAgWzNdXG5cbkJ5ICM1LCAoeStrKS5uID0geS5uICsgaywgd2hpY2ggZXF1YWxzIHgubiArIGsgYmVjYXVzZSB4Lm49eS5uIGF0IHRoZSBzdGFydC5cblN1YnN0aXR1dGluZyB0aGF0IGludG8gWzNdLFxuXG4gICB4Lm4gKyBrIC0gKHkraykucyAtICh5K2spLmQgPSB4Lm47IHRoZSB4Lm4gdGVybXMgY2FuY2VsLCBsZWF2aW5nXG4gICBrIC0gKHkraykucyAtICh5K2spLmQgPSAwOyByZWFycmFuZ2luZyxcbiAgIGsgPSAoeStrKS5zIC0gKHkraykuZDsgYnkgIzQsICh5K2spLnMgPT0geS5zLCBzb1xuICAgayA9IHkucyAtICh5K2spLmRcblxuT24gdGhlIFJIUywgKHkraykuZCBjYW5cJ3QgYmUgY29tcHV0ZWQgZGlyZWN0bHksIGJ1dCB5LnMgY2FuIGJlLCBhbmQgd2VcbmFwcHJveGltYXRlIGsgYnkgaWdub3JpbmcgdGhlICh5K2spLmQgdGVybSBhdCBmaXJzdC4gIE5vdGUgdGhhdCBrIGNhblwndCBiZVxudmVyeSBsYXJnZSwgc2luY2UgYWxsIG9mZnNldC1yZXR1cm5pbmcgbWV0aG9kcyByZXR1cm4gYSBkdXJhdGlvbiBvZiBtYWduaXR1ZGVcbmxlc3MgdGhhbiAyNCBob3Vycy4gIEZvciB0aGF0IHJlYXNvbiwgaWYgeSBpcyBmaXJtbHkgaW4gc3RkIHRpbWUsICh5K2spLmQgbXVzdFxuYmUgMCwgc28gaWdub3JpbmcgaXQgaGFzIG5vIGNvbnNlcXVlbmNlIHRoZW4uXG5cbkluIGFueSBjYXNlLCB0aGUgbmV3IHZhbHVlIGlzXG5cbiAgICB6ID0geSArIHkucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFs0XVxuXG5JdFwncyBoZWxwZnVsIHRvIHN0ZXAgYmFjayBhdCBsb29rIGF0IFs0XSBmcm9tIGEgaGlnaGVyIGxldmVsOiAgaXRcJ3Mgc2ltcGx5XG5tYXBwaW5nIGZyb20gVVRDIHRvIHR6XCdzIHN0YW5kYXJkIHRpbWUuXG5cbkF0IHRoaXMgcG9pbnQsIGlmXG5cbiAgICB6Lm4gLSB6Lm8gPSB4Lm4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFs1XVxuXG53ZSBoYXZlIGFuIGVxdWl2YWxlbnQgdGltZSwgYW5kIGFyZSBhbG1vc3QgZG9uZS4gIFRoZSBpbnNlY3VyaXR5IGhlcmUgaXNcbmF0IHRoZSBzdGFydCBvZiBkYXlsaWdodCB0aW1lLiAgUGljdHVyZSBVUyBFYXN0ZXJuIGZvciBjb25jcmV0ZW5lc3MuICBUaGUgd2FsbFxudGltZSBqdW1wcyBmcm9tIDE6NTkgdG8gMzowMCwgYW5kIHdhbGwgaG91cnMgb2YgdGhlIGZvcm0gMjpNTSBkb25cJ3QgbWFrZSBnb29kXG5zZW5zZSB0aGVuLiAgVGhlIGRvY3MgYXNrIHRoYXQgYW4gRWFzdGVybiB0emluZm8gY2xhc3MgY29uc2lkZXIgc3VjaCBhIHRpbWUgdG9cbmJlIEVEVCAoYmVjYXVzZSBpdFwncyAiYWZ0ZXIgMiIpLCB3aGljaCBpcyBhIHJlZHVuZGFudCBzcGVsbGluZyBvZiAxOk1NIEVTVFxub24gdGhlIGRheSBEU1Qgc3RhcnRzLiAgV2Ugd2FudCB0byByZXR1cm4gdGhlIDE6TU0gRVNUIHNwZWxsaW5nIGJlY2F1c2UgdGhhdFwnc1xudGhlIG9ubHkgc3BlbGxpbmcgdGhhdCBtYWtlcyBzZW5zZSBvbiB0aGUgbG9jYWwgd2FsbCBjbG9jay5cblxuSW4gZmFjdCwgaWYgWzVdIGhvbGRzIGF0IHRoaXMgcG9pbnQsIHdlIGRvIGhhdmUgdGhlIHN0YW5kYXJkLXRpbWUgc3BlbGxpbmcsXG5idXQgdGhhdCB0YWtlcyBhIGJpdCBvZiBwcm9vZi4gIFdlIGZpcnN0IHByb3ZlIGEgc3Ryb25nZXIgcmVzdWx0LiAgV2hhdFwncyB0aGVcbmRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgTEhTIGFuZCBSSFMgb2YgWzVdPyAgTGV0XG5cbiAgICBkaWZmID0geC5uIC0gKHoubiAtIHoubykgICAgICAgICAgICAgICAgICAgIFs2XVxuXG5Ob3dcbiAgICB6Lm4gPSAgICAgICAgICAgICAgICAgICAgICAgYnkgWzRdXG4gICAgKHkgKyB5LnMpLm4gPSAgICAgICAgICAgICAgIGJ5ICM1XG4gICAgeS5uICsgeS5zID0gICAgICAgICAgICAgICAgIHNpbmNlIHkubiA9IHgublxuICAgIHgubiArIHkucyA9ICAgICAgICAgICAgICAgICBzaW5jZSB6IGFuZCB5IGFyZSBoYXZlIHRoZSBzYW1lIHR6aW5mbyBtZW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5LnMgPSB6LnMgYnkgIzJcbiAgICB4Lm4gKyB6LnNcblxuUGx1Z2dpbmcgdGhhdCBiYWNrIGludG8gWzZdIGdpdmVzXG5cbiAgICBkaWZmID1cbiAgICB4Lm4gLSAoKHgubiArIHoucykgLSB6Lm8pID0gICAgIGV4cGFuZGluZ1xuICAgIHgubiAtIHgubiAtIHoucyArIHoubyA9ICAgICAgICAgY2FuY2VsbGluZ1xuICAgIC0gei5zICsgei5vID0gICAgICAgICAgICAgICAgICAgYnkgIzJcbiAgICB6LmRcblxuU28gZGlmZiA9IHouZC5cblxuSWYgWzVdIGlzIHRydWUgbm93LCBkaWZmID0gMCwgc28gei5kID0gMCB0b28sIGFuZCB3ZSBoYXZlIHRoZSBzdGFuZGFyZC10aW1lXG5zcGVsbGluZyB3ZSB3YW50ZWQgaW4gdGhlIGVuZGNhc2UgZGVzY3JpYmVkIGFib3ZlLiAgV2VcJ3JlIGRvbmUuICBDb250cmFyaWx5LFxuaWYgei5kID0gMCwgdGhlbiB3ZSBoYXZlIGEgVVRDIGVxdWl2YWxlbnQsIGFuZCBhcmUgYWxzbyBkb25lLlxuXG5JZiBbNV0gaXMgbm90IHRydWUgbm93LCBkaWZmID0gei5kICE9IDAsIGFuZCB6LmQgaXMgdGhlIG9mZnNldCB3ZSBuZWVkIHRvXG5hZGQgdG8geiAoaW4gZWZmZWN0LCB6IGlzIGluIHR6XCdzIHN0YW5kYXJkIHRpbWUsIGFuZCB3ZSBuZWVkIHRvIHNoaWZ0IHRoZVxubG9jYWwgY2xvY2sgaW50byB0elwncyBkYXlsaWdodCB0aW1lKS5cblxuTGV0XG5cbiAgICB6XCcgPSB6ICsgei5kID0geiArIGRpZmYgICAgICAgICAgICAgICAgICAgICBbN11cblxuYW5kIHdlIGNhbiBhZ2FpbiBhc2sgd2hldGhlclxuXG4gICAgelwnLm4gLSB6XCcubyA9IHgubiAgICAgICAgICAgICAgICAgICAgICAgICAgIFs4XVxuXG5JZiBzbywgd2VcJ3JlIGRvbmUuICBJZiBub3QsIHRoZSB0emluZm8gY2xhc3MgaXMgaW5zYW5lLCBhY2NvcmRpbmcgdG8gdGhlXG5hc3N1bXB0aW9ucyB3ZVwndmUgbWFkZS4gIFRoaXMgYWxzbyByZXF1aXJlcyBhIGJpdCBvZiBwcm9vZi4gIEFzIGJlZm9yZSwgbGV0XCdzXG5jb21wdXRlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIExIUyBhbmQgUkhTIG9mIFs4XSAoYW5kIHNraXBwaW5nIHNvbWUgb2ZcbnRoZSBqdXN0aWZpY2F0aW9ucyBmb3IgdGhlIGtpbmRzIG9mIHN1YnN0aXR1dGlvbnMgd2VcJ3ZlIGRvbmUgc2V2ZXJhbCB0aW1lc1xuYWxyZWFkeSk6XG5cbiAgICBkaWZmXCcgPSB4Lm4gLSAoelwnLm4gLSB6XCcubykgPSAgICAgICAgICAgcmVwbGFjaW5nIHpcJy5uIHZpYSBbN11cbiAgICAgICAgICAgIHgubiAgLSAoei5uICsgZGlmZiAtIHpcJy5vKSA9ICAgIHJlcGxhY2luZyBkaWZmIHZpYSBbNl1cbiAgICAgICAgICAgIHgubiAtICh6Lm4gKyB4Lm4gLSAoei5uIC0gei5vKSAtIHpcJy5vKSA9XG4gICAgICAgICAgICB4Lm4gLSB6Lm4gLSB4Lm4gKyB6Lm4gLSB6Lm8gKyB6XCcubyA9ICAgIGNhbmNlbCB4Lm5cbiAgICAgICAgICAgIC0gei5uICsgei5uIC0gei5vICsgelwnLm8gPSAgICAgICAgICAgICAgY2FuY2VsIHoublxuICAgICAgICAgICAgLSB6Lm8gKyB6XCcubyA9ICAgICAgICAgICAgICAgICAgICAgICMxIHR3aWNlXG4gICAgICAgICAgICAtei5zIC0gei5kICsgelwnLnMgKyB6XCcuZCA9ICAgICAgICAgIHogYW5kIHpcJyBoYXZlIHNhbWUgdHppbmZvXG4gICAgICAgICAgICB6XCcuZCAtIHouZFxuXG5TbyB6XCcgaXMgVVRDLWVxdWl2YWxlbnQgdG8geCBpZmYgelwnLmQgPSB6LmQgYXQgdGhpcyBwb2ludC4gIElmIHRoZXkgYXJlIGVxdWFsLFxud2VcJ3ZlIGZvdW5kIHRoZSBVVEMtZXF1aXZhbGVudCBzbyBhcmUgZG9uZS4gIEluIGZhY3QsIHdlIHN0b3Agd2l0aCBbN10gYW5kXG5yZXR1cm4gelwnLCBub3QgYm90aGVyaW5nIHRvIGNvbXB1dGUgelwnLmQuXG5cbkhvdyBjb3VsZCB6LmQgYW5kIHpcJ2QgZGlmZmVyPyAgelwnID0geiArIHouZCBbN10sIHNvIG1lcmVseSBtb3ZpbmcgelwnIGJ5XG5hIGRzdCgpIG9mZnNldCwgYW5kIHN0YXJ0aW5nICpmcm9tKiBhIHRpbWUgYWxyZWFkeSBpbiBEU1QgKHdlIGtub3cgei5kICE9IDApLFxud291bGQgaGF2ZSB0byBjaGFuZ2UgdGhlIHJlc3VsdCBkc3QoKSByZXR1cm5zOiAgd2Ugc3RhcnQgaW4gRFNULCBhbmQgbW92aW5nXG5hIGxpdHRsZSBmdXJ0aGVyIGludG8gaXQgdGFrZXMgdXMgb3V0IG9mIERTVC5cblxuVGhlcmUgaXNuXCd0IGEgc2FuZSBjYXNlIHdoZXJlIHRoaXMgY2FuIGhhcHBlbi4gIFRoZSBjbG9zZXN0IGl0IGdldHMgaXMgYXRcbnRoZSBlbmQgb2YgRFNULCB3aGVyZSB0aGVyZVwncyBhbiBob3VyIGluIFVUQyB3aXRoIG5vIHNwZWxsaW5nIGluIGEgaHlicmlkXG50emluZm8gY2xhc3MuICBJbiBVUyBFYXN0ZXJuLCB0aGF0XCdzIDU6TU0gVVRDID0gMDpNTSBFU1QgPSAxOk1NIEVEVC4gIER1cmluZ1xudGhhdCBob3VyLCBvbiBhbiBFYXN0ZXJuIGNsb2NrIDE6TU0gaXMgdGFrZW4gYXMgYmVpbmcgaW4gc3RhbmRhcmQgdGltZSAoNjpNTVxuVVRDKSBiZWNhdXNlIHRoZSBkb2NzIGluc2lzdCBvbiB0aGF0LCBidXQgMDpNTSBpcyB0YWtlbiBhcyBiZWluZyBpbiBkYXlsaWdodFxudGltZSAoNDpNTSBVVEMpLiAgVGhlcmUgaXMgbm8gbG9jYWwgdGltZSBtYXBwaW5nIHRvIDU6TU0gVVRDLiAgVGhlIGxvY2FsXG5jbG9jayBqdW1wcyBmcm9tIDE6NTkgYmFjayB0byAxOjAwIGFnYWluLCBhbmQgcmVwZWF0cyB0aGUgMTpNTSBob3VyIGluXG5zdGFuZGFyZCB0aW1lLiAgU2luY2UgdGhhdFwncyB3aGF0IHRoZSBsb2NhbCBjbG9jayAqZG9lcyosIHdlIHdhbnQgdG8gbWFwIGJvdGhcblVUQyBob3VycyA1Ok1NIGFuZCA2Ok1NIHRvIDE6TU0gRWFzdGVybi4gIFRoZSByZXN1bHQgaXMgYW1iaWd1b3VzXG5pbiBsb2NhbCB0aW1lLCBidXQgc28gaXQgZ29lcyAtLSBpdFwncyB0aGUgd2F5IHRoZSBsb2NhbCBjbG9jayB3b3Jrcy5cblxuV2hlbiB4ID0gNTpNTSBVVEMgaXMgdGhlIGlucHV0IHRvIHRoaXMgYWxnb3JpdGhtLCB4Lm89MCwgeS5vPS01IGFuZCB5LmQ9MCxcbnNvIHo9MDpNTS4gIHouZD02MCAobWludXRlcykgdGhlbiwgc28gWzVdIGRvZXNuXCd0IGhvbGQgYW5kIHdlIGtlZXAgZ29pbmcuXG56XCcgPSB6ICsgei5kID0gMTpNTSB0aGVuLCBhbmQgelwnLmQ9MCwgYW5kIHpcJy5kIC0gei5kID0gLTYwICE9IDAgc28gWzhdXG4oY29ycmVjdGx5KSBjb25jbHVkZXMgdGhhdCB6XCcgaXMgbm90IFVUQy1lcXVpdmFsZW50IHRvIHguXG5cbkJlY2F1c2Ugd2Uga25vdyB6LmQgc2FpZCB6IHdhcyBpbiBkYXlsaWdodCB0aW1lIChlbHNlIFs1XSB3b3VsZCBoYXZlIGhlbGQgYW5kXG53ZSB3b3VsZCBoYXZlIHN0b3BwZWQgdGhlbiksIGFuZCB3ZSBrbm93IHouZCAhPSB6XCcuZCAoZWxzZSBbOF0gd291bGQgaGF2ZSBoZWxkXG5hbmQgd2UgaGF2ZSBzdG9wcGVkIHRoZW4pLCBhbmQgdGhlcmUgYXJlIG9ubHkgMiBwb3NzaWJsZSB2YWx1ZXMgZHN0KCkgY2FuXG5yZXR1cm4gaW4gRWFzdGVybiwgaXQgZm9sbG93cyB0aGF0IHpcJy5kIG11c3QgYmUgMCAod2hpY2ggaXQgaXMgaW4gdGhlIGV4YW1wbGUsXG5idXQgdGhlIHJlYXNvbmluZyBkb2VzblwndCBkZXBlbmQgb24gdGhlIGV4YW1wbGUgLS0gaXQgZGVwZW5kcyBvbiB0aGVyZSBiZWluZ1xudHdvIHBvc3NpYmxlIGRzdCgpIG91dGNvbWVzLCBvbmUgemVybyBhbmQgdGhlIG90aGVyIG5vbi16ZXJvKS4gIFRoZXJlZm9yZVxuelwnIG11c3QgYmUgaW4gc3RhbmRhcmQgdGltZSwgYW5kIGlzIHRoZSBzcGVsbGluZyB3ZSB3YW50IGluIHRoaXMgY2FzZS5cblxuTm90ZSBhZ2FpbiB0aGF0IHpcJyBpcyBub3QgVVRDLWVxdWl2YWxlbnQgYXMgZmFyIGFzIHRoZSBoeWJyaWQgdHppbmZvIGNsYXNzIGlzXG5jb25jZXJuZWQgKGJlY2F1c2UgaXQgdGFrZXMgelwnIGFzIGJlaW5nIGluIHN0YW5kYXJkIHRpbWUgcmF0aGVyIHRoYW4gdGhlXG5kYXlsaWdodCB0aW1lIHdlIGludGVuZCBoZXJlKSwgYnV0IHJldHVybmluZyBpdCBnaXZlcyB0aGUgcmVhbC1saWZlICJsb2NhbFxuY2xvY2sgcmVwZWF0cyBhbiBob3VyIiBiZWhhdmlvciB3aGVuIG1hcHBpbmcgdGhlICJ1bnNwZWxsYWJsZSIgVVRDIGhvdXIgaW50b1xudHouXG5cbldoZW4gdGhlIGlucHV0IGlzIDY6TU0sIHo9MTpNTSBhbmQgei5kPTAsIGFuZCB3ZSBzdG9wIGF0IG9uY2UsIGFnYWluIHdpdGhcbnRoZSAxOk1NIHN0YW5kYXJkIHRpbWUgc3BlbGxpbmcgd2Ugd2FudC5cblxuU28gaG93IGNhbiB0aGlzIGJyZWFrPyAgT25lIG9mIHRoZSBhc3N1bXB0aW9ucyBtdXN0IGJlIHZpb2xhdGVkLiAgVHdvXG5wb3NzaWJpbGl0aWVzOlxuXG4xKSBbMl0gZWZmZWN0aXZlbHkgc2F5cyB0aGF0IHkucyBpcyBpbnZhcmlhbnQgYWNyb3NzIGFsbCB5IGJlbG9uZyB0byBhIGdpdmVuXG4gICB0aW1lIHpvbmUuICBUaGlzIGlzblwndCB0cnVlIGlmLCBmb3IgcG9saXRpY2FsIHJlYXNvbnMgb3IgY29udGluZW50YWwgZHJpZnQsXG4gICBhIHJlZ2lvbiBkZWNpZGVzIHRvIGNoYW5nZSBpdHMgYmFzZSBvZmZzZXQgZnJvbSBVVEMuXG5cbjIpIFRoZXJlIG1heSBiZSB2ZXJzaW9ucyBvZiAiZG91YmxlIGRheWxpZ2h0IiB0aW1lIHdoZXJlIHRoZSB0YWlsIGVuZCBvZlxuICAgdGhlIGFuYWx5c2lzIGdpdmVzIHVwIGEgc3RlcCB0b28gZWFybHkuICBJIGhhdmVuXCd0IHRob3VnaHQgYWJvdXQgdGhhdFxuICAgZW5vdWdoIHRvIHNheS5cblxuSW4gYW55IGNhc2UsIGl0XCdzIGNsZWFyIHRoYXQgdGhlIGRlZmF1bHQgZnJvbXV0YygpIGlzIHN0cm9uZyBlbm91Z2ggdG8gaGFuZGxlXG4iYWxtb3N0IGFsbCIgdGltZSB6b25lczogIHNvIGxvbmcgYXMgdGhlIHN0YW5kYXJkIG9mZnNldCBpcyBpbnZhcmlhbnQsIGl0XG5kb2VzblwndCBtYXR0ZXIgaWYgZGF5bGlnaHQgdGltZSB0cmFuc2l0aW9uIHBvaW50cyBjaGFuZ2UgZnJvbSB5ZWFyIHRvIHllYXIsIG9yXG5pZiBkYXlsaWdodCB0aW1lIGlzIHNraXBwZWQgaW4gc29tZSB5ZWFyczsgaXQgZG9lc25cJ3QgbWF0dGVyIGhvdyBsYXJnZSBvclxuc21hbGwgZHN0KCkgbWF5IGdldCB3aXRoaW4gaXRzIGJvdW5kczsgYW5kIGl0IGRvZXNuXCd0IGV2ZW4gbWF0dGVyIGlmIHNvbWVcbnBlcnZlcnNlIHRpbWUgem9uZSByZXR1cm5zIGEgbmVnYXRpdmUgZHN0KCkpLiAgU28gYSBicmVha2luZyBjYXNlIG11c3QgYmVcbnByZXR0eSBiaXphcnJlLCBhbmQgYSB0emluZm8gc3ViY2xhc3MgY2FuIG92ZXJyaWRlIGZyb211dGMoKSBpZiBpdCBpcy5cbiIiIlxuJywKICAgICJzcmMvbGliL2RiaGFzaC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJkYmhhc2ggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2RlY2ltYWwucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZGVjaW1hbCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZGlmZmxpYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJkaWZmbGliIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9kaXJjYWNoZS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJkaXJjYWNoZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZGlzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImRpcyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZGlzdHV0aWxzL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImRpc3R1dGlscyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZGlzdHV0aWxzL2NvbW1hbmQvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiY29tbWFuZCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZGlzdHV0aWxzL3Rlc3RzL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInRlc3RzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9kb2N0ZXN0LnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImRvY3Rlc3QgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2RvY3VtZW50LmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBhLGI9e307cmV0dXJuIGIuZ2V0RWxlbWVudEJ5SWQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhLnYpO3JldHVybiBjP1NrLm1pc2NldmFsLmNhbGxzaW1BcnJheShiLkVsZW1lbnQsW2NdKTpTay5idWlsdGluLm5vbmUubm9uZSR9KSxiLmNyZWF0ZUVsZW1lbnQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEudik7aWYoYylyZXR1cm4gU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGIuRWxlbWVudCxbY10pfSksYi5nZXRFbGVtZW50c0J5VGFnTmFtZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShhLnYpLGQ9W10sZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKWQucHVzaChTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYi5FbGVtZW50LFtjW2VdXSkpO3JldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KGQpfSksYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7Zm9yKHZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYS52KSxkPVtdLGU9MDtlPGMubGVuZ3RoO2UrKylkLnB1c2goU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGIuRWxlbWVudCxbY1tlXV0pKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChkKX0pLGIuZ2V0RWxlbWVudHNCeU5hbWU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtmb3IodmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoYS52KSxkPVtdLGU9MDtlPGMubGVuZ3RoO2UrKylkLnB1c2goU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGIuRWxlbWVudCxbY1tlXV0pKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChkKX0pLGIuY3VycmVudERpdj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09U2suZGl2aWQpcmV0dXJuIG5ldyBTay5idWlsdGluLnN0cihTay5kaXZpZCk7dGhyb3cgbmV3IFNrLmJ1aWx0aW4uQXR0cmlidXRlRXJyb3IoIlRoZXJlIGlzIG5vIHZhbHVlIHNldCBmb3IgZGl2aWQiKX0pLGE9ZnVuY3Rpb24oYSxiKXtiLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXthLnY9YixhLmlubmVySFRNTD1iLmlubmVySFRNTCxhLmlubmVyVGV4dD1iLmlubmVyVGV4dCx2b2lkIDAhPT1iLnZhbHVlJiYoYS52YWx1ZT1iLnZhbHVlLFNrLmFic3RyLm9iamVjdFNldEl0ZW0oYS4kZCxuZXcgU2suYnVpbHRpbi5zdHIoInZhbHVlIiksbmV3IFNrLmJ1aWx0aW4uc3RyKGEudmFsdWUpKSksdm9pZCAwIT09Yi5jaGVja2VkJiYoYS5jaGVja2VkPWIuY2hlY2tlZCxTay5hYnN0ci5vYmplY3RTZXRJdGVtKGEuJGQsbmV3IFNrLmJ1aWx0aW4uc3RyKCJjaGVja2VkIiksbmV3IFNrLmJ1aWx0aW4uc3RyKGEuY2hlY2tlZCkpKSxTay5hYnN0ci5vYmplY3RTZXRJdGVtKGEuJGQsbmV3IFNrLmJ1aWx0aW4uc3RyKCJpbm5lckhUTUwiKSxuZXcgU2suYnVpbHRpbi5zdHIoYS5pbm5lckhUTUwpKSxTay5hYnN0ci5vYmplY3RTZXRJdGVtKGEuJGQsbmV3IFNrLmJ1aWx0aW4uc3RyKCJpbm5lclRleHQiKSxuZXcgU2suYnVpbHRpbi5zdHIoYS5pbm5lclRleHQpKX0pLGIudHAkZ2V0YXR0cj1Tay5idWlsdGluLm9iamVjdC5wcm90b3R5cGUuR2VuZXJpY0dldEF0dHIsYi5fX3NldGF0dHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtiPVNrLmZmaS5yZW1hcFRvSnMoYiksImlubmVySFRNTCI9PT1iJiYoYS5pbm5lckhUTUw9YyxhLnYuaW5uZXJIVE1MPWMudixTay5hYnN0ci5vYmplY3RTZXRJdGVtKGEuJGQsbmV3IFNrLmJ1aWx0aW4uc3RyKCJpbm5lckhUTUwiKSxjKSksImlubmVyVGV4dCI9PT1iJiYoYS5pbm5lclRleHQ9YyxhLnYuaW5uZXJUZXh0PWMudixTay5hYnN0ci5vYmplY3RTZXRJdGVtKGEuJGQsbmV3IFNrLmJ1aWx0aW4uc3RyKCJpbm5lclRleHQiKSxjKSl9KSxiLmFwcGVuZENoaWxkPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXthLnYuYXBwZW5kQ2hpbGQoYi52KX0pLGIucmVtb3ZlQ2hpbGQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe2Eudi5yZW1vdmVDaGlsZChiLnYpfSksYi5nZXRDU1M9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgU2suYnVpbHRpbi5zdHIoYS52LnN0eWxlW2Iudl0pfSksYi5zZXRDU1M9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7YS52LnN0eWxlW2Iudl09Yy52fSksYi5nZXRBdHRyaWJ1dGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjPWEudi5nZXRBdHRyaWJ1dGUoYi52KTtyZXR1cm4gYz9uZXcgU2suYnVpbHRpbi5zdHIoYyk6U2suYnVpbHRpbi5ub25lLm5vbmUkfSksYi5zZXRBdHRyaWJ1dGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7YS52LnNldEF0dHJpYnV0ZShiLnYsYy52KX0pLGIuZ2V0UHJvcGVydHk9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjPWEudltiLnZdO3JldHVybiBjP25ldyBTay5idWlsdGluLnN0cihjKTpTay5idWlsdGluLm5vbmUubm9uZSR9KSxiLl9fc3RyX189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gY29uc29sZS5sb2coYS52LnRhZ05hbWUpLG5ldyBTay5idWlsdGluLnN0cihhLnYudGFnTmFtZSl9KSxiLl9fcmVwcl9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uc3RyKCJbRE9NIEVsZW1lbnRdIil9KX0sYi5FbGVtZW50PVNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MoYixhLCJFbGVtZW50IixbXSksYn07JywKICAgICJzcmMvbGliL2R1bWJkYm0ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZHVtYmRibSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZHVtbXlfdGhyZWFkLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImR1bW15X3RocmVhZCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZHVtbXlfdGhyZWFkaW5nLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImR1bW15X3RocmVhZGluZyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZW1haWwvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZW1haWwgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2VtYWlsL21pbWUvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibWltZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZW1haWwvdGVzdC9kYXRhL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImRhdGEgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2VuY29kaW5ncy9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJlbmNvZGluZ3MgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2ZpbGVjbXAucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZmlsZWNtcCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZmlsZWlucHV0LnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImZpbGVpbnB1dCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZm5tYXRjaC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJmbm1hdGNoIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9mb3JtYXR0ZXIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZm9ybWF0dGVyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9mcGZvcm1hdC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJmcGZvcm1hdCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZnJhY3Rpb25zLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImZyYWN0aW9ucyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZnRwbGliLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImZ0cGxpYiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZnVuY3Rvb2xzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImZ1bmN0b29scyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZ2VuZXJpY3BhdGgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZ2VuZXJpY3BhdGggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2dldG9wdC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJnZXRvcHQgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2dldHBhc3MucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZ2V0cGFzcyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvZ2V0dGV4dC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJnZXR0ZXh0IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9nbG9iLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImdsb2IgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2d6aXAucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiZ3ppcCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvaGFzaGxpYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJoYXNobGliIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9oZWFwcS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJoZWFwcSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvaG1hYy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJobWFjIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9ob3RzaG90L19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImhvdHNob3QgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2h0bWxlbnRpdHlkZWZzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImh0bWxlbnRpdHlkZWZzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9odG1sbGliLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImh0bWxsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2h0dHBsaWIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiaHR0cGxpYiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvaWRsZWxpYi9JY29ucy9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJJY29ucyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvaWRsZWxpYi9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJpZGxlbGliIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9paG9va3MucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiaWhvb2tzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9pbWFnZS5qcyI6CiAgICAgICd2YXIgSW1hZ2VNb2QsJGJ1aWx0aW5tb2R1bGU7SW1hZ2VNb2R8fChJbWFnZU1vZD17fSxJbWFnZU1vZC5jYW52YXNMaWI9W10pLCRidWlsdGlubW9kdWxlPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaD17fTtyZXR1cm4gaC5JbWFnZT1Tay5taXNjZXZhbC5idWlsZENsYXNzKGgsZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLmZsb29yO2U9ZnVuY3Rpb24oYSl7YS53aWR0aD1hLmltYWdlLndpZHRoLGEuaGVpZ2h0PWEuaW1hZ2UuaGVpZ2h0LGEuZGVsYXk9MCxhLnVwZGF0ZUNvdW50PTAsYS51cGRhdGVJbnRlcnZhbD0xLGEubGFzdHg9MCxhLmxhc3R5PTAsYS5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksYS5jYW52YXMuaGVpZ2h0PWEuaGVpZ2h0LGEuY2FudmFzLndpZHRoPWEud2lkdGgsYS5jdHg9YS5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKSxhLmN0eC5kcmF3SW1hZ2UoYS5pbWFnZSwwLDApLGEuaW1hZ2VkYXRhPWEuY3R4LmdldEltYWdlRGF0YSgwLDAsYS53aWR0aCxhLmhlaWdodCl9LGIuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjO1NrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oIl9faW5pdF9fIixhcmd1bWVudHMubGVuZ3RoLDIsMik7dHJ5e2EuaW1hZ2U9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU2suZmZpLnJlbWFwVG9KcyhiKSksZShhKX1jYXRjaChiKXthLmltYWdlPW51bGx9aWYobnVsbD09YS5pbWFnZSlyZXR1cm4gYz1uZXcgU2subWlzY2V2YWwuU3VzcGVuc2lvbixjLnJlc3VtZT1mdW5jdGlvbigpe2lmKGMuZGF0YS5lcnJvcil0aHJvdyBuZXcgU2suYnVpbHRpbi5JT0Vycm9yKGMuZGF0YS5lcnJvci5tZXNzYWdlKX0sYy5kYXRhPXt0eXBlOiJTay5wcm9taXNlIixwcm9taXNlOm5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZCl7dmFyIGY9bmV3IEltYWdlO2YuY3Jvc3NPcmlnaW49IiIsZi5vbmVycm9yPWZ1bmN0aW9uKCl7ZChFcnJvcigiRmFpbGVkIHRvIGxvYWQgVVJMOiAiK2Yuc3JjKSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7YS5pbWFnZT10aGlzLGUoYSksYygpfSxmLnNyYz1nKGIpfSl9LGN9KSxnPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD0iZnVuY3Rpb24iPT10eXBlb2YgU2suaW1hZ2VQcm94eT9Tay5pbWFnZVByb3h5OmZ1bmN0aW9uKGEpe3JldHVybiBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxiLmhyZWY9Yyx3aW5kb3cubG9jYXRpb24uaG9zdD09PWIuaG9zdD9hOlNrLmltYWdlUHJveHkrIi8iK2F9O3JldHVybiBjPVNrLmZmaS5yZW1hcFRvSnMoYSksYz1kKGMpLGN9LGY9ZnVuY3Rpb24oYSxiLGMpe2lmKDA+Ynx8MD5jfHxiPj1hLndpZHRofHxjPj1hLmhlaWdodCl0aHJvdyBuZXcgU2suYnVpbHRpbi5WYWx1ZUVycm9yKCJQaXhlbCBpbmRleCBvdXQgb2YgcmFuZ2UuIil9O3ZhciBpPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzZXRkZWxheSIsYXJndW1lbnRzLmxlbmd0aCwyLDMpLGEuZGVsYXk9U2suZmZpLnJlbWFwVG9KcyhiKSxkPVNrLmJ1aWx0aW4uYXNudW0kKGMpLGEudXBkYXRlSW50ZXJ2YWw9ZD9kOjF9O2Iuc2V0X2RlbGF5PW5ldyBTay5idWlsdGluLmZ1bmMoaSksYi5zZXREZWxheT1uZXcgU2suYnVpbHRpbi5mdW5jKGkpO3ZhciBqPWZ1bmN0aW9uKGEpe3ZhciBiLGQ9W107Zm9yKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImdldHBpeGVscyIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLGI9MDtiPGEuaW1hZ2UuaGVpZ2h0KmEuaW1hZ2Uud2lkdGg7YisrKWRbYl09U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGEuZ2V0UGl4ZWwsW2EsYiVhLmltYWdlLndpZHRoLGMoYi9hLmltYWdlLndpZHRoKV0pO3JldHVybiBuZXcgU2suYnVpbHRpbi50dXBsZShkKX07Yi5nZXRfcGl4ZWxzPW5ldyBTay5idWlsdGluLmZ1bmMoaiksYi5nZXRQaXhlbHM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhqKSxiLmdldERhdGE9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYixkLGUsZyxoLGosayxsPVtdO2ZvcihTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJnZXREYXRhIixhcmd1bWVudHMubGVuZ3RoLDEsMSksYj0wO2I8YS5pbWFnZS5oZWlnaHQqYS5pbWFnZS53aWR0aDtiKyspZD1iJWEuaW1hZ2Uud2lkdGgsZT1jKGIvYS5pbWFnZS53aWR0aCksZihhLGQsZSksaz00KmUqYS53aWR0aCs0KmQsZz1hLmltYWdlZGF0YS5kYXRhW2tdLGg9YS5pbWFnZWRhdGEuZGF0YVtrKzFdLGo9YS5pbWFnZWRhdGEuZGF0YVtrKzJdLGxbYl09bmV3IFNrLmJ1aWx0aW4udHVwbGUoW25ldyBTay5idWlsdGluLmludF8oZyksbmV3IFNrLmJ1aWx0aW4uaW50XyhoKSxuZXcgU2suYnVpbHRpbi5pbnRfKGopXSk7cmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QobCl9KTt2YXIgaz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxnLGk7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImdldHBpeGVsIixhcmd1bWVudHMubGVuZ3RoLDMsMyksYj1Tay5idWlsdGluLmFzbnVtJChiKSxjPVNrLmJ1aWx0aW4uYXNudW0kKGMpLGYoYSxiLGMpLGk9NCpjKmEud2lkdGgrNCpiLGQ9YS5pbWFnZWRhdGEuZGF0YVtpXSxnPWEuaW1hZ2VkYXRhLmRhdGFbaSsxXSxlPWEuaW1hZ2VkYXRhLmRhdGFbaSsyXSxTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoaC5QaXhlbCxbZCxnLGUsYixjXSl9O2IuZ2V0X3BpeGVsPW5ldyBTay5idWlsdGluLmZ1bmMoayksYi5nZXRQaXhlbD1uZXcgU2suYnVpbHRpbi5mdW5jKGspLGQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBTay5taXNjZXZhbC5TdXNwZW5zaW9uO3JldHVybiBkLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBTay5idWlsdGluLm5vbmUubm9uZSR9LGQuZGF0YT17dHlwZToiU2sucHJvbWlzZSIscHJvbWlzZTpuZXcgUHJvbWlzZShmdW5jdGlvbihkKXt2YXIgZT1NYXRoLm1heCxmPU1hdGguYWJzLGc9TWF0aC5taW47YS51cGRhdGVDb3VudCsrLDA9PWEudXBkYXRlQ291bnQlYS51cGRhdGVJbnRlcnZhbD8oYS5sYXN0eCthLnVwZGF0ZUludGVydmFsPj1hLndpZHRoP2EubGFzdEN0eC5wdXRJbWFnZURhdGEoYS5pbWFnZWRhdGEsYS5sYXN0VWx4LGEubGFzdFVseSwwLGEubGFzdHksYS53aWR0aCwyKTphLmxhc3R5K2EudXBkYXRlSW50ZXJ2YWw+PWEuaGVpZ2h0P2EubGFzdEN0eC5wdXRJbWFnZURhdGEoYS5pbWFnZWRhdGEsYS5sYXN0VWx4LGEubGFzdFVseSxhLmxhc3R4LDAsMixhLmhlaWdodCk6YS5sYXN0Q3R4LnB1dEltYWdlRGF0YShhLmltYWdlZGF0YSxhLmxhc3RVbHgsYS5sYXN0VWx5LGcoYixhLmxhc3R4KSxnKGMsYS5sYXN0eSksZShmKGItYS5sYXN0eCksMSksZShmKGMtYS5sYXN0eSksMSkpLGEubGFzdHg9YixhLmxhc3R5PWMsMDxhLmRlbGF5P3dpbmRvdy5zZXRUaW1lb3V0KGQsYS5kZWxheSk6ZCgpKTpkKCl9KX0sZH07dmFyIGw9ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGc7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInNldHBpeGVsIixhcmd1bWVudHMubGVuZ3RoLDQsNCksYj1Tay5idWlsdGluLmFzbnVtJChiKSxjPVNrLmJ1aWx0aW4uYXNudW0kKGMpLGYoYSxiLGMpLGc9NCpjKmEud2lkdGgrNCpiLGEuaW1hZ2VkYXRhLmRhdGFbZ109U2suYnVpbHRpbi5hc251bSQoU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGUuZ2V0UmVkLFtlXSkpLGEuaW1hZ2VkYXRhLmRhdGFbZysxXT1Tay5idWlsdGluLmFzbnVtJChTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoZS5nZXRHcmVlbixbZV0pKSxhLmltYWdlZGF0YS5kYXRhW2crMl09U2suYnVpbHRpbi5hc251bSQoU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGUuZ2V0Qmx1ZSxbZV0pKSxhLmltYWdlZGF0YS5kYXRhW2crM109MjU1LGQoYSxiLGMpfTtiLnNldF9waXhlbD1uZXcgU2suYnVpbHRpbi5mdW5jKGwpLGIuc2V0UGl4ZWw9bmV3IFNrLmJ1aWx0aW4uZnVuYyhsKTt2YXIgbT1mdW5jdGlvbihhLGIsZSl7dmFyIGcsaCxpO3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzZXRwaXhlbGF0Iixhcmd1bWVudHMubGVuZ3RoLDMsMyksYj1Tay5idWlsdGluLmFzbnVtJChiKSxnPWIlYS5pbWFnZS53aWR0aCxoPWMoYi9hLmltYWdlLndpZHRoKSxmKGEsZyxoKSxpPTQqaCphLndpZHRoKzQqZyxhLmltYWdlZGF0YS5kYXRhW2ldPVNrLmJ1aWx0aW4uYXNudW0kKFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShlLmdldFJlZCxbZV0pKSxhLmltYWdlZGF0YS5kYXRhW2krMV09U2suYnVpbHRpbi5hc251bSQoU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGUuZ2V0R3JlZW4sW2VdKSksYS5pbWFnZWRhdGEuZGF0YVtpKzJdPVNrLmJ1aWx0aW4uYXNudW0kKFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShlLmdldEJsdWUsW2VdKSksYS5pbWFnZWRhdGEuZGF0YVtpKzNdPTI1NSxkKGEsZyxoKX07Yi5zZXRfcGl4ZWxfYXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhtKSxiLnNldFBpeGVsQXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhtKTt2YXIgbj1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZztyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigidXBkYXRlcGl4ZWwiLGFyZ3VtZW50cy5sZW5ndGgsMiwyKSxjPVNrLmJ1aWx0aW4uYXNudW0kKFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShiLmdldFgsW2JdKSksZT1Tay5idWlsdGluLmFzbnVtJChTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYi5nZXRZLFtiXSkpLGYoYSxjLGUpLGc9NCplKmEud2lkdGgrNCpjLGEuaW1hZ2VkYXRhLmRhdGFbZ109U2suYnVpbHRpbi5hc251bSQoU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGIuZ2V0UmVkLFtiXSkpLGEuaW1hZ2VkYXRhLmRhdGFbZysxXT1Tay5idWlsdGluLmFzbnVtJChTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYi5nZXRHcmVlbixbYl0pKSxhLmltYWdlZGF0YS5kYXRhW2crMl09U2suYnVpbHRpbi5hc251bSQoU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGIuZ2V0Qmx1ZSxbYl0pKSxhLmltYWdlZGF0YS5kYXRhW2crM109MjU1LGQoYSxjLGUpfTtiLnVwZGF0ZV9waXhlbD1uZXcgU2suYnVpbHRpbi5mdW5jKG4pLGIudXBkYXRlUGl4ZWw9bmV3IFNrLmJ1aWx0aW4uZnVuYyhuKTt2YXIgbz1mdW5jdGlvbihhKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiZ2V0aGVpZ2h0Iixhcmd1bWVudHMubGVuZ3RoLDEsMSksbmV3IFNrLmJ1aWx0aW4uaW50XyhhLmhlaWdodCl9O2IuZ2V0X2hlaWdodD1uZXcgU2suYnVpbHRpbi5mdW5jKG8pLGIuZ2V0SGVpZ2h0PW5ldyBTay5idWlsdGluLmZ1bmMobyk7dmFyIHA9ZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImdldHdpZHRoIixhcmd1bWVudHMubGVuZ3RoLDEsMSksbmV3IFNrLmJ1aWx0aW4uaW50XyhhLndpZHRoKX07Yi5nZXRfd2lkdGg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhwKSxiLmdldFdpZHRoPW5ldyBTay5idWlsdGluLmZ1bmMocCksYi5fX2dldGF0dHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7cmV0dXJuKGI9U2suZmZpLnJlbWFwVG9KcyhiKSwiaGVpZ2h0Ij09PWIpP1NrLmJ1aWx0aW4uYXNzayQoYS5oZWlnaHQpOiJ3aWR0aCI9PT1iP1NrLmJ1aWx0aW4uYXNzayQoYS53aWR0aCk6dm9pZCAwfSksYi5fX3NldGF0dHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7aWYoYj1Tay5mZmkucmVtYXBUb0pzKGIpLCJoZWlnaHQiPT09Ynx8IndpZHRoIj09PWIpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uRXhjZXB0aW9uKCJDYW5ub3QgY2hhbmdlIGhlaWdodCBvciB3aWR0aCB0aGV5IGNhbiBvbmx5IGJlIHNldCBvbiBjcmVhdGlvbiIpO2Vsc2UgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uRXhjZXB0aW9uKCJVbmtub3duIGF0dHJpYnV0ZTogIitiKX0pLGIuZHJhdz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlO3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJkcmF3Iixhcmd1bWVudHMubGVuZ3RoLDIsNCksZT1uZXcgU2subWlzY2V2YWwuU3VzcGVuc2lvbixlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBTay5idWlsdGluLm5vbmUubm9uZSR9LGUuZGF0YT17dHlwZToiU2sucHJvbWlzZSIscHJvbWlzZTpuZXcgUHJvbWlzZShmdW5jdGlvbihlKXt2YXIgZixnO2I9U2suYnVpbHRpbi5hc251bSQoYiksYz1Tay5idWlsdGluLmFzbnVtJChjKSxkPVNrLmJ1aWx0aW4uYXNudW0kKGQpLGY9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGIuZ2V0V2luLFtiXSksZz1mLmdldENvbnRleHQoIjJkIiksdm9pZCAwPT09YyYmKGM9MCxkPTApLGEubGFzdFVseD1jLGEubGFzdFVseT1kLGEubGFzdEN0eD1nLGcucHV0SW1hZ2VEYXRhKGEuaW1hZ2VkYXRhLGMsZCksMDxhLmRlbGF5P3dpbmRvdy5zZXRUaW1lb3V0KGUsYS5kZWxheSk6d2luZG93LnNldFRpbWVvdXQoZSwyMDApfSl9LGV9KX0sIkltYWdlIixbXSksYz1mdW5jdGlvbihhLGIpe2IuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiX19pbml0X18iLGFyZ3VtZW50cy5sZW5ndGgsMywzKSxhLndpZHRoPVNrLmJ1aWx0aW4uYXNudW0kKGIpLGEuaGVpZ2h0PVNrLmJ1aWx0aW4uYXNudW0kKGMpLGEuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGEuY3R4PWEuY2FudmFzLmdldENvbnRleHQoIjJkIiksYS5jYW52YXMuaGVpZ2h0PWEuaGVpZ2h0LGEuY2FudmFzLndpZHRoPWEud2lkdGgsYS5pbWFnZWRhdGE9YS5jdHguZ2V0SW1hZ2VEYXRhKDAsMCxhLndpZHRoLGEuaGVpZ2h0KX0pfSxoLkVtcHR5SW1hZ2U9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhoLGMsIkVtcHR5SW1hZ2UiLFtoLkltYWdlXSksYj1mdW5jdGlvbihhLGIpe2IuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGMsZCxlLGIsZil7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiX19pbml0X18iLGFyZ3VtZW50cy5sZW5ndGgsNCw2KSxhLnJlZD1Tay5idWlsdGluLmFzbnVtJChjKSxhLmdyZWVuPVNrLmJ1aWx0aW4uYXNudW0kKGQpLGEuYmx1ZT1Tay5idWlsdGluLmFzbnVtJChlKSxhLng9U2suYnVpbHRpbi5hc251bSQoYiksYS55PVNrLmJ1aWx0aW4uYXNudW0kKGYpfSk7dmFyIGM9ZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImdldHJlZCIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4uYXNzayQoYS5yZWQpfTtiLmdldF9yZWQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhjKSxiLmdldFJlZD1uZXcgU2suYnVpbHRpbi5mdW5jKGMpO3ZhciBkPWZ1bmN0aW9uKGEpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJnZXRncmVlbiIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4uYXNzayQoYS5ncmVlbil9O2IuZ2V0X2dyZWVuPW5ldyBTay5idWlsdGluLmZ1bmMoZCksYi5nZXRHcmVlbj1uZXcgU2suYnVpbHRpbi5mdW5jKGQpO3ZhciBlPWZ1bmN0aW9uKGEpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJnZXRibHVlIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5hc3NrJChhLmJsdWUpfTtiLmdldF9ibHVlPW5ldyBTay5idWlsdGluLmZ1bmMoZSksYi5nZXRCbHVlPW5ldyBTay5idWlsdGluLmZ1bmMoZSk7dmFyIGY9ZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImdldHgiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLmFzc2skKGEueCl9O2IuZ2V0X3g9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmKSxiLmdldFg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmKTt2YXIgZz1mdW5jdGlvbihhKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiZ2V0eSIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4uYXNzayQoYS55KX07Yi5nZXRfeT1uZXcgU2suYnVpbHRpbi5mdW5jKGcpLGIuZ2V0WT1uZXcgU2suYnVpbHRpbi5mdW5jKGcpO3ZhciBoPWZ1bmN0aW9uKGEsYil7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigic2V0cmVkIixhcmd1bWVudHMubGVuZ3RoLDIsMiksYS5yZWQ9U2suYnVpbHRpbi5hc251bSQoYil9O2Iuc2V0X3JlZD1uZXcgU2suYnVpbHRpbi5mdW5jKGgpLGIuc2V0UmVkPW5ldyBTay5idWlsdGluLmZ1bmMoaCk7dmFyIGk9ZnVuY3Rpb24oYSxiKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzZXRncmVlbiIsYXJndW1lbnRzLmxlbmd0aCwyLDIpLGEuZ3JlZW49U2suYnVpbHRpbi5hc251bSQoYil9O2Iuc2V0X2dyZWVuPW5ldyBTay5idWlsdGluLmZ1bmMoaSksYi5zZXRHcmVlbj1uZXcgU2suYnVpbHRpbi5mdW5jKGkpO3ZhciBqPWZ1bmN0aW9uKGEsYyl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigic2V0Ymx1ZSIsYXJndW1lbnRzLmxlbmd0aCwyLDIpLGEuYmx1ZT1Tay5idWlsdGluLmFzbnVtJChjKX07Yi5zZXRfYmx1ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGopLGIuc2V0Qmx1ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGopLGIuX19nZXRhdHRyX189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3JldHVybihiPVNrLmZmaS5yZW1hcFRvSnMoYiksInJlZCI9PT1iKT9Tay5idWlsdGluLmFzc2skKGEucmVkKToiZ3JlZW4iPT09Yj9Tay5idWlsdGluLmFzc2skKGEuZ3JlZW4pOiJibHVlIj09PWI/U2suYnVpbHRpbi5hc3NrJChhLmJsdWUpOnZvaWQgMH0pLGIuX19zZXRhdHRyX189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7Yj1Tay5mZmkucmVtYXBUb0pzKGIpLCgicmVkIj09PWJ8fCJncmVlbiI9PT1ifHwiYmx1ZSI9PT1iKSYmKGFbYl09U2suYnVpbHRpbi5hc251bSQoYykpfSk7dmFyIGs9ZnVuY3Rpb24oYSxiKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzZXR4Iixhcmd1bWVudHMubGVuZ3RoLDIsMiksYS54PVNrLmJ1aWx0aW4uYXNudW0kKGIpfTtiLnNldF94PW5ldyBTay5idWlsdGluLmZ1bmMoayksYi5zZXRYPW5ldyBTay5idWlsdGluLmZ1bmMoayk7dmFyIGw9ZnVuY3Rpb24oYSxiKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzZXR5Iixhcmd1bWVudHMubGVuZ3RoLDIsMiksYS55PVNrLmJ1aWx0aW4uYXNudW0kKGIpfTtiLnNldF95PW5ldyBTay5idWlsdGluLmZ1bmMobCksYi5zZXRZPW5ldyBTay5idWlsdGluLmZ1bmMobCksYi5fX2dldGl0ZW1fXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7cmV0dXJuKGI9U2suYnVpbHRpbi5hc251bSQoYiksMD09PWIpP2EucmVkOjE9PWI/YS5ncmVlbjoyPT1iP2EuYmx1ZTp2b2lkIDB9KSxiLl9fc3RyX189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gU2suZmZpLnJlbWFwVG9QeSgiWyIrYS5yZWQrIiwiK2EuZ3JlZW4rIiwiK2EuYmx1ZSsiXSIpfSksYi5nZXRDb2xvclR1cGxlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXt9KSxiLnNldFJhbmdlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXthLm1heD1Tay5idWlsdGluLmFzbnVtJChiKX0pfSxoLlBpeGVsPVNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MoaCxiLCJQaXhlbCIsW10pLGE9ZnVuY3Rpb24oYSxiKXtiLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZjtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJfX2luaXRfXyIsYXJndW1lbnRzLmxlbmd0aCwxLDMpLGQ9SW1hZ2VNb2QuY2FudmFzTGliW1NrLmNhbnZhc10sdm9pZCAwPT09ZD8oZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFNrLmNhbnZhcyksYS50aGVTY3JlZW49ZSxmLmFwcGVuZENoaWxkKGUpLEltYWdlTW9kLmNhbnZhc0xpYltTay5jYW52YXNdPWUsSW1hZ2VNb2QuY2FudmFzTGliW1NrLmNhbnZhc109YS50aGVTY3JlZW4pOihhLnRoZVNjcmVlbj1kLGEudGhlU2NyZWVuLmhlaWdodD1hLnRoZVNjcmVlbi5oZWlnaHQpLHZvaWQgMD09PWI/KFNrLmF2YWlsYWJsZUhlaWdodCYmKGEudGhlU2NyZWVuLmhlaWdodD1Tay5hdmFpbGFibGVIZWlnaHQpLFNrLmF2YWlsYWJsZVdpZHRoJiYoYS50aGVTY3JlZW4ud2lkdGg9U2suYXZhaWxhYmxlV2lkdGgpKTooYS50aGVTY3JlZW4uaGVpZ2h0PWMudixhLnRoZVNjcmVlbi53aWR0aD1iLnYpLGEudGhlU2NyZWVuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn0pLGIuZ2V0V2luPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIGEudGhlU2NyZWVufSksYi5leGl0b25jbGljaz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3ZhciBiPWEudGhlU2NyZWVuLmlkO2EudGhlU2NyZWVuLm9uY2xpY2s9ZnVuY3Rpb24oKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKS5zdHlsZS5kaXNwbGF5PSJub25lIixkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKS5vbmNsaWNrPW51bGwsZGVsZXRlIEltYWdlTW9kLmNhbnZhc0xpYltiXX19KX0saC5JbWFnZVdpbj1Tay5taXNjZXZhbC5idWlsZENsYXNzKGgsYSwiSW1hZ2VXaW4iLFtdKSxofTsnLAogICAgInNyYy9saWIvaW1hcGxpYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJpbWFwbGliIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9pbWdoZHIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiaW1naGRyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9pbXB1dGlsLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImltcHV0aWwgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2lvLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImlvIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9qc29uL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImpzb24gaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2pzb24vdGVzdHMvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidGVzdHMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL2tleXdvcmQucHkiOgogICAgICAiXG5fX2FsbF9fID0gW1wiaXNrZXl3b3JkXCIsIFwia3dsaXN0XCJdXG5cbmt3bGlzdCA9IFtcbiMtLXN0YXJ0IGtleXdvcmRzLS1cbiAgICAgICAgJ2FuZCcsXG4gICAgICAgICdhcycsXG4gICAgICAgICdhc3NlcnQnLFxuICAgICAgICAnYnJlYWsnLFxuICAgICAgICAnY2xhc3MnLFxuICAgICAgICAnY29udGludWUnLFxuICAgICAgICAnZGVmJyxcbiAgICAgICAgJ2RlbCcsXG4gICAgICAgICdlbGlmJyxcbiAgICAgICAgJ2Vsc2UnLFxuICAgICAgICAnZXhjZXB0JyxcbiAgICAgICAgJ2V4ZWMnLFxuICAgICAgICAnZmluYWxseScsXG4gICAgICAgICdmb3InLFxuICAgICAgICAnZnJvbScsXG4gICAgICAgICdnbG9iYWwnLFxuICAgICAgICAnaWYnLFxuICAgICAgICAnaW1wb3J0JyxcbiAgICAgICAgJ2luJyxcbiAgICAgICAgJ2lzJyxcbiAgICAgICAgJ2xhbWJkYScsXG4gICAgICAgICdub3QnLFxuICAgICAgICAnb3InLFxuICAgICAgICAncGFzcycsXG4gICAgICAgICdwcmludCcsXG4gICAgICAgICdyYWlzZScsXG4gICAgICAgICdyZXR1cm4nLFxuICAgICAgICAndHJ5JyxcbiAgICAgICAgJ3doaWxlJyxcbiAgICAgICAgJ3dpdGgnLFxuICAgICAgICAneWllbGQnLFxuIy0tZW5kIGtleXdvcmRzLS1cbiAgICAgICAgXVxuXG5kZWYgaXNrZXl3b3JkKHdkKTpcbiAgICByZXR1cm4gd2QgaW4ga3dsaXN0XG5cbiIsCiAgICAic3JjL2xpYi9saWItZHlubG9hZC9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJsaWItZHlubG9hZCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvbGliLXRrL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImxpYi10ayBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvbGliMnRvMy9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJsaWIydG8zIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9saWIydG8zL2ZpeGVzL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImZpeGVzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9saWIydG8zL3BnZW4yL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInBnZW4yIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9saWIydG8zL3Rlc3RzL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInRlc3RzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9saW5lY2FjaGUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibGluZWNhY2hlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9sb2NhbGUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibG9jYWxlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9sb2dnaW5nL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImxvZ2dpbmcgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL21hY3BhdGgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibWFjcGF0aCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvbWFjdXJsMnBhdGgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibWFjdXJsMnBhdGggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL21haWxib3gucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibWFpbGJveCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvbWFpbGNhcC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJtYWlsY2FwIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9tYXJrdXBiYXNlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIm1hcmt1cGJhc2UgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL21hdGguanMiOgogICAgICAndmFyICRidWlsdGlubW9kdWxlPWZ1bmN0aW9uKCl7dmFyIGE9TWF0aC5mbG9vcixiPU1hdGgucG93LGM9TWF0aC5sb2csZD1NYXRoLnNxcnQsZT1NYXRoLkUsZj1NYXRoLlBJLGc9e3BpOm5ldyBTay5idWlsdGluLmZsb2F0XyhmKSxlOm5ldyBTay5idWlsdGluLmZsb2F0XyhlKSxmYWJzOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5hYnM7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImZhYnMiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxuZXcgU2suYnVpbHRpbi5mbG9hdF8oYihTay5idWlsdGluLmFzbnVtJChhKSkpfSksYXNpbjpuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguYXNpbjtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiYXNpbiIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoInJhZCIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGIoU2suYnVpbHRpbi5hc251bSQoYSkpKX0pLGFjb3M6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj1NYXRoLmFjb3M7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImFjb3MiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJyYWQiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLG5ldyBTay5idWlsdGluLmZsb2F0XyhiKFNrLmJ1aWx0aW4uYXNudW0kKGEpKSl9KSxhdGFuOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5hdGFuO3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJhdGFuIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgicmFkIiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxuZXcgU2suYnVpbHRpbi5mbG9hdF8oYihTay5idWlsdGluLmFzbnVtJChhKSkpfSksYXRhbjI6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjPU1hdGguYXRhbjI7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImF0YW4yIixhcmd1bWVudHMubGVuZ3RoLDIsMiksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgieSIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgieCIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihiKSksbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGMoU2suYnVpbHRpbi5hc251bSQoYSksU2suYnVpbHRpbi5hc251bSQoYikpKX0pLHNpbjpuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguc2luO3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzaW4iLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJyYWQiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLG5ldyBTay5idWlsdGluLmZsb2F0XyhiKFNrLmJ1aWx0aW4uYXNudW0kKGEpKSl9KSxjb3M6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj1NYXRoLmNvcztyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiY29zIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgicmFkIiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxuZXcgU2suYnVpbHRpbi5mbG9hdF8oYihTay5idWlsdGluLmFzbnVtJChhKSkpfSksdGFuOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC50YW47cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInRhbiIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoInJhZCIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGIoU2suYnVpbHRpbi5hc251bSQoYSkpKX0pLGFzaW5oOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiYXNpbmgiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxhPVNrLmJ1aWx0aW4uYXNudW0kKGEpO3ZhciBiPWErZChhKmErMSk7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XyhjKGIpKX0pLGFjb3NoOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiYWNvc2giLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxhPVNrLmJ1aWx0aW4uYXNudW0kKGEpO3ZhciBiPWErZChhKmEtMSk7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XyhjKGIpKX0pLGF0YW5oOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiYXRhbmgiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxhPVNrLmJ1aWx0aW4uYXNudW0kKGEpO3ZhciBiPSgxK2EpLygxLWEpO3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oYyhiKS8yKX0pLHNpbmg6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzaW5oIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgieCIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksYT1Tay5idWlsdGluLmFzbnVtJChhKTt2YXIgYz1iKGUsYSk7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XygoYy0xL2MpLzIpfSksY29zaDpuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe1NrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImNvc2giLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxhPVNrLmJ1aWx0aW4uYXNudW0kKGEpO3ZhciBjPWIoZSxhKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKChjKzEvYykvMil9KSx0YW5oOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigidGFuaCIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLGE9U2suYnVpbHRpbi5hc251bSQoYSk7dmFyIGM9YihlLGEpLGQ9MS9jO3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oKGMtZCkvMi8oKGMrZCkvMikpfSksY2VpbDpuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguY2VpbDtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiY2VpbCIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLFNrLl9fZnV0dXJlX18uY2VpbF9mbG9vcl9pbnQ/bmV3IFNrLmJ1aWx0aW4uaW50XyhiKFNrLmJ1aWx0aW4uYXNudW0kKGEpKSk6bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGIoU2suYnVpbHRpbi5hc251bSQoYSkpKX0pLGNvcHlzaWduOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJjZWlsIixhcmd1bWVudHMubGVuZ3RoLDIsMiksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgieCIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgieSIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihiKSk7dmFyIGMsZD1Tay5mZmkucmVtYXBUb0pzKGEpLGU9U2suZmZpLnJlbWFwVG9KcyhiKSxmPTA+ZCxnPTA+ZDtyZXR1cm4gU2suYnVpbHRpbi5jaGVja0Zsb2F0KGEpJiYwPT09ZCYmKGY9MS9kPT0tSW5maW5pdHkpLFNrLmJ1aWx0aW4uY2hlY2tGbG9hdChiKSYmMD09PWUmJihnPTEvZT09LUluZmluaXR5KSxmJiZnfHwhZiYmIWc/Yz1lOihmJiYhZ3x8IWYmJmcpJiYoMD09PWI/Yz1mPy0wOjA6Yz0tMSplKSxuZXcgU2suYnVpbHRpbi5mbG9hdF8oYyl9KSxmbG9vcjpuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGIpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJmbG9vciIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYikpLFNrLl9fZnV0dXJlX18uY2VpbF9mbG9vcl9pbnQ/bmV3IFNrLmJ1aWx0aW4uaW50XyhhKFNrLmJ1aWx0aW4uYXNudW0kKGIpKSk6bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGEoU2suYnVpbHRpbi5hc251bSQoYikpKX0pLHNxcnQ6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigic3FydCIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLG5ldyBTay5idWlsdGluLmZsb2F0XyhkKFNrLmJ1aWx0aW4uYXNudW0kKGEpKSl9KSx0cnVuYzpuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJ0cnVuYyIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLG5ldyBTay5idWlsdGluLmludF8oMHxTay5idWlsdGluLmFzbnVtJChhKSl9KSxsb2c6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImxvZyIsYXJndW1lbnRzLmxlbmd0aCwxLDIpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLHZvaWQgMD09PWIpcmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XyhjKFNrLmJ1aWx0aW4uYXNudW0kKGEpKSk7U2suYnVpbHRpbi5weUNoZWNrVHlwZSgiYmFzZSIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihiKSk7dmFyIGQ9YyhTay5idWlsdGluLmFzbnVtJChhKSkvYyhTay5idWlsdGluLmFzbnVtJChiKSk7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XyhkKX0pLGxvZzEwOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigibG9nMTAiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKTt2YXIgYj1jKFNrLmJ1aWx0aW4uYXNudW0kKGEpKS9jKDEwKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGIpfSksaXNpbmY6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJpc2luZiIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpO3ZhciBiPVNrLmJ1aWx0aW4uYXNudW0kKGEpO3JldHVybiBpc0Zpbml0ZShiKSYmIWlzTmFOKGIpP1NrLmJ1aWx0aW4uYm9vbC5mYWxzZSQ6U2suYnVpbHRpbi5ib29sLnRydWUkfSksaXNuYW46bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJpc25hbiIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJmbG9hdCIsU2suYnVpbHRpbi5jaGVja0Zsb2F0KGEpKTt2YXIgYj1Tay5idWlsdGluLmFzbnVtJChhKTtyZXR1cm4gaXNOYU4oYik/U2suYnVpbHRpbi5ib29sLnRydWUkOlNrLmJ1aWx0aW4uYm9vbC5mYWxzZSR9KSxleHA6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj1NYXRoLmV4cDtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiZXhwIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgieCIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGIoU2suYnVpbHRpbi5hc251bSQoYSkpKX0pLHBvdzpuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYyl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInBvdyIsYXJndW1lbnRzLmxlbmd0aCwyLDIpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoInkiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYykpLG5ldyBTay5idWlsdGluLmZsb2F0XyhiKFNrLmJ1aWx0aW4uYXNudW0kKGEpLFNrLmJ1aWx0aW4uYXNudW0kKGMpKSl9KSxyYWRpYW5zOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigicmFkaWFucyIsYXJndW1lbnRzLmxlbmd0aCwxLDEpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoImRlZyIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSk7dmFyIGI9Zi8xODAqU2suYnVpbHRpbi5hc251bSQoYSk7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XyhiKX0pLGRlZ3JlZXM6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJkZWdyZWVzIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgicmFkIiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKTt2YXIgYj0xODAvZipTay5idWlsdGluLmFzbnVtJChhKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGIpfSksaHlwb3Q6bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJoeXBvdCIsYXJndW1lbnRzLmxlbmd0aCwyLDIpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIngiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoInkiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYikpLGE9U2suYnVpbHRpbi5hc251bSQoYSksYj1Tay5idWlsdGluLmFzbnVtJChiKSxuZXcgU2suYnVpbHRpbi5mbG9hdF8oZChhKmErYipiKSl9KX0saD0xODtyZXR1cm4gZy5mYWN0b3JpYWw9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEpe1NrLmJ1aWx0aW4uYXNudW0kbm9mbG9hdChhKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uYmlnaW50ZWdlcihhKX1Tay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJmYWN0b3JpYWwiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGIpKSxiPWEoU2suYnVpbHRpbi5hc251bSQoYikpO2Zvcih2YXIgZD0xLGU9MjtlPD1iJiZlPD1oO2UrKylkKj1lO2lmKGI8PWgpcmV0dXJuIG5ldyBTay5idWlsdGluLmludF8oZCk7ZD1jKGQpO2Zvcih2YXIgZixlPWgrMTtlPD1iO2UrKylmPWMoZSksZD1kLm11bHRpcGx5KGYpO3JldHVybiBuZXcgU2suYnVpbHRpbi5sbmcoZCl9KSxnfTsnLAogICAgInNyYy9saWIvbWQ1LnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIm1kNSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvbWhsaWIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibWhsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL21pbWV0b29scy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJtaW1ldG9vbHMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL21pbWV0eXBlcy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJtaW1ldHlwZXMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL21pbWlmeS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJtaW1pZnkgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL21vZHVsZWZpbmRlci5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJtb2R1bGVmaW5kZXIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL211bHRpZmlsZS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJtdWx0aWZpbGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL211bHRpcHJvY2Vzc2luZy9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJtdWx0aXByb2Nlc3NpbmcgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL211bHRpcHJvY2Vzc2luZy9kdW1teS9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJkdW1teSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvbXV0ZXgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibXV0ZXggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL25ldHJjLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIm5ldHJjIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9uZXcucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibmV3IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9ubnRwbGliLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIm5udHBsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL250cGF0aC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJudHBhdGggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL250dXJsMnBhdGgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigibnR1cmwycGF0aCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvbnVtYmVycy5weSI6CiAgICAgICJOdW1iZXIgPSAoaW50LCBmbG9hdCwgY29tcGxleClcbkludGVncmFsID0gaW50XG5Db21wbGV4ID0gY29tcGxleFxuIiwKICAgICJzcmMvbGliL29wY29kZS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJvcGNvZGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL29wZXJhdG9yLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybiBhLmx0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYnVpbHRpbi5ib29sKFNrLm1pc2NldmFsLnJpY2hDb21wYXJlQm9vbChjLGEsIkx0IikpfSksYS5fX2x0X189YS5sdCxhLmxlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYnVpbHRpbi5ib29sKFNrLm1pc2NldmFsLnJpY2hDb21wYXJlQm9vbChjLGEsIkx0RSIpKX0pLGEuX19sZV9fPWEubGUsYS5lcT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmJ1aWx0aW4uYm9vbChTay5taXNjZXZhbC5yaWNoQ29tcGFyZUJvb2woYyxhLCJFcSIpKX0pLGEuX19lcV9fPWEuZXEsYS5uZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmJ1aWx0aW4uYm9vbChTay5taXNjZXZhbC5yaWNoQ29tcGFyZUJvb2woYyxhLCJOb3RFcSIpKX0pLGEuX19uZV9fPWEubmUsYS5nZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmJ1aWx0aW4uYm9vbChTay5taXNjZXZhbC5yaWNoQ29tcGFyZUJvb2woYyxhLCJHdEUiKSl9KSxhLl9fZ2VfXz1hLmdlLGEuZ3Q9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5idWlsdGluLmJvb2woU2subWlzY2V2YWwucmljaENvbXBhcmVCb29sKGMsYSwiR3QiKSl9KSxhLl9fZ3RfXz1hLmd0LGEubm90Xz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFNrLmJ1aWx0aW4uTm90SW1wbGVtZW50ZWRFcnJvcigib3BlcmF0b3Iubm90XygpIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0Iil9KSxhLnRydXRoPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmJ1aWx0aW4uYm9vbChhKX0pLGEuaXNfPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYnVpbHRpbi5ib29sKFNrLm1pc2NldmFsLnJpY2hDb21wYXJlQm9vbChjLGEsIklzIikpfSksYS5pc19ub3Q9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5idWlsdGluLmJvb2woU2subWlzY2V2YWwucmljaENvbXBhcmVCb29sKGMsYSwiSXNOb3QiKSl9KSxhLmFicz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoU2suYnVpbHRpbi5hYnMsW2FdKX0pLGEuX19hYnNfXz1hLmFicyxhLmFkZD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmFic3RyLm9iamVjdEFkZChjLGEpfSksYS5fX2FkZF9fPWEuYWRkLGEuYW5kXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmFic3RyLmJpbmFyeV9vcF8oYyxhLCJCaXRBbmQiKX0pLGEuX19hbmRfXz1hLmFuZF8sYS5kaXY9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5hYnN0ci5iaW5hcnlfb3BfKGMsYSwiRGl2Iil9KSxhLl9fZGl2X189YS5kaXYsYS5mbG9vcmRpdj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmFic3RyLmJpbmFyeV9vcF8oYyxhLCJGbG9vckRpdiIpfSksYS5fX2Zsb29yZGl2X189YS5mbG9vcmRpdixhLmluZGV4PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBTay5idWlsdGluLmludF8oU2subWlzY2V2YWwuYXNJbmRleChiKSl9KSxhLl9faW5kZXhfXz1hLmluZGV4LGEuaW52PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmFic3RyLm51bWJlclVuYXJ5T3AoYSwiSW52ZXJ0Iil9KSxhLl9faW52X189YS5pbnYsYS5pbnZlcnQ9YS5pbnYsYS5fX2ludmVydF9fPWEuaW52LGEubHNoaWZ0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYWJzdHIuYmluYXJ5X29wXyhjLGEsIkxTaGlmdCIpfSksYS5fX2xzaGlmdF9fPWEubHNoaWZ0LGEubW9kPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYWJzdHIuYmluYXJ5X29wXyhjLGEsIk1vZCIpfSksYS5fX21vZF9fPWEubW9kLGEuZGl2bW9kPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYWJzdHIuYmluYXJ5X29wXyhjLGEsIkRpdk1vZCIpfSksYS5fX2Rpdm1vZF9fPWEuZGl2bW9kLGEubXVsPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYWJzdHIuYmluYXJ5X29wXyhjLGEsIk11bHQiKX0pLGEuX19tdWxfXz1hLm11bCxhLm5lZz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBTay5hYnN0ci5vYmplY3ROZWdhdGl2ZShhKX0pLGEuX19uZWdfXz1hLm5lZyxhLm9yXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmFic3RyLmJpbmFyeV9vcF8oYyxhLCJCaXRPciIpfSksYS5fX29yX189YS5vcl8sYS5wb3M9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gU2suYWJzdHIub2JqZWN0UG9zaXRpdmUoYSl9KSxhLl9fcG9zX189YS5wb3MsYS5wb3c9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5hYnN0ci5iaW5hcnlfb3BfKGMsYSwiUG93Iil9KSxhLl9fcG93X189YS5wb3csYS5yc2hpZnQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5hYnN0ci5iaW5hcnlfb3BfKGMsYSwiUlNoaWZ0Iil9KSxhLl9fcnNoaWZ0X189YS5yc2hpZnQsYS5zdWI9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5hYnN0ci5iaW5hcnlfb3BfKGMsYSwiU3ViIil9KSxhLl9fc3ViX189YS5zdWIsYS50cnVlZGl2PWEuZGl2LGEuX190cnVlZGl2X189YS5kaXYsYS54b3I9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5hYnN0ci5iaW5hcnlfb3BfKGMsYSwiQml0WG9yIil9KSxhLl9feG9yX189YS54b3IsYS5jb25jYXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5hYnN0ci5zZXF1ZW5jZUNvbmNhdChjLGEpfSksYS5fX2NvbmNhdF9fPWEuY29uY2F0LGEuY29udGFpbnM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5idWlsdGluLmJvb2woU2suYWJzdHIuc2VxdWVuY2VDb250YWlucyhjLGEpKX0pLGEuX19jb250YWluc19fPWEuY29udGFpbnMsYS5jb3VudE9mPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYWJzdHIuc2VxdWVuY2VHZXRDb3VudE9mKGMsYSl9KSxhLmRlbGl0ZW09bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihjLGEpe3JldHVybiBTay5hYnN0ci5zZXF1ZW5jZURlbEl0ZW0oYyxhKX0pLGEuX19kZWxpdGVtX189YS5kZWxpdGVtLGEuZ2V0aXRlbT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsYSl7cmV0dXJuIFNrLmFic3RyLnNlcXVlbmNlR2V0SXRlbShjLGEpfSksYS5fX2dldGl0ZW1fXz1hLmdldGl0ZW0sYS5pbmRleE9mPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYyxhKXtyZXR1cm4gU2suYWJzdHIuc2VxdWVuY2VHZXRJbmRleE9mKGMsYSl9KSxhLnNldGl0ZW09bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihkLGEsYil7cmV0dXJuIFNrLmFic3RyLnNlcXVlbmNlU2V0SXRlbShkLGEsYil9KSxhLl9fc2V0aXRlbV9fPWEuc2V0aXRlbSxhfTsnLAogICAgInNyYy9saWIvb3B0cGFyc2UucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigib3B0cGFyc2UgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL29zLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIm9zIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9vczJlbXhwYXRoLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIm9zMmVteHBhdGggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3BkYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJwZGIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3BpY2tsZS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJwaWNrbGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3BpY2tsZXRvb2xzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInBpY2tsZXRvb2xzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9waXBlcy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJwaXBlcyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvcGtndXRpbC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJwa2d1dGlsIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wbGF0Zm9ybS5qcyI6CiAgICAgICd2YXIgJGJ1aWx0aW5tb2R1bGU9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5uYXZpZ2F0b3I7cmV0dXJuIGEucHl0aG9uX2ltcGxlbWVudGF0aW9uPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigicHl0aG9uX2ltcGxlbWVudGF0aW9uIixhcmd1bWVudHMubGVuZ3RoLDAsMCksbmV3IFNrLmJ1aWx0aW4uc3RyKCJTa3VscHQiKX0pLGEubm9kZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oIm5vZGUiLGFyZ3VtZW50cy5sZW5ndGgsMCwwKSxuZXcgU2suYnVpbHRpbi5zdHIoIiIpfSksYS52ZXJzaW9uPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigidmVyc2lvbiIsYXJndW1lbnRzLmxlbmd0aCwwLDApLG5ldyBTay5idWlsdGluLnN0cigiIil9KSxhLnB5dGhvbl92ZXJzaW9uPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigicHl0aG9uX3ZlcnNpb24iLGFyZ3VtZW50cy5sZW5ndGgsMCwwKSxhPVNrLl9fZnV0dXJlX18ucHl0aG9uX3ZlcnNpb24/IjMuMi4wIjoiMi43LjAiLG5ldyBTay5idWlsdGluLnN0cihhKX0pLGEuc3lzdGVtPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigic3lzdGVtIixhcmd1bWVudHMubGVuZ3RoLDAsMCksYT1iP3dpbmRvdy5uYXZpZ2F0b3IuYXBwQ29kZU5hbWU6IiIsbmV3IFNrLmJ1aWx0aW4uc3RyKGEpfSksYS5tYWNoaW5lPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigibWFjaGluZSIsYXJndW1lbnRzLmxlbmd0aCwwLDApLGE9Yj93aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtOiIiLG5ldyBTay5idWlsdGluLnN0cihhKX0pLGEucmVsZWFzZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInJlbGVhc2UiLGFyZ3VtZW50cy5sZW5ndGgsMCwwKSxhPWI/d2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uOiIiLG5ldyBTay5idWlsdGluLnN0cihhKX0pLGEuYXJjaGl0ZWN0dXJlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiYXJjaGl0ZWN0dXJlIixhcmd1bWVudHMubGVuZ3RoLDAsMCksbmV3IFNrLmJ1aWx0aW4udHVwbGUoW25ldyBTay5idWlsdGluLnN0cigiNjRiaXQiKSxuZXcgU2suYnVpbHRpbi5zdHIoIiIpXSl9KSxhLnByb2Nlc3Nvcj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInByb2Nlc3NvciIsYXJndW1lbnRzLmxlbmd0aCwwLDApLG5ldyBTay5idWlsdGluLnN0cigiIil9KSxhfTsnLAogICAgInNyYy9saWIvcGxhdGZvcm0ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicGxhdGZvcm0gaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3BsaXN0bGliLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInBsaXN0bGliIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wb3BlbjIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicG9wZW4yIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wb3BsaWIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicG9wbGliIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wb3NpeGZpbGUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicG9zaXhmaWxlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wb3NpeHBhdGgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicG9zaXhwYXRoIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wcHJpbnQucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicHByaW50IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wcm9jZXNzaW5nLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBiLGMsZCxlLGYsZyxoLGE9TWF0aC5QSSxqPXt9LGs9W10sbD0hMCxtPW51bGw7cmV0dXJuIGoucHJvY2Vzc2luZz1udWxsLGoucD1udWxsLGouWD1uZXcgU2suYnVpbHRpbi5pbnRfKDApLGouWT1uZXcgU2suYnVpbHRpbi5pbnRfKDEpLGouWj1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouUj1uZXcgU2suYnVpbHRpbi5pbnRfKDMpLGouRz1uZXcgU2suYnVpbHRpbi5pbnRfKDQpLGouQj1uZXcgU2suYnVpbHRpbi5pbnRfKDUpLGouQT1uZXcgU2suYnVpbHRpbi5pbnRfKDYpLGouVT1uZXcgU2suYnVpbHRpbi5pbnRfKDcpLGouVj1uZXcgU2suYnVpbHRpbi5pbnRfKDgpLGouTlg9bmV3IFNrLmJ1aWx0aW4uaW50Xyg5KSxqLk5ZPW5ldyBTay5idWlsdGluLmludF8oMTApLGouTlo9bmV3IFNrLmJ1aWx0aW4uaW50XygxMSksai5FREdFPW5ldyBTay5idWlsdGluLmludF8oMTIpLGouU1I9bmV3IFNrLmJ1aWx0aW4uaW50XygxMyksai5TRz1uZXcgU2suYnVpbHRpbi5pbnRfKDE0KSxqLlNCPW5ldyBTay5idWlsdGluLmludF8oMTUpLGouU0E9bmV3IFNrLmJ1aWx0aW4uaW50XygxNiksai5TVz1uZXcgU2suYnVpbHRpbi5pbnRfKDE3KSxqLlRYPW5ldyBTay5idWlsdGluLmludF8oMTgpLGouVFk9bmV3IFNrLmJ1aWx0aW4uaW50XygxOSksai5UWj1uZXcgU2suYnVpbHRpbi5pbnRfKDIwKSxqLlZYPW5ldyBTay5idWlsdGluLmludF8oMjEpLGouVlk9bmV3IFNrLmJ1aWx0aW4uaW50XygyMiksai5WWj1uZXcgU2suYnVpbHRpbi5pbnRfKDIzKSxqLlZXPW5ldyBTay5idWlsdGluLmludF8oMjQpLGouQVI9bmV3IFNrLmJ1aWx0aW4uaW50XygyNSksai5BRz1uZXcgU2suYnVpbHRpbi5pbnRfKDI2KSxqLkFCPW5ldyBTay5idWlsdGluLmludF8oMjcpLGouRFI9bmV3IFNrLmJ1aWx0aW4uaW50XygzKSxqLkRHPW5ldyBTay5idWlsdGluLmludF8oNCksai5EQj1uZXcgU2suYnVpbHRpbi5pbnRfKDUpLGouREE9bmV3IFNrLmJ1aWx0aW4uaW50Xyg2KSxqLlNQUj1uZXcgU2suYnVpbHRpbi5pbnRfKDI4KSxqLlNQRz1uZXcgU2suYnVpbHRpbi5pbnRfKDI5KSxqLlNQQj1uZXcgU2suYnVpbHRpbi5pbnRfKDMwKSxqLlNISU5FPW5ldyBTay5idWlsdGluLmludF8oMzEpLGouRVI9bmV3IFNrLmJ1aWx0aW4uaW50XygzMiksai5FRz1uZXcgU2suYnVpbHRpbi5pbnRfKDMzKSxqLkVCPW5ldyBTay5idWlsdGluLmludF8oMzQpLGouQkVFTl9MSVQ9bmV3IFNrLmJ1aWx0aW4uaW50XygzNSksai5WRVJURVhfRklFTERfQ09VTlQ9bmV3IFNrLmJ1aWx0aW4uaW50XygzNiksai5DRU5URVI9bmV3IFNrLmJ1aWx0aW4uaW50XygzKSxqLlJBRElVUz1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouQ09STkVSUz1uZXcgU2suYnVpbHRpbi5pbnRfKDEpLGouQ09STkVSPW5ldyBTay5idWlsdGluLmludF8oMCksai5ESUFNRVRFUj1uZXcgU2suYnVpbHRpbi5pbnRfKDMpLGouQkFTRUxJTkU9bmV3IFNrLmJ1aWx0aW4uaW50XygwKSxqLlRPUD1uZXcgU2suYnVpbHRpbi5pbnRfKDEwMSksai5CT1RUT009bmV3IFNrLmJ1aWx0aW4uaW50XygxMDIpLGouTk9STUFMPW5ldyBTay5idWlsdGluLmludF8oMSksai5OT1JNQUxJWkVEPW5ldyBTay5idWlsdGluLmludF8oMSksai5JTUFHRT1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouTU9ERUw9bmV3IFNrLmJ1aWx0aW4uaW50Xyg0KSxqLlNIQVBFPW5ldyBTay5idWlsdGluLmludF8oNSksai5BTUJJRU5UPW5ldyBTay5idWlsdGluLmludF8oMCksai5ESVJFQ1RJT05BTD1uZXcgU2suYnVpbHRpbi5pbnRfKDEpLGouU1BPVD1uZXcgU2suYnVpbHRpbi5pbnRfKDMpLGouUkdCPW5ldyBTay5idWlsdGluLmludF8oMSksai5BUkdCPW5ldyBTay5idWlsdGluLmludF8oMiksai5IU0I9bmV3IFNrLmJ1aWx0aW4uaW50XygzKSxqLkFMUEhBPW5ldyBTay5idWlsdGluLmludF8oNCksai5DTVlLPW5ldyBTay5idWlsdGluLmludF8oNSksai5USUZGPW5ldyBTay5idWlsdGluLmludF8oMCksai5UQVJHQT1uZXcgU2suYnVpbHRpbi5pbnRfKDEpLGouSlBFRz1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouR0lGPW5ldyBTay5idWlsdGluLmludF8oMyksai5NSVRFUj1uZXcgU2suYnVpbHRpbi5zdHIoIm1pdGVyIiksai5CRVZFTD1uZXcgU2suYnVpbHRpbi5zdHIoImJldmVsIiksai5ST1VORD1uZXcgU2suYnVpbHRpbi5zdHIoInJvdW5kIiksai5TUVVBUkU9bmV3IFNrLmJ1aWx0aW4uc3RyKCJidXR0Iiksai5QUk9KRUNUPW5ldyBTay5idWlsdGluLnN0cigic3F1YXJlIiksai5QMkQ9bmV3IFNrLmJ1aWx0aW4uaW50XygxKSxqLkpBVkEyRD1uZXcgU2suYnVpbHRpbi5pbnRfKDEpLGouV0VCR0w9bmV3IFNrLmJ1aWx0aW4uaW50XygyKSxqLlAzRD1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouT1BFTkdMPW5ldyBTay5idWlsdGluLmludF8oMiksai5QREY9bmV3IFNrLmJ1aWx0aW4uaW50XygwKSxqLkRYRj1uZXcgU2suYnVpbHRpbi5pbnRfKDApLGouT1RIRVI9bmV3IFNrLmJ1aWx0aW4uaW50XygwKSxqLldJTkRPV1M9bmV3IFNrLmJ1aWx0aW4uaW50XygxKSxqLk1BWE9TWD1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouTElOVVg9bmV3IFNrLmJ1aWx0aW4uaW50XygzKSxqLkVQU0lMT049bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKDFlLTQpLGouTUFYX0ZMT0FUPW5ldyBTay5idWlsdGluLmZsb2F0XygzNDAyODIzNWUzMSksai5NSU5fRkxPQVQ9bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKC0zNDAyODIzNWUzMSksai5NQVhfSU5UPW5ldyBTay5idWlsdGluLmludF8oMjE0NzQ4MzY0Nyksai5NSU5fSU5UPW5ldyBTay5idWlsdGluLmludF8oLTIxNDc0ODM2NDgpLGouSEFMRl9QST1uZXcgU2suYnVpbHRpbi5mbG9hdF8oYS8yKSxqLlRISVJEX1BJPW5ldyBTay5idWlsdGluLmZsb2F0XyhhLzMpLGouUEk9bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGEpLGouVFdPX1BJPW5ldyBTay5idWlsdGluLmZsb2F0XygyKmEpLGouVEFVPW5ldyBTay5idWlsdGluLmZsb2F0XygyKmEpLGouUVVBUlRFUl9QST1uZXcgU2suYnVpbHRpbi5mbG9hdF8oYS80KSxqLkRFR19UT19SQUQ9bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGEvMTgwKSxqLlJBRF9UT19ERUc9bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKDE4MC9hKSxqLldISVRFU1BBQ0U9U2suYnVpbHRpbi5zdHIoIiBcXHRcXG5cXHJcXGZcXHhBMCIpLGouUE9JTlQ9bmV3IFNrLmJ1aWx0aW4uaW50XygyKSxqLlBPSU5UUz1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouTElORT1uZXcgU2suYnVpbHRpbi5pbnRfKDQpLGouTElORVM9bmV3IFNrLmJ1aWx0aW4uaW50Xyg0KSxqLlRSSUFOR0xFPW5ldyBTay5idWlsdGluLmludF8oOCksai5UUklBTkdMRVM9bmV3IFNrLmJ1aWx0aW4uaW50Xyg5KSxqLlRSSUFOR0xFX0ZBTj1uZXcgU2suYnVpbHRpbi5pbnRfKDExKSxqLlRSSUFOR0xFX1NUUklQPW5ldyBTay5idWlsdGluLmludF8oMTApLGouUVVBRD1uZXcgU2suYnVpbHRpbi5pbnRfKDE2KSxqLlFVQURTPW5ldyBTay5idWlsdGluLmludF8oMTYpLGouUVVBRF9TVFJJUD1uZXcgU2suYnVpbHRpbi5pbnRfKDE3KSxqLlBPTFlHT049bmV3IFNrLmJ1aWx0aW4uaW50XygyMCksai5QQVRIPW5ldyBTay5idWlsdGluLmludF8oMjEpLGouUkVDVD1uZXcgU2suYnVpbHRpbi5pbnRfKDMwKSxqLkVMTElQU0U9bmV3IFNrLmJ1aWx0aW4uaW50XygzMSksai5BUkM9bmV3IFNrLmJ1aWx0aW4uaW50XygzMiksai5TUEhFUkU9bmV3IFNrLmJ1aWx0aW4uaW50Xyg0MCksai5CT1g9bmV3IFNrLmJ1aWx0aW4uaW50Xyg0MSksai5HUk9VUD1uZXcgU2suYnVpbHRpbi5pbnRfKDApLGouUFJJTUlUSVZFPW5ldyBTay5idWlsdGluLmludF8oMSksai5HRU9NRVRSWT1uZXcgU2suYnVpbHRpbi5pbnRfKDMpLGouVkVSVEVYPW5ldyBTay5idWlsdGluLmludF8oMCksai5CRVpJRVJfVkVSVEVYPW5ldyBTay5idWlsdGluLmludF8oMSksai5DVVJWRV9WRVJURVg9bmV3IFNrLmJ1aWx0aW4uaW50XygyKSxqLkJSRUFLPW5ldyBTay5idWlsdGluLmludF8oMyksai5DTE9TRVNIQVBFPW5ldyBTay5idWlsdGluLmludF8oNCksai5SRVBMQUNFPW5ldyBTay5idWlsdGluLmludF8oMCksai5CTEVORD1uZXcgU2suYnVpbHRpbi5pbnRfKDEpLGouQUREPW5ldyBTay5idWlsdGluLmludF8oMiksai5TVUJUUkFDVD1uZXcgU2suYnVpbHRpbi5pbnRfKDQpLGouTElHSFRFU1Q9bmV3IFNrLmJ1aWx0aW4uaW50Xyg4KSxqLkRBUktFU1Q9bmV3IFNrLmJ1aWx0aW4uaW50XygxNiksai5ESUZGRVJFTkNFPW5ldyBTay5idWlsdGluLmludF8oMzIpLGouRVhDTFVTSU9OPW5ldyBTay5idWlsdGluLmludF8oNjQpLGouTVVMVElQTFk9bmV3IFNrLmJ1aWx0aW4uaW50XygxMjgpLGouU0NSRUVOPW5ldyBTay5idWlsdGluLmludF8oMjU2KSxqLk9WRVJMQVk9bmV3IFNrLmJ1aWx0aW4uaW50Xyg1MTIpLGouSEFSRF9MSUdIVD1uZXcgU2suYnVpbHRpbi5pbnRfKDEwMjQpLGouU09GVF9MSUdIVD1uZXcgU2suYnVpbHRpbi5pbnRfKDIwNDgpLGouRE9ER0U9bmV3IFNrLmJ1aWx0aW4uaW50Xyg0MDk2KSxqLkJVUk49bmV3IFNrLmJ1aWx0aW4uaW50Xyg4MTkyKSxqLkFMUEhBX01BU0s9bmV3IFNrLmJ1aWx0aW4uaW50Xyg0Mjc4MTkwMDgwKSxqLlJFRF9NQVNLPW5ldyBTay5idWlsdGluLmludF8oMTY3MTE2ODApLGouR1JFRU5fTUFTSz1uZXcgU2suYnVpbHRpbi5pbnRfKDY1MjgwKSxqLkJMVUVfTUFTSz1uZXcgU2suYnVpbHRpbi5pbnRfKDI1NSksai5DVVNUT009bmV3IFNrLmJ1aWx0aW4uaW50XygwKSxqLk9SVEhPR1JBUEhJQz1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouUEVSU1BFQ1RJVkU9bmV3IFNrLmJ1aWx0aW4uaW50XygzKSxqLkFSUk9XPW5ldyBTay5idWlsdGluLnN0cigiZGVmYXVsdCIpLGouQ1JPU1M9bmV3IFNrLmJ1aWx0aW4uc3RyKCJjcm9zc2hhaXIiKSxqLkhBTkQ9bmV3IFNrLmJ1aWx0aW4uc3RyKCJwb2ludGVyIiksai5NT1ZFPW5ldyBTay5idWlsdGluLnN0cigibW92ZSIpLGouVEVYVD1uZXcgU2suYnVpbHRpbi5zdHIoInRleHQiKSxqLldBSVQ9bmV3IFNrLmJ1aWx0aW4uc3RyKCJ3YWl0Iiksai5OT0NVUlNPUj1Tay5idWlsdGluLmFzc2skKCJ1cmwoXCdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09XCcpLCBhdXRvIixTay5idWlsdGluLm5tYmVyLnN0ciksai5ESVNBQkxFX09QRU5HTF8yWF9TTU9PVEg9bmV3IFNrLmJ1aWx0aW4uaW50XygxKSxqLkVOQUJMRV9PUEVOR0xfMlhfU01PT1RIPW5ldyBTay5idWlsdGluLmludF8oLTEpLGouRU5BQkxFX09QRU5HTF80WF9TTU9PVEg9bmV3IFNrLmJ1aWx0aW4uaW50XygyKSxqLkVOQUJMRV9OQVRJVkVfRk9OVFM9bmV3IFNrLmJ1aWx0aW4uaW50XygzKSxqLkRJU0FCTEVfREVQVEhfVEVTVD1uZXcgU2suYnVpbHRpbi5pbnRfKDQpLGouRU5BQkxFX0RFUFRIX1RFU1Q9bmV3IFNrLmJ1aWx0aW4uaW50XygtNCksai5FTkFCTEVfREVQVEhfU09SVD1uZXcgU2suYnVpbHRpbi5pbnRfKDUpLGouRElTQUJMRV9ERVBUSF9TT1JUPW5ldyBTay5idWlsdGluLmludF8oLTUpLGouRElTQUJMRV9PUEVOR0xfRVJST1JfUkVQT1JUPW5ldyBTay5idWlsdGluLmludF8oNiksai5FTkFCTEVfT1BFTkdMX0VSUk9SX1JFUE9SVD1uZXcgU2suYnVpbHRpbi5pbnRfKC02KSxqLkVOQUJMRV9BQ0NVUkFURV9URVhUVVJFUz1uZXcgU2suYnVpbHRpbi5pbnRfKDcpLGouRElTQUJMRV9BQ0NVUkFURV9URVhUVVJFUz1uZXcgU2suYnVpbHRpbi5pbnRfKC03KSxqLkhJTlRfQ09VTlQ9bmV3IFNrLmJ1aWx0aW4uaW50XygxMCksai5PUEVOPW5ldyBTay5idWlsdGluLmludF8oMSksai5DTE9TRT1uZXcgU2suYnVpbHRpbi5pbnRfKDIpLGouQkxVUj1uZXcgU2suYnVpbHRpbi5pbnRfKDExKSxqLkdSQVk9bmV3IFNrLmJ1aWx0aW4uaW50XygxMiksai5JTlZFUlQ9bmV3IFNrLmJ1aWx0aW4uaW50XygxMyksai5PUEFRVUU9bmV3IFNrLmJ1aWx0aW4uaW50XygxNCksai5QT1NURVJJWkU9bmV3IFNrLmJ1aWx0aW4uaW50XygxNSksai5USFJFU0hPTEQ9bmV3IFNrLmJ1aWx0aW4uaW50XygxNiksai5FUk9ERT1uZXcgU2suYnVpbHRpbi5pbnRfKDE3KSxqLkRJTEFURT1uZXcgU2suYnVpbHRpbi5pbnRfKDE4KSxqLkJBQ0tTUEFDRT1uZXcgU2suYnVpbHRpbi5pbnRfKDgpLGouVEFCPW5ldyBTay5idWlsdGluLmludF8oOSksai5FTlRFUj1uZXcgU2suYnVpbHRpbi5pbnRfKDEwKSxqLlJFVFVSTj1uZXcgU2suYnVpbHRpbi5pbnRfKDEzKSxqLkVTQz1uZXcgU2suYnVpbHRpbi5pbnRfKDI3KSxqLkRFTEVURT1uZXcgU2suYnVpbHRpbi5pbnRfKDEyNyksai5DT0RFRD1uZXcgU2suYnVpbHRpbi5pbnRfKDY1NTM1KSxqLlNISUZUPW5ldyBTay5idWlsdGluLmludF8oMTYpLGouQ09OVFJPTD1uZXcgU2suYnVpbHRpbi5pbnRfKDE3KSxqLkFMVD1uZXcgU2suYnVpbHRpbi5pbnRfKDE4KSxqLkNBUFNMSz1uZXcgU2suYnVpbHRpbi5pbnRfKDIwKSxqLlBHVVA9bmV3IFNrLmJ1aWx0aW4uaW50XygzMyksai5QR0ROPW5ldyBTay5idWlsdGluLmludF8oMzQpLGouRU5EPW5ldyBTay5idWlsdGluLmludF8oMzUpLGouSE9NRT1uZXcgU2suYnVpbHRpbi5pbnRfKDM2KSxqLkxFRlQ9bmV3IFNrLmJ1aWx0aW4uaW50XygzNyksai5VUD1uZXcgU2suYnVpbHRpbi5pbnRfKDM4KSxqLlJJR0hUPW5ldyBTay5idWlsdGluLmludF8oMzkpLGouRE9XTj1uZXcgU2suYnVpbHRpbi5pbnRfKDQwKSxqLkYxPW5ldyBTay5idWlsdGluLmludF8oMTEyKSxqLkYyPW5ldyBTay5idWlsdGluLmludF8oMTEzKSxqLkYzPW5ldyBTay5idWlsdGluLmludF8oMTE0KSxqLkY0PW5ldyBTay5idWlsdGluLmludF8oMTE1KSxqLkY1PW5ldyBTay5idWlsdGluLmludF8oMTE2KSxqLkY2PW5ldyBTay5idWlsdGluLmludF8oMTE3KSxqLkY3PW5ldyBTay5idWlsdGluLmludF8oMTE4KSxqLkY4PW5ldyBTay5idWlsdGluLmludF8oMTE5KSxqLkY5PW5ldyBTay5idWlsdGluLmludF8oMTIwKSxqLkYxMD1uZXcgU2suYnVpbHRpbi5pbnRfKDEyMSksai5GMTE9bmV3IFNrLmJ1aWx0aW4uaW50XygxMjIpLGouRjEyPW5ldyBTay5idWlsdGluLmludF8oMTIzKSxqLk5VTUxLPW5ldyBTay5idWlsdGluLmludF8oMTQ0KSxqLk1FVEE9bmV3IFNrLmJ1aWx0aW4uaW50XygxNTcpLGouSU5TRVJUPW5ldyBTay5idWlsdGluLmludF8oMTU1KSxqLlNJTkNPU19MRU5HVEg9bmV3IFNrLmJ1aWx0aW4uaW50Xyg3MjApLGouUFJFQ0lTSU9OQj1uZXcgU2suYnVpbHRpbi5pbnRfKDE1KSxqLlBSRUNJU0lPTkY9bmV3IFNrLmJ1aWx0aW4uaW50XygzMjc2OCksai5QUkVDX01BWFZBTD1uZXcgU2suYnVpbHRpbi5pbnRfKDMyNzY3KSxqLlBSRUNfQUxQSEFfU0hJRlQ9bmV3IFNrLmJ1aWx0aW4uaW50Xyg5KSxqLlBSRUNfUkVEX1NISUZUPW5ldyBTay5idWlsdGluLmludF8oMSksai5OT1JNQUxfTU9ERV9BVVRPPW5ldyBTay5idWlsdGluLmludF8oMCksai5OT1JNQUxfTU9ERV9TSEFQRT1uZXcgU2suYnVpbHRpbi5pbnRfKDEpLGouTk9STUFMX01PREVfVkVSVEVYPW5ldyBTay5idWlsdGluLmludF8oMiksai5NQVhfTElHSFRTPW5ldyBTay5idWlsdGluLmludF8oOCksai5saW5lPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCl7ai5wcm9jZXNzaW5nLmxpbmUoYS52LGIudixjLnYsZC52KX0pLGouZWxsaXBzZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe2oucHJvY2Vzc2luZy5lbGxpcHNlKGEudixiLnYsYy52LGQudil9KSxqLnRleHQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7ai5wcm9jZXNzaW5nLnRleHQoYS52LGIudixjLnYpfSksai5wb2ludD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7ai5wcm9jZXNzaW5nLnBvaW50KGEudixiLnYpfSksai5hcmM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZil7ai5wcm9jZXNzaW5nLmFyYyhhLnYsYi52LGMudixkLnYsZS52LGYudil9KSxqLnF1YWQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe2oucHJvY2Vzc2luZy5xdWFkKGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYpfSksai5yZWN0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlKXsidW5kZWZpbmVkIj09dHlwZW9mIGU/ai5wcm9jZXNzaW5nLnJlY3QoYS52LGIudixjLnYsZC52KTpqLnByb2Nlc3NpbmcucmVjdChhLnYsYi52LGMudixkLnYsZS52KX0pLGoudHJpYW5nbGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZil7ai5wcm9jZXNzaW5nLnRyaWFuZ2xlKGEudixiLnYsYy52LGQudixlLnYsZi52KX0pLGouYmV6aWVyPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGksayxsLG0peyJ1bmRlZmluZWQiPT10eXBlb2YgaT9qLnByb2Nlc3NpbmcuYmV6aWVyKGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYpOmoucHJvY2Vzc2luZy5iZXppZXIoYS52LGIudixjLnYsZC52LGUudixmLnYsZy52LGgudixpLnYsay52LGwudixtLnYpfSksai5hbHBoYT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGM/bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5hbHBoYShhLnYpKToidW5kZWZpbmVkIj09dHlwZW9mIGQ/bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5hbHBoYShhLnYsYy52KSk6bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5hbHBoYShhLnYsYy52LGQudikpfSksai5hbWJpZW50PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxjLGQpeyJ1bmRlZmluZWQiPT10eXBlb2YgYz9qLnByb2Nlc3NpbmcuYW1iaWVudChhLnYpOiJ1bmRlZmluZWQiPT10eXBlb2YgZD9qLnByb2Nlc3NpbmcuYW1iaWVudChhLnYsYy52KTpqLnByb2Nlc3NpbmcuYW1iaWVudChhLnYsYy52LGQudil9KSxqLmFtYmllbnRMaWdodD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQsZSxmKXsidW5kZWZpbmVkIj09dHlwZW9mIGQ/ai5wcm9jZXNzaW5nLmFtYmllbnRMaWdodChhLnYsYi52LGMudik6InVuZGVmaW5lZCI9PXR5cGVvZiBlP2oucHJvY2Vzc2luZy5hbWJpZW50TGlnaHQoYS52LGIudixjLnYsZC52KToidW5kZWZpbmVkIj09dHlwZW9mIGY/ai5wcm9jZXNzaW5nLmFtYmllbnRMaWdodChhLnYsYi52LGMudixkLnYsZS52KTpqLnByb2Nlc3NpbmcuYW1iaWVudExpZ2h0KGEudixiLnYsYy52LGQudixlLnYsZi52KX0pLGouYmVnaW5DYW1lcmE9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5iZWdpbkNhbWVyYSgpfSksai5iZWdpblNoYXBlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7InVuZGVmaW5lZCI9PXR5cGVvZiBhJiYoYT1qLlBPTFlHT04pLGoucHJvY2Vzc2luZy5iZWdpblNoYXBlKGEudil9KSxqLmJlemllckRldGFpbD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2E9InVuZGVmaW5lZCI9PXR5cGVvZiBhPzIwOmEudixqLnByb2Nlc3NpbmcuYmV6aWVyRGV0YWlsKGEpfSksai5iZXppZXJQb2ludD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGUsYSxiLGMsZCl7ai5wcm9jZXNzaW5nLmJlemllclBvaW50KGUudixhLnYsYi52LGMudixkLnYpfSksai5iZXppZXJUYW5nZW50PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oZSxhLGIsYyxkKXtqLnByb2Nlc3NpbmcuYmV6aWVyVGFuZ2VudChlLnYsYS52LGIudixjLnYsZC52KX0pLGouYmV6aWVyVmVydGV4PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpeyJ1bmRlZmluZWQiPT10eXBlb2YgZz9qLnByb2Nlc3NpbmcuYmV6aWVyVmVydGV4KGEudixiLnYsYy52LGQudixlLnYsZi52KToidW5kZWZpbmVkIj09dHlwZW9mIGg/ai5wcm9jZXNzaW5nLmJlemllclZlcnRleChhLnYsYi52LGMudixkLnYsZS52LGYudixnLnYpOiJ1bmRlZmluZWQiPT10eXBlb2YgaT9qLnByb2Nlc3NpbmcuYmV6aWVyVmVydGV4KGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYpOmoucHJvY2Vzc2luZy5iZXppZXJWZXJ0ZXgoYS52LGIudixjLnYsZC52LGUudixmLnYsZy52LGgudixpLnYpfSksai5ibGVuZD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpLGspe290aGVyIGluc3RhbmNlb2YgU2suYnVpbHRpbi5pbnRffHxvdGhlciBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZmxvYXRfP2oucHJvY2Vzc2luZy5ibGVuZChhLnYsYi52LGMudixkLnYsZS52LGYudixnLnYsaC52LGkudik6ai5wcm9jZXNzaW5nLmJsZW5kKGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYsaS52LGsudil9KSxqLmJsZW5kQ29sb3I9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsZCl7dmFyIGU9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGouY29sb3IsW25ldyBTay5idWlsdGluLmludF8oMCksbmV3IFNrLmJ1aWx0aW4uaW50XygwKSxuZXcgU2suYnVpbHRpbi5pbnRfKDApXSk7cmV0dXJuIGUudj1qLnByb2Nlc3NpbmcuYmxlbmRDb2xvcihhLnYsYi52LGQudiksZX0pLGouYnJpZ2h0bmVzcz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGM/bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5icmlnaHRuZXNzKGEudikpOiJ1bmRlZmluZWQiPT10eXBlb2YgZD9uZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLmJyaWdodG5lc3MoYS52LGMudikpOm5ldyBTay5idWlsdGluLmZsb2F0XyhqLnByb2Nlc3NpbmcuYnJpZ2h0bmVzcyhhLnYsYy52LGQudikpfSksai5jYW1lcmE9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7InVuZGVmaW5lZCI9PXR5cGVvZiBhP2oucHJvY2Vzc2luZy5jYW1lcmEoKTpqLnByb2Nlc3NpbmcuY2FtZXJhKGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYsaS52KX0pLGouY29uc3RyYWluPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLmNvbnN0cmFpbihhLnYsYi52LGMudikpfSksai5jb3B5PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe290aGVyIGluc3RhbmNlb2YgU2suYnVpbHRpbi5pbnRffHxvdGhlciBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZmxvYXRfP2oucHJvY2Vzc2luZy5jb3B5KGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYpOmoucHJvY2Vzc2luZy5jb3B5KGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYsaS52KX0pLGouY3JlYXRlRm9udD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBGb250KTtyZXR1cm4gZS52PSJ1bmRlZmluZWQiPT10eXBlb2YgYz9qLnByb2Nlc3NpbmcuY3JlYXRlRm9udChhLnYsYi52KToidW5kZWZpbmVkIj09dHlwZW9mIGQ/ai5wcm9jZXNzaW5nLmNyZWF0ZUZvbnQoYS52LGIudixjLnYpOmoucHJvY2Vzc2luZy5jcmVhdGVGb250KGEudixiLnYsYy52LGQudiksZX0pLGouY3JlYXRlR3JhcGhpY3M9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoai5QR3JhcGhpY3MpO3JldHVybiBlLnY9InVuZGVmaW5lZCI9PXR5cGVvZiBkP2oucHJvY2Vzc2luZy5jcmVhdGVHcmFwaGljcyhhLnYsYi52LGMudik6ai5wcm9jZXNzaW5nLmNyZWF0ZUdyYXBoaWNzKGEudixiLnYsYy52LGQudiksZX0pLGouY3JlYXRlSW1hZ2U9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7dmFyIGQ9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGouUEltYWdlKTtyZXR1cm4gZC52PWoucHJvY2Vzc2luZy5jcmVhdGVJbWFnZShhLnYsYi52LGMudiksZH0pLGouY3Vyc29yPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpeyJ1bmRlZmluZWQiPT10eXBlb2YgYT9qLnByb2Nlc3NpbmcuY3Vyc29yKCk6InVuZGVmaW5lZCI9PXR5cGVvZiBiP2oucHJvY2Vzc2luZy5jdXJzb3IoYS52KToidW5kZWZpbmVkIj09dHlwZW9mIGM/ai5wcm9jZXNzaW5nLmN1cnNvcihhLnYsYi52KTpqLnByb2Nlc3NpbmcuY3Vyc29yKGEudixiLnYsYy52KX0pLGouY3VydmU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxrLGwsbSl7InVuZGVmaW5lZCI9PXR5cGVvZiBpP2oucHJvY2Vzc2luZy5jdXJ2ZShhLnYsYi52LGMudixkLnYsZS52LGYudixnLnYsaC52KToidW5kZWZpbmVkIj09dHlwZW9mIGs/ai5wcm9jZXNzaW5nLmN1cnZlKGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYsaS52KToidW5kZWZpbmVkIj09dHlwZW9mIGw/ai5wcm9jZXNzaW5nLmN1cnZlKGEudixiLnYsYy52LGQudixlLnYsZi52LGcudixoLnYsaS52LGsudik6InVuZGVmaW5lZCI9PXR5cGVvZiBtP2oucHJvY2Vzc2luZy5jdXJ2ZShhLnYsYi52LGMudixkLnYsZS52LGYudixnLnYsaC52LGkudixrLnYsbC52KTpqLnByb2Nlc3NpbmcuY3VydmUoYS52LGIudixjLnYsZC52LGUudixmLnYsZy52LGgudixpLnYsay52LGwudixtLnYpfSksai5jdXJ2ZURldGFpbD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy5jdXJ2ZURldGFpbChhLnYpfSksai5jdXJ2ZVBvaW50PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oZSxhLGIsYyxkKXtqLnByb2Nlc3NpbmcuY3VydmVQb2ludChlLnYsYS52LGIudixjLnYsZC52KX0pLGouY3VydmVUYW5nZW50PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oZSxhLGIsYyxkKXtqLnByb2Nlc3NpbmcuY3VydmVUYW5nZW50KGUudixhLnYsYi52LGMudixkLnYpfSksai5jdXJ2ZVRpZ2h0bmVzcz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy5jdXJ2ZVRpZ2h0bmVzcyhhLnYpfSksai5jdXJ2ZVZlcnRleD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXsidW5kZWZpbmVkIj09dHlwZW9mIGM/ai5wcm9jZXNzaW5nLmN1cnZlVmVydGV4KGEudixiLnYpOmoucHJvY2Vzc2luZy5jdXJ2ZVZlcnRleChhLnYsYi52LGMudil9KSxqLmRheT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTay5idWlsdGluLmludF8oai5wcm9jZXNzaW5nLmRheSgpKX0pLGouZGVncmVlcz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLmRlZ3JlZXMoYS52KSl9KSxqLmRpcmVjdGlvbmFsTGlnaHQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZil7ai5wcm9jZXNzaW5nLmRpcmVjdGlvbmFsTGlnaHQoYS52LGIudixjLnYsZC52LGUudixmLnYpfSksai5kaXN0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZT9uZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLmRpc3QoYS52LGIudixjLnYsZC52KSk6InVuZGVmaW5lZCI9PXR5cGVvZiBmP25ldyBTay5idWlsdGluLmZsb2F0XyhqLnByb2Nlc3NpbmcuZGlzdChhLnYsYi52LGMudixkLnYsZS52KSk6bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5kaXN0KGEudixiLnYsYy52LGQudixlLnYsZi52KSl9KSxqLmVtaXNzaXZlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpeyJ1bmRlZmluZWQiPT10eXBlb2YgYj9qLnByb2Nlc3NpbmcuZW1pc3NpdmUoYS52KToidW5kZWZpbmVkIj09dHlwZW9mIGM/ai5wcm9jZXNzaW5nLmVtaXNzaXZlKGEudixiLnYpOmoucHJvY2Vzc2luZy5lbWlzc2l2ZShhLnYsYi52LGMudil9KSxqLmVuZENhbWVyYT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7ai5wcm9jZXNzaW5nLmVuZENhbWVyYSgpfSksai5lbmRTaGFwZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpeyJ1bmRlZmluZWQiPT10eXBlb2YgYT9qLnByb2Nlc3NpbmcuZW5kU2hhcGUoKTpqLnByb2Nlc3NpbmcuZW5kU2hhcGUoYS52KX0pLGouZmlsdGVyPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXsidW5kZWZpbmVkIj09dHlwZW9mIGI/ai5wcm9jZXNzaW5nLmZpbHRlcihhLnYpOmoucHJvY2Vzc2luZy5maWx0ZXIoYS52LGIudil9KSxqLmZydXN0dW09bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZil7ai5wcm9jZXNzaW5nLmZydXN0dW0oYSxiLGMsZCxlLGYpfSksai5oaW50PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLmhpbnQoYSl9KSxqLmhvdXI9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe3JldHVybiBuZXcgU2suYnVpbHRpbi5pbnRfKGoucHJvY2Vzc2luZy5ob3VyKCkpfSksai5odWU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5odWUoYS52KSl9KSxqLmltYWdlTW9kZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy5pbWFnZU1vZGUoYS52KX0pLGoubGVycD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5sZXJwKGEudixiLnYsYy52KSl9KSxqLmxlcnBDb2xvcj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixkKXt2YXIgZT1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoai5jb2xvcixbbmV3IFNrLmJ1aWx0aW4uaW50XygwKSxuZXcgU2suYnVpbHRpbi5pbnRfKDApLG5ldyBTay5idWlsdGluLmludF8oMCldKTtyZXR1cm4gZS52PWoucHJvY2Vzc2luZy5sZXJwQ29sb3IoYS52LGIudixkLnYpLGV9KSxqLmxpZ2h0RmFsbG9mZj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtqLnByb2Nlc3NpbmcubGlnaHRGYWxsb2ZmKGEudixiLnYsYy52KX0pLGoubGlnaHRzPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtqLnByb2Nlc3NpbmcubGlnaHRzKCl9KSxqLmxpZ2h0U3BlY3VsYXI9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7ai5wcm9jZXNzaW5nLmxpZ2h0U3BlY3VsYXIoYS52LGIudixjLnYpfSksai5sb2FkQnl0ZXM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChqLnByb2Nlc3NpbmcubG9hZEJ5dGVzKGEudikpfSksai5sb2FkRm9udD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3ZhciBiPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBGb250KTtyZXR1cm4gYi52PWoucHJvY2Vzc2luZy5sb2FkRm9udChhLnYpLGJ9KSxqLmxvYWRTaGFwZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3ZhciBiPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBTaGFwZVNWRyxbbmV3IFNrLmJ1aWx0aW4uc3RyKCJzdHJpbmciKSxhXSk7cmV0dXJuIGJ9KSxqLmxvYWRTdHJpbmdzPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3Qoai5wcm9jZXNzaW5nLmxvYWRTdHJpbmdzKGEudikpfSksai5tYWc9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihkLGEsYil7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBiP25ldyBTay5idWlsdGluLmZsb2F0XyhqLnByb2Nlc3NpbmcubWFnKGQudixhLnYpKTpuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm1hZyhkLnYsYS52LGIudikpfSksai5tYXA9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm1hcChhLnYsYi52LGMudixkLnYsZS52KSl9KSxqLm1pbGxpcz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTay5idWlsdGluLmludF8oai5wcm9jZXNzaW5nLm1pbGxpcygpKX0pLGoubWludXRlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uaW50XyhqLnByb2Nlc3NpbmcubWludXRlKCkpfSksai5tb2RlbFg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XyhqLnByb2Nlc3NpbmcubW9kZWxYKGEudixiLnYsYy52KSl9KSxqLm1vZGVsWT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5tb2RlbFkoYS52LGIudixjLnYpKX0pLGoubW9kZWxaPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm1vZGVsWihhLnYsYi52LGMudikpfSksai5tb250aD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTay5idWlsdGluLmludF8oai5wcm9jZXNzaW5nLm1vbnRoKCkpfSksai5ub0N1cnNvcj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7ai5wcm9jZXNzaW5nLm5vQ3Vyc29yKCl9KSxqLm5vaXNlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYj9uZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm5vaXNlKGEudikpOiJ1bmRlZmluZWQiPT10eXBlb2YgYz9uZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm5vaXNlKGEudixiLnYpKTpuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm5vaXNlKGEudixiLnYsYy52KSl9KSxqLm5vaXNlRGV0YWlsPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtqLnByb2Nlc3Npbmcubm9pc2VEZXRhaWwoYS52LGIudil9KSxqLm5vaXNlU2VlZD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm5vaXNlU2VlZChhLnYpKX0pLGoubm9MaWdodHM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5ub0xpZ2h0cygpfSksai5ub3JtPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLm5vcm0oYS52LGIudixjLnYpKX0pLGoubm9ybWFsPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe2oucHJvY2Vzc2luZy5ub3JtYWwoYS52LGIudixjLnYpfSksai5ub1RpbnQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5ub1RpbnQoKX0pLGoub3J0aG89bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZil7ai5wcm9jZXNzaW5nLm9ydGhvKGEudixiLnYsYy52LGQudixlLnYsZi52KX0pLGoucGVyc3BlY3RpdmU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkKXsidW5kZWZpbmVkIj09dHlwZW9mIGE/ai5wcm9jZXNzaW5nLnBlcnNwZWN0aXZlKCk6InVuZGVmaW5lZCI9PXR5cGVvZiBiP2oucHJvY2Vzc2luZy5wZXJzcGVjdGl2ZShhLnYpOiJ1bmRlZmluZWQiPT10eXBlb2YgYz9qLnByb2Nlc3NpbmcucGVyc3BlY3RpdmUoYS52LGIudik6InVuZGVmaW5lZCI9PXR5cGVvZiBkP2oucHJvY2Vzc2luZy5wZXJzcGVjdGl2ZShhLnYsYi52LGMudik6ai5wcm9jZXNzaW5nLnBlcnNwZWN0aXZlKGEudixiLnYsYy52LGQudil9KSxqLnBvaW50TGlnaHQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkLGUsZil7ai5wcm9jZXNzaW5nLnBvaW50TGlnaHQoYS52LGIudixjLnYsZC52LGUudixmLnYpfSksai5wcmludENhbWVyYT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7ai5wcm9jZXNzaW5nLnByaW50Q2FtZXJhKCl9KSxqLnByaW50bG49bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3NpbmcucHJpbnRsbihhLnYpfSksai5wcmludFByb2plY3Rpb249bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5wcmludFByb2plY3Rpb24oKX0pLGoucmFkaWFucz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLnJhZGlhbnMoYS52KSl9KSxqLnJhbmRvbVNlZWQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5yYW5kb21TZWVkKGEudikpfSksai5yYW5kb209bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYT9uZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLnJhbmRvbSgpKToidW5kZWZpbmVkIj09dHlwZW9mIGI/bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5yYW5kb20oYS52KSk6bmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5yYW5kb20oYS52LGIudikpfSksai5yZXF1ZXN0SW1hZ2U9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBJbWFnZSk7cmV0dXJuIGMudj0idW5kZWZpbmVkIj09dHlwZW9mIGI/ai5wcm9jZXNzaW5nLnJlcXVlc3RJbWFnZShhLnYpOmoucHJvY2Vzc2luZy5yZXF1ZXN0SW1hZ2UoYS52LGIudiksY30pLGouc2F0dXJhdGlvbj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLnNhdHVyYXRpb24oYS52KSl9KSxqLnNhdmU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3Npbmcuc2F2ZShhLnYpfSksai5zYXZlRnJhbWU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXsidW5kZWZpbmVkIj09dHlwZW9mIGE/ai5wcm9jZXNzaW5nLnNhdmVGcmFtZSgpOmoucHJvY2Vzc2luZy5zYXZlRnJhbWUoYS52KX0pLGouc2F2ZVN0cmluZ3M9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe2oucHJvY2Vzc2luZy5zYXZlU3RyaW5ncyhhLnYsYi52KX0pLGouc2NyZWVuWD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5zY3JlZW5YKGEudixiLnYsYy52KSl9KSxqLnNjcmVlblk9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XyhqLnByb2Nlc3Npbmcuc2NyZWVuWShhLnYsYi52LGMudikpfSksai5zY3JlZW5aPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLnNjcmVlblooYS52LGIudixjLnYpKX0pLGouc2Vjb25kPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uaW50XyhqLnByb2Nlc3Npbmcuc2Vjb25kKCkpfSksai5zaGFwZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQsZSl7InVuZGVmaW5lZCI9PXR5cGVvZiBiP2oucHJvY2Vzc2luZy5zaGFwZShhLnYpOiJ1bmRlZmluZWQiPT10eXBlb2YgYz9qLnByb2Nlc3Npbmcuc2hhcGUoYS52LGIudik6InVuZGVmaW5lZCI9PXR5cGVvZiBkP2oucHJvY2Vzc2luZy5zaGFwZShhLnYsYi52LGMudik6InVuZGVmaW5lZCI9PXR5cGVvZiBlP2oucHJvY2Vzc2luZy5zaGFwZShhLnYsYi52LGMudixkLnYpOmoucHJvY2Vzc2luZy5zaGFwZShhLnYsYi52LGMudixkLnYsZS52KX0pLGouc2hhcGVNb2RlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLnNoYXBlTW9kZShhLnYpfSksai5zaGluaW5lc3M9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3Npbmcuc2hpbmluZXNzKGEudil9KSxqLnNwZWN1bGFyPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpeyJ1bmRlZmluZWQiPT10eXBlb2YgYj9qLnByb2Nlc3Npbmcuc3BlY3VsYXIoYS52KToidW5kZWZpbmVkIj09dHlwZW9mIGM/ai5wcm9jZXNzaW5nLnNwZWN1bGFyKGEudixiLnYpOmoucHJvY2Vzc2luZy5zcGVjdWxhcihhLnYsYi52LGMudil9KSxqLnNwb3RMaWdodD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7ai5wcm9jZXNzaW5nLnNwb3RMaWdodChhLnYsYi52LGMudixkLnYsZS52LGYudixnLnYsaC52KX0pLGouc3E9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy5zcShhKSl9KSxqLnN0YXR1cz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy5zdGF0dXMoYS52KX0pLGoudGV4dEFsaWduPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXsidW5kZWZpbmVkIj09dHlwZW9mIGI/ai5wcm9jZXNzaW5nLnRleHRBbGlnbihhLnYpOmoucHJvY2Vzc2luZy50ZXh0QWxpZ24oYS52LGIudil9KSxqLnRleHRBc2NlbnQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe3JldHVybiBuZXcgU2suYnVpbHRpbi5mbG9hdF8oai5wcm9jZXNzaW5nLnRleHRBc2NlbnQoKSl9KSxqLnRleHREZXNjZW50PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy50ZXh0RGVzY2VudCgpKX0pLGoudGV4dEZvbnQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpeyJ1bmRlZmluZWQiPT10eXBlb2YgYj9qLnByb2Nlc3NpbmcudGV4dEZvbnQoYS52KTpqLnByb2Nlc3NpbmcudGV4dEZvbnQoYS52LGIudil9KSxqLnRleHRMZWFkaW5nPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLnRleHRMZWFkaW5nKGEudil9KSxqLnRleHRNb2RlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLnRleHRNb2RlKGEudil9KSxqLnRleHRTaXplPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLnRleHRTaXplKGEudil9KSxqLnRleHR1cmU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3NpbmcudGV4dHVyZShhLnYpfSksai50ZXh0dXJlTW9kZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy50ZXh0dXJlTW9kZShhLnYpfSksai50ZXh0V2lkdGg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGoucHJvY2Vzc2luZy50ZXh0V2lkdGgoYS52KSl9KSxqLnRpbnQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkKXsidW5kZWZpbmVkIj09dHlwZW9mIGI/ai5wcm9jZXNzaW5nLnRpbnQoYS52KToidW5kZWZpbmVkIj09dHlwZW9mIGM/ai5wcm9jZXNzaW5nLnRpbnQoYS52LGIudik6InVuZGVmaW5lZCI9PXR5cGVvZiBkP2oucHJvY2Vzc2luZy50aW50KGEudixiLnYsYy52KTpqLnByb2Nlc3NpbmcudGludChhLnYsYi52LGMudixkLnYpfSksai51cGRhdGVQaXhlbHM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy51cGRhdGVQaXhlbHMoKX0pLGoudmVydGV4PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlKXsidW5kZWZpbmVkIj09dHlwZW9mIGM/ai5wcm9jZXNzaW5nLnZlcnRleChhLnYsYi52KToidW5kZWZpbmVkIj09dHlwZW9mIGQ/ai5wcm9jZXNzaW5nLnZlcnRleChhLnYsYi52LGMudik6InVuZGVmaW5lZCI9PXR5cGVvZiBlP2oucHJvY2Vzc2luZy52ZXJ0ZXgoYS52LGIudixjLnYsZC52KTpqLnByb2Nlc3NpbmcudmVydGV4KGEudixiLnYsYy52LGQudixlLnYpfSksai55ZWFyPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uaW50XyhqLnByb2Nlc3NpbmcueWVhcigpKX0pLGouYm94PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLmJveChhLnYpfSksai5zcGhlcmU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3Npbmcuc3BoZXJlKGEudil9KSxqLnNwaGVyZURldGFpbD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7InVuZGVmaW5lZCI9PXR5cGVvZiBiP2oucHJvY2Vzc2luZy5zcGhlcmVEZXRhaWwoYS52KTpqLnByb2Nlc3Npbmcuc3BoZXJlRGV0YWlsKGEudixiLnYpfSksai5iYWNrZ3JvdW5kPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxjLGQpeyJ1bmRlZmluZWQiIT10eXBlb2YgYyYmKGM9Yy52KSwidW5kZWZpbmVkIiE9dHlwZW9mIGQmJihkPWQudiksai5wcm9jZXNzaW5nLmJhY2tncm91bmQoYS52LGMsZCl9KSxqLmZpbGw9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGMsZCxlKXsidW5kZWZpbmVkIiE9dHlwZW9mIGMmJihjPWMudiksInVuZGVmaW5lZCIhPXR5cGVvZiBkJiYoZD1kLnYpLCJ1bmRlZmluZWQiIT10eXBlb2YgZSYmKGU9ZS52KSxqLnByb2Nlc3NpbmcuZmlsbChhLnYsYyxkLGUpfSksai5zdHJva2U9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGMsZCxlKXsidW5kZWZpbmVkIiE9dHlwZW9mIGMmJihjPWMudiksInVuZGVmaW5lZCIhPXR5cGVvZiBkJiYoZD1kLnYpLCJ1bmRlZmluZWQiIT10eXBlb2YgZSYmKGU9ZS52KSxqLnByb2Nlc3Npbmcuc3Ryb2tlKGEudixjLGQsZSl9KSxqLm5vU3Ryb2tlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtqLnByb2Nlc3Npbmcubm9TdHJva2UoKX0pLGouY29sb3JNb2RlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlKXtiPSJ1bmRlZmluZWQiPT10eXBlb2YgYj8yNTU6Yi52LCJ1bmRlZmluZWQiIT10eXBlb2YgYyYmKGM9Yy52KSwidW5kZWZpbmVkIiE9dHlwZW9mIGQmJihkPWQudiksInVuZGVmaW5lZCIhPXR5cGVvZiBlJiYoZT1lLnYpLGoucHJvY2Vzc2luZy5jb2xvck1vZGUoYS52LGIsYyxkLGUpfSksai5ub0ZpbGw9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5ub0ZpbGwoKX0pLGoubG9vcD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7aWYobnVsbD09PWoucHJvY2Vzc2luZyl0aHJvdyBuZXcgU2suYnVpbHRpbi5FeGNlcHRpb24oImxvb3AoKSBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIHJ1bigpIik7bD0hMCxqLnByb2Nlc3NpbmcubG9vcCgpfSksai5ub0xvb3A9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2lmKG51bGw9PT1qLnByb2Nlc3NpbmcpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uRXhjZXB0aW9uKCJub0xvb3AoKSBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIHJ1bigpIik7bD0hMSxqLnByb2Nlc3Npbmcubm9Mb29wKCl9KSxqLmZyYW1lUmF0ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy5mcmFtZVJhdGUoYS52KX0pLGoud2lkdGg9bmV3IFNrLmJ1aWx0aW4uaW50XygwKSxqLmhlaWdodD1uZXcgU2suYnVpbHRpbi5pbnRfKDApLGoucmVuZGVyTW9kZT1qLlAyRCxqLnNpemU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7InVuZGVmaW5lZCI9PXR5cGVvZiBjJiYoYz1qLlAyRCksai5wcm9jZXNzaW5nLnNpemUoYS52LGIudixjLnYpLGoud2lkdGg9bmV3IFNrLmJ1aWx0aW4uaW50XyhqLnByb2Nlc3Npbmcud2lkdGgpLGouaGVpZ2h0PW5ldyBTay5idWlsdGluLmludF8oai5wcm9jZXNzaW5nLmhlaWdodCksai5yZW5kZXJNb2RlPWN9KSxqLmV4aXRwPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtqLnByb2Nlc3NpbmcuZXhpdCgpfSksai5tb3VzZVg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe3JldHVybiBuZXcgU2suYnVpbHRpbi5pbnRfKGoucHJvY2Vzc2luZy5tb3VzZVgpfSksai5tb3VzZVk9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe3JldHVybiBuZXcgU2suYnVpbHRpbi5pbnRfKGoucHJvY2Vzc2luZy5tb3VzZVkpfSksai5wbW91c2VYPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uaW50XyhqLnByb2Nlc3NpbmcucG1vdXNlWCl9KSxqLnBtb3VzZVk9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe3JldHVybiBuZXcgU2suYnVpbHRpbi5pbnRfKGoucHJvY2Vzc2luZy5wbW91c2VZKX0pLGoucmVjdE1vZGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3NpbmcucmVjdE1vZGUoYS52KX0pLGouc3Ryb2tlV2VpZ2h0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLnN0cm9rZVdlaWdodChhLnYpfSksai5zbW9vdGg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5zbW9vdGgoKX0pLGoubm9TbW9vdGg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5ub1Ntb290aCgpfSksai5lbGxpcHNlTW9kZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy5lbGxpcHNlTW9kZShhLnYpfSksai5zdHJva2VDYXA9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3Npbmcuc3Ryb2tlQ2FwKGEudil9KSxqLnN0cm9rZUpvaW49bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3Npbmcuc3Ryb2tlSm9pbihhLnYpfSksai5yb3RhdGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3Npbmcucm90YXRlKGEudil9KSxqLnJvdGF0ZVg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtqLnByb2Nlc3Npbmcucm90YXRlWChhLnYpfSksai5yb3RhdGVZPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nLnJvdGF0ZVkoYS52KX0pLGoucm90YXRlWj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2oucHJvY2Vzc2luZy5yb3RhdGVaKGEudil9KSxqLnNjYWxlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe2I9InVuZGVmaW5lZCI9PXR5cGVvZiBiPzE6Yi52LGM9InVuZGVmaW5lZCI9PXR5cGVvZiBjPzE6Yy52LGoucHJvY2Vzc2luZy5zY2FsZShhLnYsYixjKX0pLGoudHJhbnNsYXRlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMpe2I9InVuZGVmaW5lZCI9PXR5cGVvZiBiPzE6Yi52LGM9InVuZGVmaW5lZCI9PXR5cGVvZiBjPzE6Yy52LGoucHJvY2Vzc2luZy50cmFuc2xhdGUoYS52LGIsYyl9KSxqLnBvcE1hdHJpeD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7ai5wcm9jZXNzaW5nLnBvcE1hdHJpeCgpfSksai5wdXNoTWF0cml4PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtqLnByb2Nlc3NpbmcucHVzaE1hdHJpeCgpfSksai5hcHBseU1hdHJpeD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7dmFyIGEsYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCwxNik7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKyliW2FdPSJ1bmRlZmluZWQiPT10eXBlb2YgYlthXT8wOmJbYV0udjtqLnByb2Nlc3NpbmcuYXBwbHlNYXRyaXguYXBwbHkoai5wcm9jZXNzaW5nLGIpfSksai5yZXNldE1hdHJpeD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7ai5wcm9jZXNzaW5nLnJlc2V0TWF0cml4KCl9KSxqLnByaW50TWF0cml4PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtyZXR1cm4gU2suZmZpLnJlbWFwVG9QeShqLnByb2Nlc3NpbmcucHJpbnRNYXRyaXgoKSl9KSxqLnJ1bj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU2suY2FudmFzKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoIlByb2Nlc3NpbmcgbW9kdWxlOiBDYW52YXMgZWxlbWVudCBub3Qgc3BlY2lmaWVkIik7aWYod2luZG93LlByb2Nlc3NpbmcubG9nZ2VyPXtsb2c6ZnVuY3Rpb24oYSl7U2subWlzY2V2YWwucHJpbnRfKGEpfX0sbT13aW5kb3cuUHJvY2Vzc2luZy5nZXRJbnN0YW5jZUJ5SWQoU2suY2FudmFzKSxtJiZtLmV4aXQoKSxqLnA9bmV3IHdpbmRvdy5Qcm9jZXNzaW5nKGEsZnVuY3Rpb24oYSl7ai5wcm9jZXNzaW5nPWEsYS5kcmF3PWZ1bmN0aW9uKCl7dmFyIGI9ITE7Zm9yKHZhciBjIGluIGspMD09PWtbY10ud2lkdGgmJihiPSEwKTtpZighMD09YilyZXR1cm4hMD09PWw/dm9pZCAwOnZvaWQgYS5sb29wKCk7aWYoITE9PT1sJiZhLm5vTG9vcCgpLGouZnJhbWVDb3VudD1hLmZyYW1lQ291bnQsU2suZ2xvYmFscy5kcmF3KXRyeXtTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoU2suZ2xvYmFscy5kcmF3KX1jYXRjaChhKXtTay51bmNhdWdodEV4Y2VwdGlvbihhKX19O3ZhciBiPVsic2V0dXAiLCJtb3VzZU1vdmVkIiwibW91c2VDbGlja2VkIiwibW91c2VEcmFnZ2VkIiwibW91c2VNb3ZlZCIsIm1vdXNlT3V0IiwibW91c2VPdmVyIiwibW91c2VQcmVzc2VkIiwibW91c2VSZWxlYXNlZCIsImtleVByZXNzZWQiLCJrZXlSZWxlYXNlZCIsImtleVR5cGVkIl07Zm9yKHZhciBjIGluIGIpU2suZ2xvYmFsc1tiW2NdXSYmKGFbYltjXV09bmV3IEZ1bmN0aW9uKCJ0cnkge1NrLm1pc2NldmFsLmNhbGxzaW1BcnJheShTay5nbG9iYWxzW1wnIitiW2NdKyJcJ10pO30gY2F0Y2goZSkge1NrLnVuY2F1Z2h0RXhjZXB0aW9uKGUpO30iKSl9KSwwPT09ai53aWR0aC52JiYwPT09ai5oZWlnaHQudil7dmFyIGI9YS5vZmZzZXRXaWR0aCxjPWEub2Zmc2V0SGVpZ2h0O1NrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLnNpemUsW25ldyBTay5idWlsdGluLmludF8oYiksbmV3IFNrLmJ1aWx0aW4uaW50XyhjKSxqLnJlbmRlck1vZGVdKX19KSxnPWZ1bmN0aW9uKGEsYil7Yi5fX2dldGF0dHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7cmV0dXJuKGI9U2suZmZpLnJlbWFwVG9KcyhiKSwieCI9PT1iKT9Tay5idWlsdGluLmFzc2skKGoucHJvY2Vzc2luZy5tb3VzZVgpOiJ5Ij09PWI/U2suYnVpbHRpbi5hc3NrJChqLnByb2Nlc3NpbmcubW91c2VZKToicHgiPT09Yj9Tay5idWlsdGluLmFzc2skKGoucHJvY2Vzc2luZy5wbW91c2VYKToicHkiPT09Yj9Tay5idWlsdGluLmFzc2skKGoucHJvY2Vzc2luZy5wbW91c2VZKToicHJlc3NlZCI9PT1iP25ldyBTay5idWlsdGluLmJvb2woai5wcm9jZXNzaW5nLl9fbW91c2VQcmVzc2VkKToiYnV0dG9uIj09PWI/U2suYnVpbHRpbi5hc3NrJChqLnByb2Nlc3NpbmcubW91c2VCdXR0b24pOnZvaWQgMH0pfSxqLk1vdXNlPVNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MoaixnLCJNb3VzZSIsW10pLGoubW91c2U9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGouTW91c2UpLGY9ZnVuY3Rpb24oYSxiKXtiLl9fZ2V0YXR0cl9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtyZXR1cm4oYj1Tay5mZmkucmVtYXBUb0pzKGIpLCJrZXkiPT09Yik/bmV3IFNrLmJ1aWx0aW4uc3RyKGoucHJvY2Vzc2luZy5rZXkudG9TdHJpbmcoKSk6ImtleUNvZGUiPT09Yj9Tay5idWlsdGluLmFzc2skKGoucHJvY2Vzc2luZy5rZXlDb2RlKToia2V5UHJlc3NlZCI9PT1iP25ldyBTay5idWlsdGluLnN0cihqLnByb2Nlc3Npbmcua2V5UHJlc3NlZCk6dm9pZCAwfSl9LGouS2V5Ym9hcmQ9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhqLGYsIktleWJvYXJkIixbXSksai5rZXlib2FyZD1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoai5LZXlib2FyZCksZT1mdW5jdGlvbihhLGIpe2IuX19nZXRhdHRyX189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3JldHVybihiPVNrLmZmaS5yZW1hcFRvSnMoYiksImZyYW1lQ291bnQiPT09Yik/U2suYnVpbHRpbi5hc3NrJChqLnByb2Nlc3NpbmcuZnJhbWVDb3VudCk6ImZyYW1lUmF0ZSI9PT1iP1NrLmJ1aWx0aW4uYXNzayQoai5wcm9jZXNzaW5nLmZyYW1lUmF0ZSk6ImhlaWdodCI9PT1iP1NrLmJ1aWx0aW4uYXNzayQoai5wcm9jZXNzaW5nLmhlaWdodCk6IndpZHRoIj09PWI/U2suYnVpbHRpbi5hc3NrJChqLnByb2Nlc3Npbmcud2lkdGgpOiJvbmxpbmUiPT09Yj9uZXcgU2suYnVpbHRpbi5ib29sKGoucHJvY2Vzc2luZy5vbmxpbmUpOiJmb2N1c2VkIj09PWI/bmV3IFNrLmJ1aWx0aW4uYm9vbChqLnByb2Nlc3NpbmcuZm9jdXNlZCk6dm9pZCAwfSl9LGouRW52aXJvbm1lbnQ9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhqLGUsIkVudmlyb25tZW50IixbXSksai5lbnZpcm9ubWVudD1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoai5FbnZpcm9ubWVudCksZD1mdW5jdGlvbihhLGIpe2IuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXthLnBpeGVscz1udWxsfSksYi5fX2dldGF0dHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7cmV0dXJuKGI9U2suZmZpLnJlbWFwVG9KcyhiKSwiaGVpZ2h0Ij09PWIpP1NrLmJ1aWx0aW4uYXNzayQoai5wcm9jZXNzaW5nLmhlaWdodCk6IndpZHRoIj09PWI/U2suYnVpbHRpbi5hc3NrJChqLnByb2Nlc3Npbmcud2lkdGgpOigicGl4ZWxzIj09PWImJm51bGw9PWEucGl4ZWxzJiYoYS5waXhlbHM9bmV3IFNrLmJ1aWx0aW4ubGlzdChqLnByb2Nlc3NpbmcucGl4ZWxzLnRvQXJyYXkoKSkpLGEucGl4ZWxzKX0pfSxqLlNjcmVlbj1Tay5taXNjZXZhbC5idWlsZENsYXNzKGosZCwiU2NyZWVuIixbXSksai5zY3JlZW49U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGouU2NyZWVuKSxqLmxvYWRQaXhlbHM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe2oucHJvY2Vzc2luZy5sb2FkUGl4ZWxzKCl9KSxjPWZ1bmN0aW9uKGEsYil7Yi5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQsZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBjJiYoYz1jLnYpLCJ1bmRlZmluZWQiIT10eXBlb2YgZCYmKGQ9ZC52KSwidW5kZWZpbmVkIiE9dHlwZW9mIGUmJihlPWUudiksYS52PWoucHJvY2Vzc2luZy5jb2xvcihiLnYsYyxkLGUpfSl9LGouY29sb3I9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhqLGMsImNvbG9yIixbXSksai5yZWQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uaW50XyhqLnByb2Nlc3NpbmcucmVkKGEudikpfSksai5ncmVlbj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5pbnRfKGoucHJvY2Vzc2luZy5ncmVlbihhLnYpKX0pLGouYmx1ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5pbnRfKGoucHJvY2Vzc2luZy5ibHVlKGEudikpfSksYj1mdW5jdGlvbihhLGIpe2IuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkKXthLnY9InVuZGVmaW5lZCI9PXR5cGVvZiBiP25ldyBqLnByb2Nlc3NpbmcuUEltYWdlOiJ1bmRlZmluZWQiPT10eXBlb2YgYz9uZXcgai5wcm9jZXNzaW5nLlBJbWFnZShiLnYpOiJ1bmRlZmluZWQiPT10eXBlb2YgZD9uZXcgai5wcm9jZXNzaW5nLlBJbWFnZShiLnYsYy52KTpuZXcgai5wcm9jZXNzaW5nLlBJbWFnZShiLnYsYy52LGQudil9KSxiLl9fZ2V0YXR0cl9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj1Tay5mZmkucmVtYXBUb0pzKGIpLCJ3aWR0aCI9PT1iP1NrLmJ1aWx0aW4uYXNzayQoYS52LndpZHRoKToiaGVpZ2h0Ij09PWI/U2suYnVpbHRpbi5hc3NrJChhLnYuaGVpZ2h0KTp2b2lkIDB9KX0sai5sb2FkSW1hZ2U9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj1qLnByb2Nlc3NpbmcubG9hZEltYWdlKGEudik7ay5wdXNoKGIpO3ZhciBjPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBJbWFnZSk7cmV0dXJuIGMudj1iLGN9KSxqLmltYWdlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlKXsidW5kZWZpbmVkIj09dHlwZW9mIGQ/ai5wcm9jZXNzaW5nLmltYWdlKGEudixiLnYsYy52KTpqLnByb2Nlc3NpbmcuaW1hZ2UoYS52LGIudixjLnYsZC52LGUudil9KSxqLmdldD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7dmFyIGM9ai5wcm9jZXNzaW5nLmdldChhLnYsYi52KTtyZXR1cm4gU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGouY29sb3IsW25ldyBTay5idWlsdGluLmludF8oai5wcm9jZXNzaW5nLnJlZChjKSksbmV3IFNrLmJ1aWx0aW4uaW50XyhqLnByb2Nlc3NpbmcuZ3JlZW4oYykpLG5ldyBTay5idWlsdGluLmludF8oai5wcm9jZXNzaW5nLmJsdWUoYykpXSl9KSxqLnNldD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtqLnByb2Nlc3Npbmcuc2V0KGEudixiLnYsYy52KX0pLGg9ZnVuY3Rpb24oYSxiKXtiLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCl7YS52PSJ1bmRlZmluZWQiPT10eXBlb2YgYj9uZXcgai5wcm9jZXNzaW5nLlBWZWN0b3I6InVuZGVmaW5lZCI9PXR5cGVvZiBkP25ldyBqLnByb2Nlc3NpbmcuUFZlY3RvcihiLnYsYy52KTpuZXcgai5wcm9jZXNzaW5nLlBWZWN0b3IoYi52LGMudixkLnYpfSksYi5fX2dldGF0dHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7cmV0dXJuKGI9U2suZmZpLnJlbWFwVG9KcyhiKSwieCI9PT1iKT9Tay5idWlsdGluLmFzc2skKGEudi54KToieSI9PT1iP1NrLmJ1aWx0aW4uYXNzayQoYS52LnkpOiJ6Ij09PWI/U2suYnVpbHRpbi5hc3NrJChhLnYueik6dm9pZCAwfSksYi5nZXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoai5QVmVjdG9yKTtyZXR1cm4gYi52PWEudi5nZXQoKSxifSksYi5zZXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxiKXsidW5kZWZpbmVkIj09dHlwZW9mIHo/YS52LnNldChiLnYsYy52KTphLnYuc2V0KGIudixjLnYsei52KX0pLGIubWFnPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmJ1aWx0aW4uYXNzayQoYS52Lm1hZygpKX0pLGIuYWRkPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXt2YXIgYz1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoai5QVmVjdG9yKTtyZXR1cm4gYy52PWEudi5hZGQoYi52KSxjfSksYi5zdWI9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBWZWN0b3IpO3JldHVybiBjLnY9YS52LnN1YihiLnYpLGN9KSxiLm11bHQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBWZWN0b3IpO3JldHVybiBjLnY9YS52Lm11bHQoYi52KSxjfSksYi5kaXY9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShqLlBWZWN0b3IpO3JldHVybiBjLnY9YS52LmRpYyhiLnYpLGN9KSxiLmRpc3Q9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3JldHVybiBTay5idWlsdGluLmFzc2skKGEudi5kaXN0KGIudikpfSksYi5kb3Q9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGM/U2suYnVpbHRpbi5hc3NrJChhLnYuZG90KGIudikpOlNrLmJ1aWx0aW4uYXNzayQoYS52LmRvdChiLnYsYy52LGQudikpfSksYi5jcm9zcz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7dmFyIGM9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGouUFZlY3Rvcik7cmV0dXJuIGMudj1hLnYuY3Jvc3MoYi52KSxjfSksYi5ub3JtYWxpemU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXthLnYubm9ybWFsaXplKCl9KSxiLmxpbWl0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXthLnYubGltaXQoYi52KX0pLGIuYW5nbGVCZXR3ZWVuPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtyZXR1cm4gU2suYnVpbHRpbi5hc3NrJChhLnYuYW5nbGVCZXR3ZWVuKGIudikpfSksYi5hcnJheT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KGEudi5hcnJheSgpKX0pfSxmb250Q2xhc3M9ZnVuY3Rpb24oYSxiKXtiLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXthLnY9InVuZGVmaW5lZCI9PXR5cGVvZiBiP25ldyBqLnByb2Nlc3NpbmcuUEZvbnQ6bmV3IGoucHJvY2Vzc2luZy5QVmVjdG9yKGIudil9KSxiLmxpc3Q9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChhLnYubGlzdCgpKX0pfSxncmFwaGljc0NsYXNzPWZ1bmN0aW9uKGEsYil7Yi5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe2Eudj0idW5kZWZpbmVkIj09dHlwZW9mIGI/bmV3IGoucHJvY2Vzc2luZy5QVmVjdG9yOiJ1bmRlZmluZWQiPT10eXBlb2YgZD9uZXcgai5wcm9jZXNzaW5nLlBWZWN0b3IoYi52LGMudik6bmV3IGoucHJvY2Vzc2luZy5QVmVjdG9yKGIudixjLnYsZC52KX0pLGIuYmVnaW5EcmF3PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7YS52LmJlZ2luRHJhdygpfSksYi5lbmREcmF3PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7YS52LmVuZERyYXcoKX0pfSxzaGFwZUNsYXNzPWZ1bmN0aW9uKGEsYil7Yi5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe2Eudj0idW5kZWZpbmVkIj09dHlwZW9mIGI/bnVsbDoidW5kZWZpbmVkIj09dHlwZW9mIGM/bmV3IGoucHJvY2Vzc2luZy5QU2hhcGVTVkcoYi52KToidW5kZWZpbmVkIj09dHlwZW9mIGQ/bmV3IGoucHJvY2Vzc2luZy5QU2hhcGVTVkcoYi52LGMudik6bmV3IGoucHJvY2Vzc2luZy5QU2hhcGVTVkcoYi52LGMudixkLnYpfSksYi5fX2dldGF0dHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7cmV0dXJuKGI9U2suZmZpLnJlbWFwVG9KcyhiKSwid2lkdGgiPT09Yik/U2suYnVpbHRpbi5hc3NrJChhLnYud2lkdGgpOiJoZWlnaHQiPT09Yj9Tay5idWlsdGluLmFzc2skKGEudi5oZWlnaHQpOnZvaWQgMH0pLGIuaXNWaXNpYmxlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBTay5idWlsdGluLmJvb2woYS52LmlzVmlzaWJsZSgpKX0pLGIuc2V0VmlzaWJsZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7YS52LnNldFZpc2libGUoYi52KX0pLGIuZGlzYWJsZVN0eWxlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7YS52LmRpc2FibGVTdHlsZSgpfSksYi5lbmFibGVTdHlsZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2Eudi5lbmFibGVTdHlsZSgpfSksYi5nZXRDaGlsZD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7dmFyIGM9YS52LmdldENoaWxkKGIudik7aWYobnVsbCE9Yyl7dmFyIGQ9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGouUFNoYXBlU1ZHKTtyZXR1cm4gZC52PWMsZH1yZXR1cm4gbnVsbH0pLGIudHJhbnNsYXRlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCl7InVuZGVmaW5lZCI9PXR5cGVvZiBkP2Eudi50cmFuc2xhdGUoYi52LGMudik6YS52LnRyYW5zbGF0ZShiLnYsYy52LGQudil9KSxiLnJvdGF0ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7YS52LnJvdGF0ZShiLnYpfSksYi5yb3RhdGVYPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXthLnYucm90YXRlWChiLnYpfSksYi5yb3RhdGVZPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7YS52LnJvdGF0ZVkoYW5nbGUudil9KSxiLnJvdGF0ZVo9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXthLnYucm90YXRlWihhbmdsZS52KX0pLGIuc2NhbGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkKXsidW5kZWZpbmVkIj09dHlwZW9mIGM/YS52LnNjYWxlKGIudik6InVuZGVmaW5lZCI9PXR5cGVvZiBkP2Eudi5zY2FsZShiLnYsYy52KTphLnYuc2NhbGUoYi52LGMudixkLnYpfSl9LGouUEZvbnQ9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhqLGZvbnRDbGFzcywiUEZvbnQiLFtdKSxqLlBHcmFwaGljcz1Tay5taXNjZXZhbC5idWlsZENsYXNzKGosZ3JhcGhpY3NDbGFzcywiUEdyYXBoaWNzIixbXSksai5QU2hhcGVTVkc9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhqLHNoYXBlQ2xhc3MsIlBTaGFwZVNWRyIsW10pLGouUFZlY3Rvcj1Tay5taXNjZXZhbC5idWlsZENsYXNzKGosaCwiUFZlY3RvciIsW10pLGouUEltYWdlPVNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MoaixiLCJQSW1hZ2UiLFtdKSxqfTsnLAogICAgInNyYy9saWIvcHJvZmlsZS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJwcm9maWxlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wc3RhdHMucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicHN0YXRzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9wdHkucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicHR5IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9weV9jb21waWxlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInB5X2NvbXBpbGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3B5Y2xici5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJweWNsYnIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3B5ZG9jLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInB5ZG9jIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9weWRvY190b3BpY3MucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicHlkb2NfdG9waWNzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9weXRob25kcy9fX2luaXRfXy5weSI6ICIiLAogICAgInNyYy9saWIvcHl0aG9uZHMvYmFzaWMvX19pbml0X18ucHkiOgogICAgICAnXG4jX19hbGxfXyA9IFsic3RhY2siXVxuXG5cbiNmcm9tIC5zdGFjayBpbXBvcnQgU3RhY2tcbiNmcm9tIC5xdWV1ZSBpbXBvcnQgUXVldWVcblxuXG5cbicsCiAgICAic3JjL2xpYi9weXRob25kcy9iYXNpYy9kZXF1ZS5weSI6CiAgICAgICIjIEJyYWRsZXkgTi4gTWlsbGVyLCBEYXZpZCBMLiBSYW51bVxuIyBJbnRyb2R1Y3Rpb24gdG8gRGF0YSBTdHJ1Y3R1cmVzIGFuZCBBbGdvcml0aG1zIGluIFB5dGhvblxuIyBDb3B5cmlnaHQgMjAwNVxuIyBcbiNkZXF1ZS5weVxyXG5cclxuXHJcbmNsYXNzIERlcXVlOlxyXG4gICAgZGVmIF9faW5pdF9fKHNlbGYpOlxyXG4gICAgICAgIHNlbGYuaXRlbXMgPSBbXVxyXG5cclxuICAgIGRlZiBpc0VtcHR5KHNlbGYpOlxyXG4gICAgICAgIHJldHVybiBzZWxmLml0ZW1zID09IFtdXHJcblxyXG4gICAgZGVmIGFkZEZyb250KHNlbGYsIGl0ZW0pOlxyXG4gICAgICAgIHNlbGYuaXRlbXMuYXBwZW5kKGl0ZW0pXHJcblxyXG4gICAgZGVmIGFkZFJlYXIoc2VsZiwgaXRlbSk6XHJcbiAgICAgICAgc2VsZi5pdGVtcy5pbnNlcnQoMCxpdGVtKVxyXG5cclxuICAgIGRlZiByZW1vdmVGcm9udChzZWxmKTpcclxuICAgICAgICByZXR1cm4gc2VsZi5pdGVtcy5wb3AoKVxyXG5cclxuICAgIGRlZiByZW1vdmVSZWFyKHNlbGYpOlxyXG4gICAgICAgIHJldHVybiBzZWxmLml0ZW1zLnBvcCgwKVxyXG5cclxuICAgIGRlZiBzaXplKHNlbGYpOlxyXG4gICAgICAgIHJldHVybiBsZW4oc2VsZi5pdGVtcylcclxuIiwKICAgICJzcmMvbGliL3B5dGhvbmRzL2Jhc2ljL3F1ZXVlLnB5IjoKICAgICAgIiMgQnJhZGxleSBOLiBNaWxsZXIsIERhdmlkIEwuIFJhbnVtXG4jIEludHJvZHVjdGlvbiB0byBEYXRhIFN0cnVjdHVyZXMgYW5kIEFsZ29yaXRobXMgaW4gUHl0aG9uXG4jIENvcHlyaWdodCAyMDA1XG4jIFxuI3F1ZXVlLnB5XHJcblxyXG5jbGFzcyBRdWV1ZTpcclxuICAgIGRlZiBfX2luaXRfXyhzZWxmKTpcclxuICAgICAgICBzZWxmLml0ZW1zID0gW11cclxuXHJcbiAgICBkZWYgaXNFbXB0eShzZWxmKTpcclxuICAgICAgICByZXR1cm4gc2VsZi5pdGVtcyA9PSBbXVxyXG5cclxuICAgIGRlZiBlbnF1ZXVlKHNlbGYsIGl0ZW0pOlxyXG4gICAgICAgIHNlbGYuaXRlbXMuaW5zZXJ0KDAsaXRlbSlcclxuXHJcbiAgICBkZWYgZGVxdWV1ZShzZWxmKTpcclxuICAgICAgICByZXR1cm4gc2VsZi5pdGVtcy5wb3AoKVxyXG5cclxuICAgIGRlZiBzaXplKHNlbGYpOlxyXG4gICAgICAgIHJldHVybiBsZW4oc2VsZi5pdGVtcylcclxuIiwKICAgICJzcmMvbGliL3B5dGhvbmRzL2Jhc2ljL3N0YWNrLnB5IjoKICAgICAgIiMgQnJhZGxleSBOLiBNaWxsZXIsIERhdmlkIEwuIFJhbnVtXG4jIEludHJvZHVjdGlvbiB0byBEYXRhIFN0cnVjdHVyZXMgYW5kIEFsZ29yaXRobXMgaW4gUHl0aG9uXG4jIENvcHlyaWdodCAyMDA1XG4jIFxuI3N0YWNrLnB5XHJcblxyXG5jbGFzcyBTdGFjazpcclxuICAgIGRlZiBfX2luaXRfXyhzZWxmKTpcclxuICAgICAgICBzZWxmLml0ZW1zID0gW11cclxuXHJcbiAgICBkZWYgaXNFbXB0eShzZWxmKTpcclxuICAgICAgICByZXR1cm4gc2VsZi5pdGVtcyA9PSBbXVxyXG5cclxuICAgIGRlZiBwdXNoKHNlbGYsIGl0ZW0pOlxyXG4gICAgICAgIHNlbGYuaXRlbXMuYXBwZW5kKGl0ZW0pXHJcblxyXG4gICAgZGVmIHBvcChzZWxmKTpcclxuICAgICAgICByZXR1cm4gc2VsZi5pdGVtcy5wb3AoKVxyXG5cclxuICAgIGRlZiBwZWVrKHNlbGYpOlxyXG4gICAgICAgIHJldHVybiBzZWxmLml0ZW1zW2xlbihzZWxmLml0ZW1zKS0xXVxyXG5cclxuICAgIGRlZiBzaXplKHNlbGYpOlxyXG4gICAgICAgIHJldHVybiBsZW4oc2VsZi5pdGVtcylcclxuXHJcbiIsCiAgICAic3JjL2xpYi9weXRob25kcy9ncmFwaHMvX19pbml0X18ucHkiOgogICAgICAiXG5cbmZyb20gLmFkakdyYXBoIGltcG9ydCBHcmFwaFxuZnJvbSAuYWRqR3JhcGggaW1wb3J0IFZlcnRleFxuZnJvbSAucHJpb3JpdHlRdWV1ZSBpbXBvcnQgUHJpb3JpdHlRdWV1ZVxuIiwKICAgICJzcmMvbGliL3B5dGhvbmRzL2dyYXBocy9hZGpHcmFwaC5weSI6CiAgICAgICcjXG4jICBhZGpHcmFwaFxuI1xuIyAgQ3JlYXRlZCBieSBCcmFkIE1pbGxlciBvbiAyMDA1LTAyLTI0LlxuIyAgQ29weXJpZ2h0IChjKSAyMDA1IEJyYWQgTWlsbGVyLCBEYXZpZCBSYW51bSwgTHV0aGVyIENvbGxlZ2UuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4jXG5cbmltcG9ydCBzeXNcbmltcG9ydCBvc1xuaW1wb3J0IHVuaXR0ZXN0XG5cbmNsYXNzIEdyYXBoOlxuICAgIGRlZiBfX2luaXRfXyhzZWxmKTpcbiAgICAgICAgc2VsZi52ZXJ0aWNlcyA9IHt9XG4gICAgICAgIHNlbGYubnVtVmVydGljZXMgPSAwXG4gICAgICAgIFxuICAgIGRlZiBhZGRWZXJ0ZXgoc2VsZixrZXkpOlxuICAgICAgICBzZWxmLm51bVZlcnRpY2VzID0gc2VsZi5udW1WZXJ0aWNlcyArIDFcbiAgICAgICAgbmV3VmVydGV4ID0gVmVydGV4KGtleSlcbiAgICAgICAgc2VsZi52ZXJ0aWNlc1trZXldID0gbmV3VmVydGV4XG4gICAgICAgIHJldHVybiBuZXdWZXJ0ZXhcbiAgICBcbiAgICBkZWYgZ2V0VmVydGV4KHNlbGYsbik6XG4gICAgICAgIGlmIG4gaW4gc2VsZi52ZXJ0aWNlczpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnZlcnRpY2VzW25dXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gTm9uZVxuXG4gICAgZGVmIF9fY29udGFpbnNfXyhzZWxmLG4pOlxuICAgICAgICByZXR1cm4gbiBpbiBzZWxmLnZlcnRpY2VzXG4gICAgXG4gICAgZGVmIGFkZEVkZ2Uoc2VsZixmLHQsY29zdD0wKTpcbiAgICAgICAgICAgIGlmIGYgbm90IGluIHNlbGYudmVydGljZXM6XG4gICAgICAgICAgICAgICAgbnYgPSBzZWxmLmFkZFZlcnRleChmKVxuICAgICAgICAgICAgaWYgdCBub3QgaW4gc2VsZi52ZXJ0aWNlczpcbiAgICAgICAgICAgICAgICBudiA9IHNlbGYuYWRkVmVydGV4KHQpXG4gICAgICAgICAgICBzZWxmLnZlcnRpY2VzW2ZdLmFkZE5laWdoYm9yKHNlbGYudmVydGljZXNbdF0sY29zdClcbiAgICBcbiAgICBkZWYgZ2V0VmVydGljZXMoc2VsZik6XG4gICAgICAgIHJldHVybiBsaXN0KHNlbGYudmVydGljZXMua2V5cygpKVxuICAgICAgICBcbiAgICBkZWYgX19pdGVyX18oc2VsZik6XG4gICAgICAgIHJldHVybiBpdGVyKHNlbGYudmVydGljZXMudmFsdWVzKCkpXG4gICAgICAgICAgICAgICAgXG5jbGFzcyBWZXJ0ZXg6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYsbnVtKTpcbiAgICAgICAgc2VsZi5pZCA9IG51bVxuICAgICAgICBzZWxmLmNvbm5lY3RlZFRvID0ge31cbiAgICAgICAgc2VsZi5jb2xvciA9IFwnd2hpdGVcJ1xuICAgICAgICBzZWxmLmRpc3QgPSBzeXMubWF4c2l6ZVxuICAgICAgICBzZWxmLnByZWQgPSBOb25lXG4gICAgICAgIHNlbGYuZGlzYyA9IDBcbiAgICAgICAgc2VsZi5maW4gPSAwXG5cbiAgICAjIGRlZiBfX2x0X18oc2VsZixvKTpcbiAgICAjICAgICByZXR1cm4gc2VsZi5pZCA8IG8uaWRcbiAgICBcbiAgICBkZWYgYWRkTmVpZ2hib3Ioc2VsZixuYnIsd2VpZ2h0PTApOlxuICAgICAgICBzZWxmLmNvbm5lY3RlZFRvW25icl0gPSB3ZWlnaHRcbiAgICAgICAgXG4gICAgZGVmIHNldENvbG9yKHNlbGYsY29sb3IpOlxuICAgICAgICBzZWxmLmNvbG9yID0gY29sb3JcbiAgICAgICAgXG4gICAgZGVmIHNldERpc3RhbmNlKHNlbGYsZCk6XG4gICAgICAgIHNlbGYuZGlzdCA9IGRcblxuICAgIGRlZiBzZXRQcmVkKHNlbGYscCk6XG4gICAgICAgIHNlbGYucHJlZCA9IHBcblxuICAgIGRlZiBzZXREaXNjb3Zlcnkoc2VsZixkdGltZSk6XG4gICAgICAgIHNlbGYuZGlzYyA9IGR0aW1lXG4gICAgICAgIFxuICAgIGRlZiBzZXRGaW5pc2goc2VsZixmdGltZSk6XG4gICAgICAgIHNlbGYuZmluID0gZnRpbWVcbiAgICAgICAgXG4gICAgZGVmIGdldEZpbmlzaChzZWxmKTpcbiAgICAgICAgcmV0dXJuIHNlbGYuZmluXG4gICAgICAgIFxuICAgIGRlZiBnZXREaXNjb3Zlcnkoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLmRpc2NcbiAgICAgICAgXG4gICAgZGVmIGdldFByZWQoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLnByZWRcbiAgICAgICAgXG4gICAgZGVmIGdldERpc3RhbmNlKHNlbGYpOlxuICAgICAgICByZXR1cm4gc2VsZi5kaXN0XG4gICAgICAgIFxuICAgIGRlZiBnZXRDb2xvcihzZWxmKTpcbiAgICAgICAgcmV0dXJuIHNlbGYuY29sb3JcbiAgICBcbiAgICBkZWYgZ2V0Q29ubmVjdGlvbnMoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLmNvbm5lY3RlZFRvLmtleXMoKVxuICAgICAgICBcbiAgICBkZWYgZ2V0V2VpZ2h0KHNlbGYsbmJyKTpcbiAgICAgICAgcmV0dXJuIHNlbGYuY29ubmVjdGVkVG9bbmJyXVxuICAgICAgICAgICAgICAgIFxuICAgIGRlZiBfX3N0cl9fKHNlbGYpOlxuICAgICAgICByZXR1cm4gc3RyKHNlbGYuaWQpICsgIjpjb2xvciAiICsgc2VsZi5jb2xvciArICI6ZGlzYyAiICsgc3RyKHNlbGYuZGlzYykgKyAiOmZpbiAiICsgc3RyKHNlbGYuZmluKSArICI6ZGlzdCAiICsgc3RyKHNlbGYuZGlzdCkgKyAiOnByZWQgXFxuXFx0WyIgKyBzdHIoc2VsZi5wcmVkKSsgIl1cXG4iXG4gICAgXG4gICAgZGVmIGdldElkKHNlbGYpOlxuICAgICAgICByZXR1cm4gc2VsZi5pZFxuXG5jbGFzcyBhZGpHcmFwaFRlc3RzKHVuaXR0ZXN0LlRlc3RDYXNlKTpcbiAgICBkZWYgc2V0VXAoc2VsZik6XG4gICAgICAgIHNlbGYudEdyYXBoID0gR3JhcGgoKVxuICAgICAgICBcbiAgICBkZWYgdGVzdE1ha2VHcmFwaChzZWxmKTpcbiAgICAgICAgZ0ZpbGUgPSBvcGVuKCJ0ZXN0LmRhdCIpXG4gICAgICAgIGZvciBsaW5lIGluIGdGaWxlOlxuICAgICAgICAgICAgZlZlcnRleCwgdFZlcnRleCA9IGxpbmUuc3BsaXQoXCd8XCcpXG4gICAgICAgICAgICBmVmVydGV4ID0gaW50KGZWZXJ0ZXgpXG4gICAgICAgICAgICB0VmVydGV4ID0gaW50KHRWZXJ0ZXgpXG4gICAgICAgICAgICBzZWxmLnRHcmFwaC5hZGRFZGdlKGZWZXJ0ZXgsdFZlcnRleClcbiAgICAgICAgZm9yIGkgaW4gc2VsZi50R3JhcGg6XG4gICAgICAgICAgICBhZGogPSBpLmdldEFkaigpXG4gICAgICAgICAgICBmb3IgayBpbiBhZGo6XG4gICAgICAgICAgICAgICAgcHJpbnQoaSwgaylcblxuICAgICAgICBcbmlmIF9fbmFtZV9fID09IFwnX19tYWluX19cJzpcbiAgICB1bml0dGVzdC5tYWluKClcbiAgICAgICAgICAgICAgXG4nLAogICAgInNyYy9saWIvcHl0aG9uZHMvZ3JhcGhzL3ByaW9yaXR5UXVldWUucHkiOgogICAgICAiIyBCcmFkbGV5IE4uIE1pbGxlciwgRGF2aWQgTC4gUmFudW1cbiMgSW50cm9kdWN0aW9uIHRvIERhdGEgU3RydWN0dXJlcyBhbmQgQWxnb3JpdGhtcyBpbiBQeXRob25cbiMgQ29weXJpZ2h0IDIwMDVcbiMgXG5pbXBvcnQgdW5pdHRlc3RcblxuIyB0aGlzIGltcGxlbWVudGF0aW9uIG9mIGJpbmFyeSBoZWFwIHRha2VzIGtleSB2YWx1ZSBwYWlycyxcbiMgd2Ugd2lsbCBhc3N1bWUgdGhhdCB0aGUga2V5cyBhcmUgYWxsIGNvbXBhcmFibGVcblxuY2xhc3MgUHJpb3JpdHlRdWV1ZTpcbiAgICBkZWYgX19pbml0X18oc2VsZik6XG4gICAgICAgIHNlbGYuaGVhcEFycmF5ID0gWygwLDApXVxuICAgICAgICBzZWxmLmN1cnJlbnRTaXplID0gMFxuXG4gICAgZGVmIGJ1aWxkSGVhcChzZWxmLGFsaXN0KTpcbiAgICAgICAgc2VsZi5jdXJyZW50U2l6ZSA9IGxlbihhbGlzdClcbiAgICAgICAgc2VsZi5oZWFwQXJyYXkgPSBbKDAsMCldXG4gICAgICAgIGZvciBpIGluIGFsaXN0OlxuICAgICAgICAgICAgc2VsZi5oZWFwQXJyYXkuYXBwZW5kKGkpXG4gICAgICAgIGkgPSBsZW4oYWxpc3QpIC8vIDIgICAgICAgICAgICBcbiAgICAgICAgd2hpbGUgKGkgPiAwKTpcbiAgICAgICAgICAgIHNlbGYucGVyY0Rvd24oaSlcbiAgICAgICAgICAgIGkgPSBpIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZGVmIHBlcmNEb3duKHNlbGYsaSk6XG4gICAgICAgIHdoaWxlIChpICogMikgPD0gc2VsZi5jdXJyZW50U2l6ZTpcbiAgICAgICAgICAgIG1jID0gc2VsZi5taW5DaGlsZChpKVxuICAgICAgICAgICAgaWYgc2VsZi5oZWFwQXJyYXlbaV1bMF0gPiBzZWxmLmhlYXBBcnJheVttY11bMF06XG4gICAgICAgICAgICAgICAgdG1wID0gc2VsZi5oZWFwQXJyYXlbaV1cbiAgICAgICAgICAgICAgICBzZWxmLmhlYXBBcnJheVtpXSA9IHNlbGYuaGVhcEFycmF5W21jXVxuICAgICAgICAgICAgICAgIHNlbGYuaGVhcEFycmF5W21jXSA9IHRtcFxuICAgICAgICAgICAgaSA9IG1jXG4gICAgICAgICAgICAgICAgXG4gICAgZGVmIG1pbkNoaWxkKHNlbGYsaSk6XG4gICAgICAgIGlmIGkqMiA+IHNlbGYuY3VycmVudFNpemU6XG4gICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIGlmIGkqMiArIDEgPiBzZWxmLmN1cnJlbnRTaXplOlxuICAgICAgICAgICAgICAgIHJldHVybiBpKjJcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgaWYgc2VsZi5oZWFwQXJyYXlbaSoyXVswXSA8IHNlbGYuaGVhcEFycmF5W2kqMisxXVswXTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkqMlxuICAgICAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpKjIrMVxuXG4gICAgZGVmIHBlcmNVcChzZWxmLGkpOlxuICAgICAgICB3aGlsZSBpIC8vIDIgPiAwOlxuICAgICAgICAgICAgaWYgc2VsZi5oZWFwQXJyYXlbaV1bMF0gPCBzZWxmLmhlYXBBcnJheVtpLy8yXVswXTpcbiAgICAgICAgICAgICAgIHRtcCA9IHNlbGYuaGVhcEFycmF5W2kvLzJdXG4gICAgICAgICAgICAgICBzZWxmLmhlYXBBcnJheVtpLy8yXSA9IHNlbGYuaGVhcEFycmF5W2ldXG4gICAgICAgICAgICAgICBzZWxmLmhlYXBBcnJheVtpXSA9IHRtcFxuICAgICAgICAgICAgaSA9IGkvLzJcbiBcbiAgICBkZWYgYWRkKHNlbGYsayk6XG4gICAgICAgIHNlbGYuaGVhcEFycmF5LmFwcGVuZChrKVxuICAgICAgICBzZWxmLmN1cnJlbnRTaXplID0gc2VsZi5jdXJyZW50U2l6ZSArIDFcbiAgICAgICAgc2VsZi5wZXJjVXAoc2VsZi5jdXJyZW50U2l6ZSlcblxuICAgIGRlZiBkZWxNaW4oc2VsZik6XG4gICAgICAgIHJldHZhbCA9IHNlbGYuaGVhcEFycmF5WzFdWzFdXG4gICAgICAgIHNlbGYuaGVhcEFycmF5WzFdID0gc2VsZi5oZWFwQXJyYXlbc2VsZi5jdXJyZW50U2l6ZV1cbiAgICAgICAgc2VsZi5jdXJyZW50U2l6ZSA9IHNlbGYuY3VycmVudFNpemUgLSAxXG4gICAgICAgIHNlbGYuaGVhcEFycmF5LnBvcCgpXG4gICAgICAgIHNlbGYucGVyY0Rvd24oMSlcbiAgICAgICAgcmV0dXJuIHJldHZhbFxuICAgICAgICBcbiAgICBkZWYgaXNFbXB0eShzZWxmKTpcbiAgICAgICAgaWYgc2VsZi5jdXJyZW50U2l6ZSA9PSAwOlxuICAgICAgICAgICAgcmV0dXJuIFRydWVcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHJldHVybiBGYWxzZVxuXG4gICAgZGVmIGRlY3JlYXNlS2V5KHNlbGYsdmFsLGFtdCk6XG4gICAgICAgICMgdGhpcyBpcyBhIGxpdHRsZSB3aWVyZCwgYnV0IHdlIG5lZWQgdG8gZmluZCB0aGUgaGVhcCB0aGluZyB0byBkZWNyZWFzZSBieVxuICAgICAgICAjIGxvb2tpbmcgYXQgaXRzIHZhbHVlXG4gICAgICAgIGRvbmUgPSBGYWxzZVxuICAgICAgICBpID0gMVxuICAgICAgICBteUtleSA9IDBcbiAgICAgICAgd2hpbGUgbm90IGRvbmUgYW5kIGkgPD0gc2VsZi5jdXJyZW50U2l6ZTpcbiAgICAgICAgICAgIGlmIHNlbGYuaGVhcEFycmF5W2ldWzFdID09IHZhbDpcbiAgICAgICAgICAgICAgICBkb25lID0gVHJ1ZVxuICAgICAgICAgICAgICAgIG15S2V5ID0gaVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICBpID0gaSArIDFcbiAgICAgICAgaWYgbXlLZXkgPiAwOlxuICAgICAgICAgICAgc2VsZi5oZWFwQXJyYXlbbXlLZXldID0gKGFtdCxzZWxmLmhlYXBBcnJheVtteUtleV1bMV0pXG4gICAgICAgICAgICBzZWxmLnBlcmNVcChteUtleSlcbiAgICAgICAgICAgIFxuICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZix2dHgpOlxuICAgICAgICBmb3IgcGFpciBpbiBzZWxmLmhlYXBBcnJheTpcbiAgICAgICAgICAgIGlmIHBhaXJbMV0gPT0gdnR4OlxuICAgICAgICAgICAgICAgIHJldHVybiBUcnVlXG4gICAgICAgIHJldHVybiBGYWxzZVxuICAgICAgICBcbmNsYXNzIFRlc3RCaW5IZWFwKHVuaXR0ZXN0LlRlc3RDYXNlKTpcbiAgICBkZWYgc2V0VXAoc2VsZik6XG4gICAgICAgIHNlbGYudGhlSGVhcCA9IFByaW9yaXR5UXVldWUoKVxuICAgICAgICBzZWxmLnRoZUhlYXAuYWRkKCgyLCd4JykpXG4gICAgICAgIHNlbGYudGhlSGVhcC5hZGQoKDMsJ3knKSlcbiAgICAgICAgc2VsZi50aGVIZWFwLmFkZCgoNSwneicpKVxuICAgICAgICBzZWxmLnRoZUhlYXAuYWRkKCg2LCdhJykpXG4gICAgICAgIHNlbGYudGhlSGVhcC5hZGQoKDQsJ2QnKSlcblxuXG4gICAgZGVmIHRlc3RJbnNlcnQoc2VsZik6XG4gICAgICAgIGFzc2VydCBzZWxmLnRoZUhlYXAuY3VycmVudFNpemUgPT0gNVxuXG4gICAgZGVmIHRlc3REZWxtaW4oc2VsZik6XG4gICAgICAgIGFzc2VydCBzZWxmLnRoZUhlYXAuZGVsTWluKCkgPT0gJ3gnXG4gICAgICAgIGFzc2VydCBzZWxmLnRoZUhlYXAuZGVsTWluKCkgPT0gJ3knXG4gICAgXG4gICAgZGVmIHRlc3REZWNLZXkoc2VsZik6XG4gICAgICAgIHNlbGYudGhlSGVhcC5kZWNyZWFzZUtleSgnZCcsMSlcbiAgICAgICAgYXNzZXJ0IHNlbGYudGhlSGVhcC5kZWxNaW4oKSA9PSAnZCdcbiAgICAgICAgXG5pZiBfX25hbWVfXyA9PSAnX19tYWluX18nOlxuICAgIHVuaXR0ZXN0Lm1haW4oKVxuIiwKICAgICJzcmMvbGliL3B5dGhvbmRzL3RyZWVzL19faW5pdF9fLnB5IjoKICAgICAgIlxuIyBmcm9tIC5iaW5hcnlUcmVlIGltcG9ydCBCaW5hcnlUcmVlXG4jIGZyb20gLmJhbGFuY2UgaW1wb3J0IEFWTFRyZWVcbiMgZnJvbSAuYnN0IGltcG9ydCBCaW5hcnlTZWFyY2hUcmVlXG4jIGZyb20gLmJpbmhlYXAgaW1wb3J0IEJpbkhlYXBcblxuXG4iLAogICAgInNyYy9saWIvcHl0aG9uZHMvdHJlZXMvYmFsYW5jZS5weSI6CiAgICAgICIjIS9iaW4vZW52IHB5dGhvbjMuMVxuIyBCcmFkbGV5IE4uIE1pbGxlciwgRGF2aWQgTC4gUmFudW1cbiMgSW50cm9kdWN0aW9uIHRvIERhdGEgU3RydWN0dXJlcyBhbmQgQWxnb3JpdGhtcyBpbiBQeXRob25cbiMgQ29weXJpZ2h0IDIwMDUsIDIwMTBcbiMgXG5cbmZyb20gLmJzdCBpbXBvcnQgQmluYXJ5U2VhcmNoVHJlZSwgVHJlZU5vZGVcblxuY2xhc3MgQVZMVHJlZShCaW5hcnlTZWFyY2hUcmVlKTpcbiAgICAnJydcbiAgICBBdXRob3I6ICBCcmFkIE1pbGxlclxuICAgIERhdGU6ICAxLzE1LzIwMDVcbiAgICBEZXNjcmlwdGlvbjogIEltbGVtZW50IGEgYmluYXJ5IHNlYXJjaCB0cmVlIHdpdGggdGhlIGZvbGxvd2luZyBpbnRlcmZhY2VcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uczogIFxuICAgICAgICAgICAgICAgICAgX19jb250YWluc19fKHkpIDw9PT4geSBpbiB4XG4gICAgICAgICAgICAgICAgICBfX2dldGl0ZW1fXyh5KSA8PT0+IHhbeV1cbiAgICAgICAgICAgICAgICAgIF9faW5pdF9fKClcbiAgICAgICAgICAgICAgICAgIF9fbGVuX18oKSA8PT0+IGxlbih4KVxuICAgICAgICAgICAgICAgICAgX19zZXRpdGVtX18oayx2KSA8PT0+IHhba10gPSB2XG4gICAgICAgICAgICAgICAgICBjbGVhcigpXG4gICAgICAgICAgICAgICAgICBnZXQoaylcbiAgICAgICAgICAgICAgICAgIGhhc19rZXkoaylcbiAgICAgICAgICAgICAgICAgIGl0ZW1zKCkgXG4gICAgICAgICAgICAgICAgICBrZXlzKCkgXG4gICAgICAgICAgICAgICAgICB2YWx1ZXMoKVxuICAgICAgICAgICAgICAgICAgcHV0KGssdilcbiAgICAnJydcblxuXG4gICAgZGVmIF9wdXQoc2VsZixrZXksdmFsLGN1cnJlbnROb2RlKTpcbiAgICAgICAgaWYga2V5IDwgY3VycmVudE5vZGUua2V5OlxuICAgICAgICAgICAgaWYgY3VycmVudE5vZGUuaGFzTGVmdENoaWxkKCk6XG4gICAgICAgICAgICAgICAgc2VsZi5fcHV0KGtleSx2YWwsY3VycmVudE5vZGUubGVmdENoaWxkKVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5sZWZ0Q2hpbGQgPSBUcmVlTm9kZShrZXksdmFsLHBhcmVudD1jdXJyZW50Tm9kZSlcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUJhbGFuY2UoY3VycmVudE5vZGUubGVmdENoaWxkKVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgaWYgY3VycmVudE5vZGUuaGFzUmlnaHRDaGlsZCgpOlxuICAgICAgICAgICAgICAgIHNlbGYuX3B1dChrZXksdmFsLGN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQpXG4gICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSBUcmVlTm9kZShrZXksdmFsLHBhcmVudD1jdXJyZW50Tm9kZSlcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUJhbGFuY2UoY3VycmVudE5vZGUucmlnaHRDaGlsZCkgICAgICAgICAgICAgICAgXG5cbiAgICBkZWYgdXBkYXRlQmFsYW5jZShzZWxmLG5vZGUpOlxuICAgICAgICBpZiBub2RlLmJhbGFuY2VGYWN0b3IgPiAxIG9yIG5vZGUuYmFsYW5jZUZhY3RvciA8IC0xOlxuICAgICAgICAgICAgc2VsZi5yZWJhbGFuY2Uobm9kZSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICBpZiBub2RlLnBhcmVudCAhPSBOb25lOlxuICAgICAgICAgICAgaWYgbm9kZS5pc0xlZnRDaGlsZCgpOlxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LmJhbGFuY2VGYWN0b3IgKz0gMVxuICAgICAgICAgICAgZWxpZiBub2RlLmlzUmlnaHRDaGlsZCgpOlxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LmJhbGFuY2VGYWN0b3IgLT0gMVxuXG4gICAgICAgICAgICBpZiBub2RlLnBhcmVudC5iYWxhbmNlRmFjdG9yICE9IDA6XG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVCYWxhbmNlKG5vZGUucGFyZW50KVxuXG4gICAgZGVmIHJlYmFsYW5jZShzZWxmLG5vZGUpOlxuICAgICAgICBpZiBub2RlLmJhbGFuY2VGYWN0b3IgPCAwOlxuICAgICAgICAgICAgaWYgbm9kZS5yaWdodENoaWxkLmJhbGFuY2VGYWN0b3IgPiAwOlxuICAgICAgICAgICAgICAgICMgRG8gYW4gTFIgUm90YXRpb25cbiAgICAgICAgICAgICAgICBzZWxmLnJvdGF0ZVJpZ2h0KG5vZGUucmlnaHRDaGlsZClcbiAgICAgICAgICAgICAgICBzZWxmLnJvdGF0ZUxlZnQobm9kZSlcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgIyBzaW5nbGUgbGVmdFxuICAgICAgICAgICAgICAgIHNlbGYucm90YXRlTGVmdChub2RlKVxuICAgICAgICBlbGlmIG5vZGUuYmFsYW5jZUZhY3RvciA+IDA6XG4gICAgICAgICAgICBpZiBub2RlLmxlZnRDaGlsZC5iYWxhbmNlRmFjdG9yIDwgMDpcbiAgICAgICAgICAgICAgICAjIERvIGFuIFJMIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgc2VsZi5yb3RhdGVMZWZ0KG5vZGUubGVmdENoaWxkKVxuICAgICAgICAgICAgICAgIHNlbGYucm90YXRlUmlnaHQobm9kZSlcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgIyBzaW5nbGUgcmlnaHRcbiAgICAgICAgICAgICAgICBzZWxmLnJvdGF0ZVJpZ2h0KG5vZGUpXG5cbiAgICBkZWYgcm90YXRlTGVmdChzZWxmLHJvdFJvb3QpOlxuICAgICAgICBuZXdSb290ID0gcm90Um9vdC5yaWdodENoaWxkXG4gICAgICAgIHJvdFJvb3QucmlnaHRDaGlsZCA9IG5ld1Jvb3QubGVmdENoaWxkXG4gICAgICAgIGlmIG5ld1Jvb3QubGVmdENoaWxkICE9IE5vbmU6XG4gICAgICAgICAgICBuZXdSb290LmxlZnRDaGlsZC5wYXJlbnQgPSByb3RSb290XG4gICAgICAgIG5ld1Jvb3QucGFyZW50ID0gcm90Um9vdC5wYXJlbnRcbiAgICAgICAgaWYgcm90Um9vdC5pc1Jvb3QoKTpcbiAgICAgICAgICAgIHNlbGYucm9vdCA9IG5ld1Jvb3RcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIGlmIHJvdFJvb3QuaXNMZWZ0Q2hpbGQoKTpcbiAgICAgICAgICAgICAgICByb3RSb290LnBhcmVudC5sZWZ0Q2hpbGQgPSBuZXdSb290XG4gICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgIHJvdFJvb3QucGFyZW50LnJpZ2h0Q2hpbGQgPSBuZXdSb290XG4gICAgICAgIG5ld1Jvb3QubGVmdENoaWxkID0gcm90Um9vdFxuICAgICAgICByb3RSb290LnBhcmVudCA9IG5ld1Jvb3RcbiAgICAgICAgcm90Um9vdC5iYWxhbmNlRmFjdG9yID0gcm90Um9vdC5iYWxhbmNlRmFjdG9yICsgMSAtIG1pbihuZXdSb290LmJhbGFuY2VGYWN0b3IsIDApXG4gICAgICAgIG5ld1Jvb3QuYmFsYW5jZUZhY3RvciA9IG5ld1Jvb3QuYmFsYW5jZUZhY3RvciArIDEgKyBtYXgocm90Um9vdC5iYWxhbmNlRmFjdG9yLCAwKVxuXG5cbiAgICBkZWYgcm90YXRlUmlnaHQoc2VsZixyb3RSb290KTpcbiAgICAgICAgbmV3Um9vdCA9IHJvdFJvb3QubGVmdENoaWxkXG4gICAgICAgIHJvdFJvb3QubGVmdENoaWxkID0gbmV3Um9vdC5yaWdodENoaWxkXG4gICAgICAgIGlmIG5ld1Jvb3QucmlnaHRDaGlsZCAhPSBOb25lOlxuICAgICAgICAgICAgbmV3Um9vdC5yaWdodENoaWxkLnBhcmVudCA9IHJvdFJvb3RcbiAgICAgICAgbmV3Um9vdC5wYXJlbnQgPSByb3RSb290LnBhcmVudFxuICAgICAgICBpZiByb3RSb290LmlzUm9vdCgpOlxuICAgICAgICAgICAgc2VsZi5yb290ID0gbmV3Um9vdFxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgaWYgcm90Um9vdC5pc1JpZ2h0Q2hpbGQoKTpcbiAgICAgICAgICAgICAgICByb3RSb290LnBhcmVudC5yaWdodENoaWxkID0gbmV3Um9vdFxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICByb3RSb290LnBhcmVudC5sZWZ0Q2hpbGQgPSBuZXdSb290XG4gICAgICAgIG5ld1Jvb3QucmlnaHRDaGlsZCA9IHJvdFJvb3RcbiAgICAgICAgcm90Um9vdC5wYXJlbnQgPSBuZXdSb290XG4gICAgICAgIHJvdFJvb3QuYmFsYW5jZUZhY3RvciA9IHJvdFJvb3QuYmFsYW5jZUZhY3RvciAtIDEgLSBtYXgobmV3Um9vdC5iYWxhbmNlRmFjdG9yLCAwKVxuICAgICAgICBuZXdSb290LmJhbGFuY2VGYWN0b3IgPSBuZXdSb290LmJhbGFuY2VGYWN0b3IgLSAxICsgbWluKHJvdFJvb3QuYmFsYW5jZUZhY3RvciwgMClcbiAgICAgICAgXG4iLAogICAgInNyYy9saWIvcHl0aG9uZHMvdHJlZXMvYmluYXJ5VHJlZS5weSI6CiAgICAgICIjIEJyYWRsZXkgTi4gTWlsbGVyLCBEYXZpZCBMLiBSYW51bVxuIyBJbnRyb2R1Y3Rpb24gdG8gRGF0YSBTdHJ1Y3R1cmVzIGFuZCBBbGdvcml0aG1zIGluIFB5dGhvblxuIyBDb3B5cmlnaHQgMjAwNVxuIyBcblxuY2xhc3MgQmluYXJ5VHJlZTpcbiAgICBcIlwiXCJcbiAgICBBIHJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBvZiBCaW5hcnkgVHJlZVxuICAgIFVzaW5nIGxpbmtzIGFuZCBOb2RlcyBhcHByb2FjaC5cbiAgICBcIlwiXCIgICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYscm9vdE9iaik6XG4gICAgICAgIHNlbGYua2V5ID0gcm9vdE9ialxuICAgICAgICBzZWxmLmxlZnRDaGlsZCA9IE5vbmVcbiAgICAgICAgc2VsZi5yaWdodENoaWxkID0gTm9uZVxuXG4gICAgZGVmIGluc2VydExlZnQoc2VsZixuZXdOb2RlKTpcbiAgICAgICAgaWYgc2VsZi5sZWZ0Q2hpbGQgPT0gTm9uZTpcbiAgICAgICAgICAgIHNlbGYubGVmdENoaWxkID0gQmluYXJ5VHJlZShuZXdOb2RlKVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgdCA9IEJpbmFyeVRyZWUobmV3Tm9kZSlcbiAgICAgICAgICAgIHQubGVmdCA9IHNlbGYubGVmdENoaWxkXG4gICAgICAgICAgICBzZWxmLmxlZnRDaGlsZCA9IHRcbiAgICBcbiAgICBkZWYgaW5zZXJ0UmlnaHQoc2VsZixuZXdOb2RlKTpcbiAgICAgICAgaWYgc2VsZi5yaWdodENoaWxkID09IE5vbmU6XG4gICAgICAgICAgICBzZWxmLnJpZ2h0Q2hpbGQgPSBCaW5hcnlUcmVlKG5ld05vZGUpXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICB0ID0gQmluYXJ5VHJlZShuZXdOb2RlKVxuICAgICAgICAgICAgdC5yaWdodCA9IHNlbGYucmlnaHRDaGlsZFxuICAgICAgICAgICAgc2VsZi5yaWdodENoaWxkID0gdFxuXG4gICAgZGVmIGlzTGVhZihzZWxmKTpcbiAgICAgICAgcmV0dXJuICgobm90IHNlbGYubGVmdENoaWxkKSBhbmQgKG5vdCBzZWxmLnJpZ2h0Q2hpbGQpKVxuXG4gICAgZGVmIGdldFJpZ2h0Q2hpbGQoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLnJpZ2h0Q2hpbGRcblxuICAgIGRlZiBnZXRMZWZ0Q2hpbGQoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLmxlZnRDaGlsZFxuXG4gICAgZGVmIHNldFJvb3RWYWwoc2VsZixvYmopOlxuICAgICAgICBzZWxmLmtleSA9IG9ialxuXG4gICAgZGVmIGdldFJvb3RWYWwoc2VsZiwpOlxuICAgICAgICByZXR1cm4gc2VsZi5rZXlcblxuICAgIGRlZiBpbm9yZGVyKHNlbGYpOlxuICAgICAgICBpZiBzZWxmLmxlZnRDaGlsZDpcbiAgICAgICAgICAgIHNlbGYubGVmdENoaWxkLmlub3JkZXIoKVxuICAgICAgICBwcmludChzZWxmLmtleSlcbiAgICAgICAgaWYgc2VsZi5yaWdodENoaWxkOlxuICAgICAgICAgICAgc2VsZi5yaWdodENoaWxkLmlub3JkZXIoKVxuXG4gICAgZGVmIHBvc3RvcmRlcihzZWxmKTpcbiAgICAgICAgaWYgc2VsZi5sZWZ0Q2hpbGQ6XG4gICAgICAgICAgICBzZWxmLmxlZnRDaGlsZC5wb3N0b3JkZXIoKVxuICAgICAgICBpZiBzZWxmLnJpZ2h0Q2hpbGQ6XG4gICAgICAgICAgICBzZWxmLnJpZ2h0Q2hpbGQucG9zdG9yZGVyKClcbiAgICAgICAgcHJpbnQoc2VsZi5rZXkpXG5cblxuICAgIGRlZiBwcmVvcmRlcihzZWxmKTpcbiAgICAgICAgcHJpbnQoc2VsZi5rZXkpXG4gICAgICAgIGlmIHNlbGYubGVmdENoaWxkOlxuICAgICAgICAgICAgc2VsZi5sZWZ0Q2hpbGQucHJlb3JkZXIoKVxuICAgICAgICBpZiBzZWxmLnJpZ2h0Q2hpbGQ6XG4gICAgICAgICAgICBzZWxmLnJpZ2h0Q2hpbGQucHJlb3JkZXIoKVxuXG4gICAgZGVmIHByaW50ZXhwKHNlbGYpOlxuICAgICAgICBpZiBzZWxmLmxlZnRDaGlsZDpcbiAgICAgICAgICAgIHByaW50KCcoJylcbiAgICAgICAgICAgIHNlbGYubGVmdENoaWxkLnByaW50ZXhwKClcbiAgICAgICAgcHJpbnQoc2VsZi5rZXkpXG4gICAgICAgIGlmIHNlbGYucmlnaHRDaGlsZDpcbiAgICAgICAgICAgIHNlbGYucmlnaHRDaGlsZC5wcmludGV4cCgpXG4gICAgICAgICAgICBwcmludCgnKScpXG5cbiAgICBkZWYgcG9zdG9yZGVyZXZhbChzZWxmKTpcbiAgICAgICAgb3BlcnMgPSB7JysnOm9wZXJhdG9yLmFkZCwgJy0nOm9wZXJhdG9yLnN1YiwgJyonOm9wZXJhdG9yLm11bCwgJy8nOm9wZXJhdG9yLnRydWVkaXZ9XG4gICAgICAgIHJlczEgPSBOb25lXG4gICAgICAgIHJlczIgPSBOb25lXG4gICAgICAgIGlmIHNlbGYubGVmdENoaWxkOlxuICAgICAgICAgICAgcmVzMSA9IHNlbGYubGVmdENoaWxkLnBvc3RvcmRlcmV2YWwoKSAgIy8vIFxcbGFiZWx7cGVsZWZ0fVxuICAgICAgICBpZiBzZWxmLnJpZ2h0Q2hpbGQ6XG4gICAgICAgICAgICByZXMyID0gc2VsZi5yaWdodENoaWxkLnBvc3RvcmRlcmV2YWwoKSAjLy8gXFxsYWJlbHtwZXJpZ2h0fVxuICAgICAgICBpZiByZXMxIGFuZCByZXMyOlxuICAgICAgICAgICAgcmV0dXJuIG9wZXJzW3NlbGYua2V5XShyZXMxLHJlczIpICMvLyBcXGxhYmVse3BlZXZhbH1cbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmtleVxuXG5kZWYgaW5vcmRlcih0cmVlKTpcbiAgICBpZiB0cmVlICE9IE5vbmU6XG4gICAgICAgIGlub3JkZXIodHJlZS5nZXRMZWZ0Q2hpbGQoKSlcbiAgICAgICAgcHJpbnQodHJlZS5nZXRSb290VmFsKCkpXG4gICAgICAgIGlub3JkZXIodHJlZS5nZXRSaWdodENoaWxkKCkpXG5cbmRlZiBwcmludGV4cCh0cmVlKTpcbiAgICBpZiB0cmVlLmxlZnRDaGlsZDpcbiAgICAgICAgcHJpbnQoJygnKVxuICAgICAgICBwcmludGV4cCh0cmVlLmdldExlZnRDaGlsZCgpKVxuICAgIHByaW50KHRyZWUuZ2V0Um9vdFZhbCgpKVxuICAgIGlmIHRyZWUucmlnaHRDaGlsZDpcbiAgICAgICAgcHJpbnRleHAodHJlZS5nZXRSaWdodENoaWxkKCkpXG4gICAgICAgIHByaW50KCcpJykgXG5cbmRlZiBwcmludGV4cCh0cmVlKTpcbiAgICBzVmFsID0gXCJcIlxuICAgIGlmIHRyZWU6XG4gICAgICAgIHNWYWwgPSAnKCcgKyBwcmludGV4cCh0cmVlLmdldExlZnRDaGlsZCgpKVxuICAgICAgICBzVmFsID0gc1ZhbCArIHN0cih0cmVlLmdldFJvb3RWYWwoKSlcbiAgICAgICAgc1ZhbCA9IHNWYWwgKyBwcmludGV4cCh0cmVlLmdldFJpZ2h0Q2hpbGQoKSkgKyAnKSdcbiAgICByZXR1cm4gc1ZhbFxuXG5kZWYgcG9zdG9yZGVyZXZhbCh0cmVlKTpcbiAgICBvcGVycyA9IHsnKyc6b3BlcmF0b3IuYWRkLCAnLSc6b3BlcmF0b3Iuc3ViLCAnKic6b3BlcmF0b3IubXVsLCAnLyc6b3BlcmF0b3IudHJ1ZWRpdn1cbiAgICByZXMxID0gTm9uZVxuICAgIHJlczIgPSBOb25lXG4gICAgaWYgdHJlZTpcbiAgICAgICAgcmVzMSA9IHBvc3RvcmRlcmV2YWwodHJlZS5nZXRMZWZ0Q2hpbGQoKSkgICMvLyBcXGxhYmVse3BlbGVmdH1cbiAgICAgICAgcmVzMiA9IHBvc3RvcmRlcmV2YWwodHJlZS5nZXRSaWdodENoaWxkKCkpICMvLyBcXGxhYmVse3BlcmlnaHR9XG4gICAgICAgIGlmIHJlczEgYW5kIHJlczI6XG4gICAgICAgICAgICByZXR1cm4gb3BlcnNbdHJlZS5nZXRSb290VmFsKCldKHJlczEscmVzMikgIy8vIFxcbGFiZWx7cGVldmFsfVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcmV0dXJuIHRyZWUuZ2V0Um9vdFZhbCgpXG5cbmRlZiBoZWlnaHQodHJlZSk6XG4gICAgaWYgdHJlZSA9PSBOb25lOlxuICAgICAgICByZXR1cm4gLTFcbiAgICBlbHNlOlxuICAgICAgICByZXR1cm4gMSArIG1heChoZWlnaHQodHJlZS5sZWZ0Q2hpbGQpLGhlaWdodCh0cmVlLnJpZ2h0Q2hpbGQpKVxuXG4jIHQgPSBCaW5hcnlUcmVlKDcpXG4jIHQuaW5zZXJ0TGVmdCgzKVxuIyB0Lmluc2VydFJpZ2h0KDkpXG4jIGlub3JkZXIodClcbiMgaW1wb3J0IG9wZXJhdG9yXG4jIHggPSBCaW5hcnlUcmVlKCcqJylcbiMgeC5pbnNlcnRMZWZ0KCcrJylcbiMgbCA9IHguZ2V0TGVmdENoaWxkKClcbiMgbC5pbnNlcnRMZWZ0KDQpXG4jIGwuaW5zZXJ0UmlnaHQoNSlcbiMgeC5pbnNlcnRSaWdodCg3KVxuIyBwcmludChwcmludGV4cCh4KSlcbiMgcHJpbnQocG9zdG9yZGVyZXZhbCh4KSlcbiMgcHJpbnQoaGVpZ2h0KHgpKVxuIiwKICAgICJzcmMvbGliL3B5dGhvbmRzL3RyZWVzL2JpbmhlYXAucHkiOgogICAgICAiIyBCcmFkbGV5IE4uIE1pbGxlciwgRGF2aWQgTC4gUmFudW1cbiMgSW50cm9kdWN0aW9uIHRvIERhdGEgU3RydWN0dXJlcyBhbmQgQWxnb3JpdGhtcyBpbiBQeXRob25cbiMgQ29weXJpZ2h0IDIwMDVcbiMgXG5cbiMgdGhpcyBoZWFwIHRha2VzIGtleSB2YWx1ZSBwYWlycywgd2Ugd2lsbCBhc3N1bWUgdGhhdCB0aGUga2V5cyBhcmUgaW50ZWdlcnNcbmNsYXNzIEJpbkhlYXA6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYpOlxuICAgICAgICBzZWxmLmhlYXBMaXN0ID0gWzBdXG4gICAgICAgIHNlbGYuY3VycmVudFNpemUgPSAwXG5cblxuICAgIGRlZiBidWlsZEhlYXAoc2VsZixhbGlzdCk6XG4gICAgICAgIGkgPSBsZW4oYWxpc3QpIC8vIDJcbiAgICAgICAgc2VsZi5jdXJyZW50U2l6ZSA9IGxlbihhbGlzdClcbiAgICAgICAgc2VsZi5oZWFwTGlzdCA9IFswXSArIGFsaXN0WzpdXG4gICAgICAgIHByaW50KGxlbihzZWxmLmhlYXBMaXN0KSwgaSlcbiAgICAgICAgd2hpbGUgKGkgPiAwKTpcbiAgICAgICAgICAgIHByaW50KHNlbGYuaGVhcExpc3QsIGkpXG4gICAgICAgICAgICBzZWxmLnBlcmNEb3duKGkpXG4gICAgICAgICAgICBpID0gaSAtIDFcbiAgICAgICAgcHJpbnQoc2VsZi5oZWFwTGlzdCxpKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZGVmIHBlcmNEb3duKHNlbGYsaSk6XG4gICAgICAgIHdoaWxlIChpICogMikgPD0gc2VsZi5jdXJyZW50U2l6ZTpcbiAgICAgICAgICAgIG1jID0gc2VsZi5taW5DaGlsZChpKVxuICAgICAgICAgICAgaWYgc2VsZi5oZWFwTGlzdFtpXSA+IHNlbGYuaGVhcExpc3RbbWNdOlxuICAgICAgICAgICAgICAgIHRtcCA9IHNlbGYuaGVhcExpc3RbaV1cbiAgICAgICAgICAgICAgICBzZWxmLmhlYXBMaXN0W2ldID0gc2VsZi5oZWFwTGlzdFttY11cbiAgICAgICAgICAgICAgICBzZWxmLmhlYXBMaXN0W21jXSA9IHRtcFxuICAgICAgICAgICAgaSA9IG1jXG4gICAgICAgICAgICAgICAgXG4gICAgZGVmIG1pbkNoaWxkKHNlbGYsaSk6XG4gICAgICAgIGlmIGkgKiAyICsgMSA+IHNlbGYuY3VycmVudFNpemU6XG4gICAgICAgICAgICByZXR1cm4gaSAqIDJcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIGlmIHNlbGYuaGVhcExpc3RbaSAqIDJdIDwgc2VsZi5oZWFwTGlzdFtpICogMiArIDFdOlxuICAgICAgICAgICAgICAgIHJldHVybiBpICogMlxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gaSAqIDIgKyAxXG5cbiAgICBkZWYgcGVyY1VwKHNlbGYsaSk6XG4gICAgICAgIHdoaWxlIGkgLy8gMiA+IDA6XG4gICAgICAgICAgICBpZiBzZWxmLmhlYXBMaXN0W2ldIDwgc2VsZi5oZWFwTGlzdFtpLy8yXTpcbiAgICAgICAgICAgICAgIHRtcCA9IHNlbGYuaGVhcExpc3RbaSAvLyAyXVxuICAgICAgICAgICAgICAgc2VsZi5oZWFwTGlzdFtpIC8vIDJdID0gc2VsZi5oZWFwTGlzdFtpXVxuICAgICAgICAgICAgICAgc2VsZi5oZWFwTGlzdFtpXSA9IHRtcFxuICAgICAgICAgICAgaSA9IGkgLy8gMlxuIFxuICAgIGRlZiBpbnNlcnQoc2VsZixrKTpcbiAgICAgICAgc2VsZi5oZWFwTGlzdC5hcHBlbmQoaylcbiAgICAgICAgc2VsZi5jdXJyZW50U2l6ZSA9IHNlbGYuY3VycmVudFNpemUgKyAxXG4gICAgICAgIHNlbGYucGVyY1VwKHNlbGYuY3VycmVudFNpemUpXG5cbiAgICBkZWYgZGVsTWluKHNlbGYpOlxuICAgICAgICByZXR2YWwgPSBzZWxmLmhlYXBMaXN0WzFdXG4gICAgICAgIHNlbGYuaGVhcExpc3RbMV0gPSBzZWxmLmhlYXBMaXN0W3NlbGYuY3VycmVudFNpemVdXG4gICAgICAgIHNlbGYuY3VycmVudFNpemUgPSBzZWxmLmN1cnJlbnRTaXplIC0gMVxuICAgICAgICBzZWxmLmhlYXBMaXN0LnBvcCgpXG4gICAgICAgIHNlbGYucGVyY0Rvd24oMSlcbiAgICAgICAgcmV0dXJuIHJldHZhbFxuICAgICAgICBcbiAgICBkZWYgaXNFbXB0eShzZWxmKTpcbiAgICAgICAgaWYgY3VycmVudFNpemUgPT0gMDpcbiAgICAgICAgICAgIHJldHVybiBUcnVlXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gRmFsc2VcbiIsCiAgICAic3JjL2xpYi9weXRob25kcy90cmVlcy9ic3QucHkiOgogICAgICAiIyEvYmluL2VudiBweXRob24zLjFcbiMgQnJhZGxleSBOLiBNaWxsZXIsIERhdmlkIEwuIFJhbnVtXG4jIEludHJvZHVjdGlvbiB0byBEYXRhIFN0cnVjdHVyZXMgYW5kIEFsZ29yaXRobXMgaW4gUHl0aG9uXG4jIENvcHlyaWdodCAyMDA1LCAyMDEwXG4jIFxuXG5jbGFzcyBCaW5hcnlTZWFyY2hUcmVlOlxuICAgICcnJ1xuICAgIEF1dGhvcjogIEJyYWQgTWlsbGVyXG4gICAgRGF0ZTogIDEvMTUvMjAwNVxuICAgIERlc2NyaXB0aW9uOiAgSW1sZW1lbnQgYSBiaW5hcnkgc2VhcmNoIHRyZWUgd2l0aCB0aGUgZm9sbG93aW5nIGludGVyZmFjZVxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb25zOiAgXG4gICAgICAgICAgICAgICAgICBfX2NvbnRhaW5zX18oeSkgPD09PiB5IGluIHhcbiAgICAgICAgICAgICAgICAgIF9fZ2V0aXRlbV9fKHkpIDw9PT4geFt5XVxuICAgICAgICAgICAgICAgICAgX19pbml0X18oKVxuICAgICAgICAgICAgICAgICAgX19sZW5fXygpIDw9PT4gbGVuKHgpXG4gICAgICAgICAgICAgICAgICBfX3NldGl0ZW1fXyhrLHYpIDw9PT4geFtrXSA9IHZcbiAgICAgICAgICAgICAgICAgIGNsZWFyKClcbiAgICAgICAgICAgICAgICAgIGdldChrKVxuICAgICAgICAgICAgICAgICAgaXRlbXMoKSBcbiAgICAgICAgICAgICAgICAgIGtleXMoKSBcbiAgICAgICAgICAgICAgICAgIHZhbHVlcygpXG4gICAgICAgICAgICAgICAgICBwdXQoayx2KVxuICAgICAgICAgICAgICAgICAgaW5cbiAgICAgICAgICAgICAgICAgIGRlbCA8PT0+IFxuICAgICcnJ1xuXG4gICAgZGVmIF9faW5pdF9fKHNlbGYpOlxuICAgICAgICBzZWxmLnJvb3QgPSBOb25lXG4gICAgICAgIHNlbGYuc2l6ZSA9IDBcbiAgICBcbiAgICBkZWYgcHV0KHNlbGYsa2V5LHZhbCk6XG4gICAgICAgIGlmIHNlbGYucm9vdDpcbiAgICAgICAgICAgIHNlbGYuX3B1dChrZXksdmFsLHNlbGYucm9vdClcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHNlbGYucm9vdCA9IFRyZWVOb2RlKGtleSx2YWwpXG4gICAgICAgIHNlbGYuc2l6ZSA9IHNlbGYuc2l6ZSArIDFcblxuICAgIGRlZiBfcHV0KHNlbGYsa2V5LHZhbCxjdXJyZW50Tm9kZSk6XG4gICAgICAgIGlmIGtleSA8IGN1cnJlbnROb2RlLmtleTpcbiAgICAgICAgICAgIGlmIGN1cnJlbnROb2RlLmhhc0xlZnRDaGlsZCgpOlxuICAgICAgICAgICAgICAgIHNlbGYuX3B1dChrZXksdmFsLGN1cnJlbnROb2RlLmxlZnRDaGlsZClcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUubGVmdENoaWxkID0gVHJlZU5vZGUoa2V5LHZhbCxwYXJlbnQ9Y3VycmVudE5vZGUpXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBpZiBjdXJyZW50Tm9kZS5oYXNSaWdodENoaWxkKCk6XG4gICAgICAgICAgICAgICAgc2VsZi5fcHV0KGtleSx2YWwsY3VycmVudE5vZGUucmlnaHRDaGlsZClcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUucmlnaHRDaGlsZCA9IFRyZWVOb2RlKGtleSx2YWwscGFyZW50PWN1cnJlbnROb2RlKVxuICAgICAgICAgICAgXG4gICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsayx2KTpcbiAgICAgICAgc2VsZi5wdXQoayx2KVxuXG4gICAgZGVmIGdldChzZWxmLGtleSk6XG4gICAgICAgIGlmIHNlbGYucm9vdDpcbiAgICAgICAgICAgIHJlcyA9IHNlbGYuX2dldChrZXksc2VsZi5yb290KVxuICAgICAgICAgICAgaWYgcmVzOlxuICAgICAgICAgICAgICAgIHJldHVybiByZXMucGF5bG9hZFxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcmV0dXJuIE5vbmVcbiAgICAgICAgXG4gICAgZGVmIF9nZXQoc2VsZixrZXksY3VycmVudE5vZGUpOlxuICAgICAgICBpZiBub3QgY3VycmVudE5vZGU6XG4gICAgICAgICAgICByZXR1cm4gTm9uZVxuICAgICAgICBlbGlmIGN1cnJlbnROb2RlLmtleSA9PSBrZXk6XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudE5vZGVcbiAgICAgICAgZWxpZiBrZXkgPCBjdXJyZW50Tm9kZS5rZXk6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0KGtleSxjdXJyZW50Tm9kZS5sZWZ0Q2hpbGQpXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0KGtleSxjdXJyZW50Tm9kZS5yaWdodENoaWxkKVxuICAgICAgICAgICAgXG4gICAgICAgIFxuICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLGtleSk6XG4gICAgICAgIHJlcyA9IHNlbGYuZ2V0KGtleSlcbiAgICAgICAgaWYgcmVzOlxuICAgICAgICAgICAgcmV0dXJuIHJlc1xuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcmFpc2UgS2V5RXJyb3IoJ0Vycm9yLCBrZXkgbm90IGluIHRyZWUnKVxuICAgICAgICAgICAgXG5cbiAgICBkZWYgX19jb250YWluc19fKHNlbGYsa2V5KTpcbiAgICAgICAgaWYgc2VsZi5fZ2V0KGtleSxzZWxmLnJvb3QpOlxuICAgICAgICAgICAgcmV0dXJuIFRydWVcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHJldHVybiBGYWxzZVxuICAgICAgICBcbiAgICBkZWYgbGVuZ3RoKHNlbGYpOlxuICAgICAgICByZXR1cm4gc2VsZi5zaXplXG5cbiAgICBkZWYgX19sZW5fXyhzZWxmKTpcbiAgICAgICAgcmV0dXJuIHNlbGYuc2l6ZVxuXG4gICAgZGVmIF9faXRlcl9fKHNlbGYpOlxuICAgICAgICByZXR1cm4gc2VsZi5yb290Ll9faXRlcl9fKClcbiAgICBcbiAgICBkZWYgZGVsZXRlKHNlbGYsa2V5KTpcbiAgICAgICAgaWYgc2VsZi5zaXplID4gMTpcbiAgICAgICAgICAgIG5vZGVUb1JlbW92ZSA9IHNlbGYuX2dldChrZXksc2VsZi5yb290KVxuICAgICAgICAgICAgaWYgbm9kZVRvUmVtb3ZlOlxuICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlKG5vZGVUb1JlbW92ZSlcbiAgICAgICAgICAgICAgICBzZWxmLnNpemUgPSBzZWxmLnNpemUtMVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICByYWlzZSBLZXlFcnJvcignRXJyb3IsIGtleSBub3QgaW4gdHJlZScpXG4gICAgICAgIGVsaWYgc2VsZi5zaXplID09IDEgYW5kIHNlbGYucm9vdC5rZXkgPT0ga2V5OlxuICAgICAgICAgICAgc2VsZi5yb290ID0gTm9uZVxuICAgICAgICAgICAgc2VsZi5zaXplID0gc2VsZi5zaXplIC0gMVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcmFpc2UgS2V5RXJyb3IoJ0Vycm9yLCBrZXkgbm90IGluIHRyZWUnKVxuXG4gICAgZGVmIF9fZGVsaXRlbV9fKHNlbGYsa2V5KTpcbiAgICAgICAgc2VsZi5kZWxldGUoa2V5KVxuICAgIFxuICAgIGRlZiByZW1vdmUoc2VsZixjdXJyZW50Tm9kZSk6XG4gICAgICAgIGlmIGN1cnJlbnROb2RlLmlzTGVhZigpOiAjbGVhZlxuICAgICAgICAgICAgaWYgY3VycmVudE5vZGUgPT0gY3VycmVudE5vZGUucGFyZW50LmxlZnRDaGlsZDpcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5wYXJlbnQubGVmdENoaWxkID0gTm9uZVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5wYXJlbnQucmlnaHRDaGlsZCA9IE5vbmVcbiAgICAgICAgZWxpZiBjdXJyZW50Tm9kZS5oYXNCb3RoQ2hpbGRyZW4oKTogI2ludGVyaW9yXG4gICAgICAgICAgICBzdWNjID0gY3VycmVudE5vZGUuZmluZFN1Y2Nlc3NvcigpXG4gICAgICAgICAgICBzdWNjLnNwbGljZU91dCgpXG4gICAgICAgICAgICBjdXJyZW50Tm9kZS5rZXkgPSBzdWNjLmtleVxuICAgICAgICAgICAgY3VycmVudE5vZGUucGF5bG9hZCA9IHN1Y2MucGF5bG9hZFxuICAgICAgICBlbHNlOiAjIHRoaXMgbm9kZSBoYXMgb25lIGNoaWxkXG4gICAgICAgICAgICBpZiBjdXJyZW50Tm9kZS5oYXNMZWZ0Q2hpbGQoKTpcbiAgICAgICAgICAgICAgICBpZiBjdXJyZW50Tm9kZS5pc0xlZnRDaGlsZCgpOlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5sZWZ0Q2hpbGQucGFyZW50ID0gY3VycmVudE5vZGUucGFyZW50XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5sZWZ0Q2hpbGQgPSBjdXJyZW50Tm9kZS5sZWZ0Q2hpbGRcbiAgICAgICAgICAgICAgICBlbGlmIGN1cnJlbnROb2RlLmlzUmlnaHRDaGlsZCgpOlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5sZWZ0Q2hpbGQucGFyZW50ID0gY3VycmVudE5vZGUucGFyZW50XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5yaWdodENoaWxkID0gY3VycmVudE5vZGUubGVmdENoaWxkXG4gICAgICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUucmVwbGFjZU5vZGVEYXRhKGN1cnJlbnROb2RlLmxlZnRDaGlsZC5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5sZWZ0Q2hpbGQucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmxlZnRDaGlsZC5sZWZ0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5sZWZ0Q2hpbGQucmlnaHRDaGlsZClcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgaWYgY3VycmVudE5vZGUuaXNMZWZ0Q2hpbGQoKTpcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUucmlnaHRDaGlsZC5wYXJlbnQgPSBjdXJyZW50Tm9kZS5wYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUucGFyZW50LmxlZnRDaGlsZCA9IGN1cnJlbnROb2RlLnJpZ2h0Q2hpbGRcbiAgICAgICAgICAgICAgICBlbGlmIGN1cnJlbnROb2RlLmlzUmlnaHRDaGlsZCgpOlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5yaWdodENoaWxkLnBhcmVudCA9IGN1cnJlbnROb2RlLnBhcmVudFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5wYXJlbnQucmlnaHRDaGlsZCA9IGN1cnJlbnROb2RlLnJpZ2h0Q2hpbGRcbiAgICAgICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5yZXBsYWNlTm9kZURhdGEoY3VycmVudE5vZGUucmlnaHRDaGlsZC5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5yaWdodENoaWxkLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5yaWdodENoaWxkLmxlZnRDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQucmlnaHRDaGlsZClcblxuICAgIGRlZiBpbm9yZGVyKHNlbGYpOlxuICAgICAgICBzZWxmLl9pbm9yZGVyKHNlbGYucm9vdClcblxuICAgIGRlZiBfaW5vcmRlcihzZWxmLHRyZWUpOlxuICAgICAgICBpZiB0cmVlICE9IE5vbmU6XG4gICAgICAgICAgICBzZWxmLl9pbm9yZGVyKHRyZWUubGVmdENoaWxkKVxuICAgICAgICAgICAgcHJpbnQodHJlZS5rZXkpXG4gICAgICAgICAgICBzZWxmLl9pbm9yZGVyKHRyZWUucmlnaHRDaGlsZClcblxuICAgIGRlZiBwb3N0b3JkZXIoc2VsZik6XG4gICAgICAgIHNlbGYuX3Bvc3RvcmRlcihzZWxmLnJvb3QpXG5cbiAgICBkZWYgX3Bvc3RvcmRlcihzZWxmLCB0cmVlKTpcbiAgICAgICAgaWYgdHJlZTpcbiAgICAgICAgICAgIHNlbGYuX3Bvc3RvcmRlcih0cmVlLnJpZ2h0Q2hpbGQpXG4gICAgICAgICAgICBzZWxmLl9wb3N0b3JkZXIodHJlZS5sZWZ0Q2hpbGQpXG4gICAgICAgICAgICBwcmludCh0cmVlLmtleSkgICAgICAgICAgICBcblxuICAgIGRlZiBwcmVvcmRlcihzZWxmKTpcbiAgICAgICAgc2VsZi5fcHJlb3JkZXIoc2VsZixzZWxmLnJvb3QpXG5cbiAgICBkZWYgX3ByZW9yZGVyKHNlbGYsdHJlZSk6XG4gICAgICAgIGlmIHRyZWU6XG4gICAgICAgICAgICBwcmludCh0cmVlLmtleSkgICAgICAgICAgICBcbiAgICAgICAgICAgIHNlbGYuX3ByZW9yZGVyKHRyZWUubGVmdENoaWxkKVxuICAgICAgICAgICAgc2VsZi5fcHJlb3JkZXIodHJlZS5yaWdodENoaWxkKVxuXG4gICAgICAgICAgICAgICAgXG5jbGFzcyBUcmVlTm9kZTpcbiAgICBkZWYgX19pbml0X18oc2VsZixrZXksdmFsLGxlZnQ9Tm9uZSxyaWdodD1Ob25lLHBhcmVudD1Ob25lKTpcbiAgICAgICAgc2VsZi5rZXkgPSBrZXlcbiAgICAgICAgc2VsZi5wYXlsb2FkID0gdmFsXG4gICAgICAgIHNlbGYubGVmdENoaWxkID0gbGVmdFxuICAgICAgICBzZWxmLnJpZ2h0Q2hpbGQgPSByaWdodFxuICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudFxuICAgICAgICBzZWxmLmJhbGFuY2VGYWN0b3IgPSAwXG4gICAgICAgIFxuICAgIGRlZiBoYXNMZWZ0Q2hpbGQoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLmxlZnRDaGlsZFxuXG4gICAgZGVmIGhhc1JpZ2h0Q2hpbGQoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLnJpZ2h0Q2hpbGRcbiAgICBcbiAgICBkZWYgaXNMZWZ0Q2hpbGQoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLnBhcmVudCBhbmQgc2VsZi5wYXJlbnQubGVmdENoaWxkID09IHNlbGZcblxuICAgIGRlZiBpc1JpZ2h0Q2hpbGQoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLnBhcmVudCBhbmQgc2VsZi5wYXJlbnQucmlnaHRDaGlsZCA9PSBzZWxmXG5cbiAgICBkZWYgaXNSb290KHNlbGYpOlxuICAgICAgICByZXR1cm4gbm90IHNlbGYucGFyZW50XG5cbiAgICBkZWYgaXNMZWFmKHNlbGYpOlxuICAgICAgICByZXR1cm4gbm90IChzZWxmLnJpZ2h0Q2hpbGQgb3Igc2VsZi5sZWZ0Q2hpbGQpXG5cbiAgICBkZWYgaGFzQW55Q2hpbGRyZW4oc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLnJpZ2h0Q2hpbGQgb3Igc2VsZi5sZWZ0Q2hpbGRcblxuICAgIGRlZiBoYXNCb3RoQ2hpbGRyZW4oc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLnJpZ2h0Q2hpbGQgYW5kIHNlbGYubGVmdENoaWxkXG4gICAgXG4gICAgZGVmIHJlcGxhY2VOb2RlRGF0YShzZWxmLGtleSx2YWx1ZSxsYyxyYyk6XG4gICAgICAgIHNlbGYua2V5ID0ga2V5XG4gICAgICAgIHNlbGYucGF5bG9hZCA9IHZhbHVlXG4gICAgICAgIHNlbGYubGVmdENoaWxkID0gbGNcbiAgICAgICAgc2VsZi5yaWdodENoaWxkID0gcmNcbiAgICAgICAgaWYgc2VsZi5oYXNMZWZ0Q2hpbGQoKTpcbiAgICAgICAgICAgIHNlbGYubGVmdENoaWxkLnBhcmVudCA9IHNlbGZcbiAgICAgICAgaWYgc2VsZi5oYXNSaWdodENoaWxkKCk6XG4gICAgICAgICAgICBzZWxmLnJpZ2h0Q2hpbGQucGFyZW50ID0gc2VsZlxuICAgICAgICBcbiAgICBkZWYgZmluZFN1Y2Nlc3NvcihzZWxmKTpcbiAgICAgICAgc3VjYyA9IE5vbmVcbiAgICAgICAgaWYgc2VsZi5oYXNSaWdodENoaWxkKCk6XG4gICAgICAgICAgICBzdWNjID0gc2VsZi5yaWdodENoaWxkLmZpbmRNaW4oKVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgaWYgc2VsZi5wYXJlbnQ6XG4gICAgICAgICAgICAgICAgaWYgc2VsZi5pc0xlZnRDaGlsZCgpOlxuICAgICAgICAgICAgICAgICAgICBzdWNjID0gc2VsZi5wYXJlbnRcbiAgICAgICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhcmVudC5yaWdodENoaWxkID0gTm9uZVxuICAgICAgICAgICAgICAgICAgICBzdWNjID0gc2VsZi5wYXJlbnQuZmluZFN1Y2Nlc3NvcigpXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFyZW50LnJpZ2h0Q2hpbGQgPSBzZWxmXG4gICAgICAgIHJldHVybiBzdWNjXG5cblxuICAgIGRlZiBzcGxpY2VPdXQoc2VsZik6XG4gICAgICAgIGlmIHNlbGYuaXNMZWFmKCk6XG4gICAgICAgICAgICBpZiBzZWxmLmlzTGVmdENoaWxkKCk6XG4gICAgICAgICAgICAgICAgc2VsZi5wYXJlbnQubGVmdENoaWxkID0gTm9uZVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICBzZWxmLnBhcmVudC5yaWdodENoaWxkID0gTm9uZVxuICAgICAgICBlbGlmIHNlbGYuaGFzQW55Q2hpbGRyZW4oKTpcbiAgICAgICAgICAgIGlmIHNlbGYuaGFzTGVmdENoaWxkKCk6XG4gICAgICAgICAgICAgICAgaWYgc2VsZi5pc0xlZnRDaGlsZCgpOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhcmVudC5sZWZ0Q2hpbGQgPSBzZWxmLmxlZnRDaGlsZFxuICAgICAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFyZW50LnJpZ2h0Q2hpbGQgPSBzZWxmLmxlZnRDaGlsZFxuICAgICAgICAgICAgICAgIHNlbGYubGVmdENoaWxkLnBhcmVudCA9IHNlbGYucGFyZW50XG4gICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgIGlmIHNlbGYuaXNMZWZ0Q2hpbGQoKTpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXJlbnQubGVmdENoaWxkID0gc2VsZi5yaWdodENoaWxkXG4gICAgICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXJlbnQucmlnaHRDaGlsZCA9IHNlbGYucmlnaHRDaGlsZFxuICAgICAgICAgICAgICAgIHNlbGYucmlnaHRDaGlsZC5wYXJlbnQgPSBzZWxmLnBhcmVudFxuXG4gICAgZGVmIGZpbmRNaW4oc2VsZik6XG4gICAgICAgIGN1cnJlbnQgPSBzZWxmXG4gICAgICAgIHdoaWxlIGN1cnJlbnQuaGFzTGVmdENoaWxkKCk6XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5sZWZ0Q2hpbGRcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRcblxuICAgIGRlZiBfX2l0ZXJfXyhzZWxmKTpcbiAgICAgICAgXCJcIlwiVGhlIHN0YW5kYXJkIGlub3JkZXIgdHJhdmVyc2FsIG9mIGEgYmluYXJ5IHRyZWUuXCJcIlwiXG4gICAgICAgIGlmIHNlbGY6XG4gICAgICAgICAgICBpZiBzZWxmLmhhc0xlZnRDaGlsZCgpOlxuICAgICAgICAgICAgICAgIGZvciBlbGVtIGluIHNlbGYubGVmdENoaWxkOlxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBlbGVtXG4gICAgICAgICAgICB5aWVsZCBzZWxmLmtleVxuICAgICAgICAgICAgaWYgc2VsZi5oYXNSaWdodENoaWxkKCk6XG4gICAgICAgICAgICAgICAgZm9yIGVsZW0gaW4gc2VsZi5yaWdodENoaWxkOlxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBlbGVtXG5cbiAgICAgICAgICAgIFxuIiwKICAgICJzcmMvbGliL3F1b3ByaS5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJxdW9wcmkgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3JhbmRvbS5qcyI6CiAgICAgICd2YXIgTWVyc2VubmVUd2lzdGVyPWZ1bmN0aW9uKGEpe2E9PW51bGwmJihhPW5ldyBEYXRlKCkuZ2V0VGltZSgpKSx0aGlzLk49NjI0LHRoaXMuTT0zOTcsdGhpcy5NQVRSSVhfQT0yNTY3NDgzNjE1LHRoaXMuVVBQRVJfTUFTSz0yMTQ3NDgzNjQ4LHRoaXMuTE9XRVJfTUFTSz0yMTQ3NDgzNjQ3LHRoaXMubXQ9QXJyYXkodGhpcy5OKSx0aGlzLm10aT10aGlzLk4rMSx0aGlzLmluaXRfZ2VucmFuZChhKX07TWVyc2VubmVUd2lzdGVyLnByb3RvdHlwZS5pbml0X2dlbnJhbmQ9ZnVuY3Rpb24oYSl7Zm9yKHRoaXMubXRbMF09YT4+PjAsdGhpcy5tdGk9MTt0aGlzLm10aTx0aGlzLk47dGhpcy5tdGkrKyl7dmFyIGE9dGhpcy5tdFt0aGlzLm10aS0xXV50aGlzLm10W3RoaXMubXRpLTFdPj4+MzA7dGhpcy5tdFt0aGlzLm10aV09KDE4MTI0MzMyNTMqKCg0Mjk0OTAxNzYwJmEpPj4+MTYpPDwxNikrMTgxMjQzMzI1MyooNjU1MzUmYSkrdGhpcy5tdGksdGhpcy5tdFt0aGlzLm10aV0+Pj49MH19LE1lcnNlbm5lVHdpc3Rlci5wcm90b3R5cGUuaW5pdF9ieV9hcnJheT1mdW5jdGlvbihhLGIpe3ZhciBkLGUsZjtmb3IodGhpcy5pbml0X2dlbnJhbmQoMTk2NTAyMTgpLGQ9MSxlPTAsZj10aGlzLk4+Yj90aGlzLk46YjtmO2YtLSl7dmFyIGc9dGhpcy5tdFtkLTFdXnRoaXMubXRbZC0xXT4+PjMwO3RoaXMubXRbZF09KHRoaXMubXRbZF1eKDE2NjQ1MjUqKCg0Mjk0OTAxNzYwJmcpPj4+MTYpPDwxNikrMTY2NDUyNSooNjU1MzUmZykpK2FbZV0rZSx0aGlzLm10W2RdPj4+PTAsZCsrLGUrKyxkPj10aGlzLk4mJih0aGlzLm10WzBdPXRoaXMubXRbdGhpcy5OLTFdLGQ9MSksZT49YiYmKGU9MCl9Zm9yKGY9dGhpcy5OLTE7ZjtmLS0pe3ZhciBnPXRoaXMubXRbZC0xXV50aGlzLm10W2QtMV0+Pj4zMDt0aGlzLm10W2RdPSh0aGlzLm10W2RdXigxNTY2MDgzOTQxKigoNDI5NDkwMTc2MCZnKT4+PjE2KTw8MTYpKzE1NjYwODM5NDEqKDY1NTM1JmcpKS1kLHRoaXMubXRbZF0+Pj49MCxkKyssZD49dGhpcy5OJiYodGhpcy5tdFswXT10aGlzLm10W3RoaXMuTi0xXSxkPTEpfXRoaXMubXRbMF09MjE0NzQ4MzY0OH0sTWVyc2VubmVUd2lzdGVyLnByb3RvdHlwZS5nZW5yYW5kX2ludDMyPWZ1bmN0aW9uKCl7dmFyIGEsYj1bMCx0aGlzLk1BVFJJWF9BXTtpZih0aGlzLm10aT49dGhpcy5OKXt2YXIgZDtmb3IodGhpcy5tdGk9PXRoaXMuTisxJiZ0aGlzLmluaXRfZ2VucmFuZCg1NDg5KSxkPTA7ZDx0aGlzLk4tdGhpcy5NO2QrKylhPXRoaXMubXRbZF0mdGhpcy5VUFBFUl9NQVNLfHRoaXMubXRbZCsxXSZ0aGlzLkxPV0VSX01BU0ssdGhpcy5tdFtkXT10aGlzLm10W2QrdGhpcy5NXV5hPj4+MV5iWzEmYV07Zm9yKDtkPHRoaXMuTi0xO2QrKylhPXRoaXMubXRbZF0mdGhpcy5VUFBFUl9NQVNLfHRoaXMubXRbZCsxXSZ0aGlzLkxPV0VSX01BU0ssdGhpcy5tdFtkXT10aGlzLm10W2QrKHRoaXMuTS10aGlzLk4pXV5hPj4+MV5iWzEmYV07YT10aGlzLm10W3RoaXMuTi0xXSZ0aGlzLlVQUEVSX01BU0t8dGhpcy5tdFswXSZ0aGlzLkxPV0VSX01BU0ssdGhpcy5tdFt0aGlzLk4tMV09dGhpcy5tdFt0aGlzLk0tMV1eYT4+PjFeYlsxJmFdLHRoaXMubXRpPTB9cmV0dXJuIGE9dGhpcy5tdFt0aGlzLm10aSsrXSxhXj1hPj4+MTEsYV49MjYzNjkyODY0MCZhPDw3LGFePTQwMjI3MzA3NTImYTw8MTUsYV49YT4+PjE4LGE+Pj4wfSxNZXJzZW5uZVR3aXN0ZXIucHJvdG90eXBlLmdlbnJhbmRfaW50MzE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW5yYW5kX2ludDMyKCk+Pj4xfSxNZXJzZW5uZVR3aXN0ZXIucHJvdG90eXBlLmdlbnJhbmRfcmVhbDE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW5yYW5kX2ludDMyKCkqKDEvNDI5NDk2NzI5NSl9LE1lcnNlbm5lVHdpc3Rlci5wcm90b3R5cGUucmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VucmFuZF9pbnQzMigpKigxLzQyOTQ5NjcyOTYpfSxNZXJzZW5uZVR3aXN0ZXIucHJvdG90eXBlLmdlbnJhbmRfcmVhbDM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZW5yYW5kX2ludDMyKCkrLjUpKigxLzQyOTQ5NjcyOTYpfSxNZXJzZW5uZVR3aXN0ZXIucHJvdG90eXBlLmdlbnJhbmRfcmVzNTM9ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmdlbnJhbmRfaW50MzIoKT4+PjUsYT10aGlzLmdlbnJhbmRfaW50MzIoKT4+PjY7cmV0dXJuKDY3MTA4ODY0KmQrYSkqKDEvOTAwNzE5OTI1NDc0MDk5Mil9O3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBhPU1hdGgubG9nLGI9TWF0aC5zcXJ0LGQ9e30sZT1uZXcgTWVyc2VubmVUd2lzdGVyLGY9dm9pZCAwO2Quc2VlZD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzZWVkIixhcmd1bWVudHMubGVuZ3RoLDAsMSksYT1Tay5idWlsdGluLmFzbnVtJChhKSxlPTA8YXJndW1lbnRzLmxlbmd0aD9uZXcgTWVyc2VubmVUd2lzdGVyKGEpOm5ldyBNZXJzZW5uZVR3aXN0ZXIsU2suYnVpbHRpbi5ub25lLm5vbmUkfSksZC5yYW5kb209bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJyYW5kb20iLGFyZ3VtZW50cy5sZW5ndGgsMCwwKSxuZXcgU2suYnVpbHRpbi5mbG9hdF8oZS5nZW5yYW5kX3JlczUzKCkpfSk7dmFyIGc9ZnVuY3Rpb24oYSl7cmV0dXJuIDB8YX0saD1mdW5jdGlvbihhLGIsZCl7dmFyIGYsaCxpO2lmKCFTay5idWlsdGluLmNoZWNrSW50KGEpKXRocm93IG5ldyBTay5idWlsdGluLlZhbHVlRXJyb3IoIm5vbi1pbnRlZ2VyIGZpcnN0IGFyZ3VtZW50IGZvciByYW5kcmFuZ2UoKSIpO2lmKHZvaWQgMD09PWIpcmV0dXJuIGk9ZyhlLmdlbnJhbmRfcmVzNTMoKSphKSxuZXcgU2suYnVpbHRpbi5pbnRfKGkpO2lmKCFTay5idWlsdGluLmNoZWNrSW50KGIpKXRocm93IG5ldyBTay5idWlsdGluLlZhbHVlRXJyb3IoIm5vbi1pbnRlZ2VyIHN0b3AgZm9yIHJhbmRyYW5nZSgpIik7aWYodm9pZCAwPT09ZCYmKGQ9MSksZj1iLWEsMT09ZCYmMDxmKXJldHVybiBpPWErZyhlLmdlbnJhbmRfcmVzNTMoKSpmKSxuZXcgU2suYnVpbHRpbi5pbnRfKGkpO2lmKDE9PWQpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVmFsdWVFcnJvcigiZW1wdHkgcmFuZ2UgZm9yIHJhbmRyYW5nZSgpICgiK2ErIiwgIitiKyIsICIrZisiKSIpO2lmKCFTay5idWlsdGluLmNoZWNrSW50KGQpKXRocm93IG5ldyBTay5idWlsdGluLlZhbHVlRXJyb3IoIm5vbi1pbnRlZ2VyIHN0ZXAgZm9yIHJhbmRyYW5nZSgpIik7aWYoMDxkKWg9ZygoZitkLTEpL2QpO2Vsc2UgaWYoMD5kKWg9ZygoZitkKzEpL2QpO2Vsc2UgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVmFsdWVFcnJvcigiemVybyBzdGVwIGZvciByYW5kcmFuZ2UoKSIpO2lmKDA+PWgpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVmFsdWVFcnJvcigiZW1wdHkgcmFuZ2UgZm9yIHJhbmRyYW5nZSgpIik7cmV0dXJuIGk9YStkKmcoZS5nZW5yYW5kX3JlczUzKCkqaCksbmV3IFNrLmJ1aWx0aW4uaW50XyhpKX07ZC5yYW5kaW50PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oZCxlKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigicmFuZGludCIsYXJndW1lbnRzLmxlbmd0aCwyLDIpLGQ9U2suYnVpbHRpbi5hc251bSQoZCksZT1Tay5idWlsdGluLmFzbnVtJChlKSxoKGQsZSsxKX0pLGQucmFuZHJhbmdlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGQpe3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJyYW5kcmFuZ2UiLGFyZ3VtZW50cy5sZW5ndGgsMSwzKSxhPVNrLmJ1aWx0aW4uYXNudW0kKGEpLGI9U2suYnVpbHRpbi5hc251bSQoYiksZD1Tay5idWlsdGluLmFzbnVtJChkKSxoKGEsYixkKX0pLGQudW5pZm9ybT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGQsZil7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigidW5pZm9ybSIsYXJndW1lbnRzLmxlbmd0aCwyLDIpLGQ9U2suYnVpbHRpbi5hc251bSQoZCksZj1Tay5idWlsdGluLmFzbnVtJChmKTt2YXIgZz1lLmdlbnJhbmRfcmVzNTMoKTtyZXR1cm4gYz1kK2cqKGYtZCksbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGMpfSksZC50cmlhbmd1bGFyPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxkLGYpe1NrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInRyaWFuZ3VsYXIiLGFyZ3VtZW50cy5sZW5ndGgsMiwzKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJsb3ciLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoImhpZ2giLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoZCkpO3ZhciBnLGgsaTtyZXR1cm4gYT1Tay5idWlsdGluLmFzbnVtJChhKSxkPVNrLmJ1aWx0aW4uYXNudW0kKGQpLGE+ZCYmKGk9YSxhPWQsZD1pKSx2b2lkIDA9PT1mfHxmIGluc3RhbmNlb2YgU2suYnVpbHRpbi5ub25lP2Y9KGQtYSkvMjooU2suYnVpbHRpbi5weUNoZWNrVHlwZSgibW9kZSIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihmKSksZj1Tay5idWlsdGluLmFzbnVtJChmKSksZz1lLmdlbnJhbmRfcmVzNTMoKSxoPWc8KGYtYSkvKGQtYSk/YStiKGcqKGQtYSkqKGYtYSkpOmQtYigoMS1nKSooZC1hKSooZC1mKSksbmV3IFNrLmJ1aWx0aW4uZmxvYXRfKGgpfSk7dmFyIGk9ZnVuY3Rpb24oZCxnKXt2YXIgayxsLG0sbixvLGg9TWF0aC5zaW4saT1NYXRoLmNvcyxqPU1hdGguUEk7cmV0dXJuIHZvaWQgMD09PWY/KGs9ZS5nZW5yYW5kX3JlczUzKCksbD1lLmdlbnJhbmRfcmVzNTMoKSxtPWIoLTIqYShrKSksbj0yKmoqbCxvPW0qaShuKSxmPW0qaChuKSk6KG89ZixmPXZvaWQgMCksZCtnKm99O3JldHVybiBkLmdhdXNzPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXtyZXR1cm4gU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiZ2F1c3MiLGFyZ3VtZW50cy5sZW5ndGgsMiwyKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJtdSIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgic2lnbWEiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYikpLGE9U2suYnVpbHRpbi5hc251bSQoYSksYj1Tay5idWlsdGluLmFzbnVtJChiKSxuZXcgU2suYnVpbHRpbi5mbG9hdF8oaShhLGIpKX0pLGQubm9ybWFsdmFyaWF0ZT1kLmdhdXNzLGQubG9nbm9ybXZhcmlhdGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBkPU1hdGguZXhwO3JldHVybiBTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJsb2dub3JtdmFyaWF0ZSIsYXJndW1lbnRzLmxlbmd0aCwyLDIpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoIm11IiwibnVtYmVyIixTay5idWlsdGluLmNoZWNrTnVtYmVyKGEpKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJzaWdtYSIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihiKSksYT1Tay5idWlsdGluLmFzbnVtJChhKSxiPVNrLmJ1aWx0aW4uYXNudW0kKGIpLG5ldyBTay5idWlsdGluLmZsb2F0XyhkKGkoYSxiKSkpfSksZC5leHBvdmFyaWF0ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGIpe1NrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImV4cG92YXJpYXRlIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgibGFtYmQiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYikpLGI9U2suYnVpbHRpbi5hc251bSQoYik7dmFyIGQ9ZS5nZW5yYW5kX3JlczUzKCk7cmV0dXJuIG5ldyBTay5idWlsdGluLmZsb2F0XygtYShkKS9iKX0pLGQuY2hvaWNlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7aWYoU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigiY2hvaWNlIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgic2VxIiwic2VxdWVuY2UiLFNrLmJ1aWx0aW4uY2hlY2tTZXF1ZW5jZShhKSksdm9pZCAwIT09YS5zcSRsZW5ndGgpe3ZhciBiPWcoZS5nZW5yYW5kX3JlczUzKCkqYS5zcSRsZW5ndGgoKSk7cmV0dXJuIGEubXAkc3Vic2NyaXB0KGIpfXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigib2JqZWN0IGhhcyBubyBsZW5ndGgiKX0pLGQuc2h1ZmZsZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInNodWZmbGUiLGFyZ3VtZW50cy5sZW5ndGgsMSwxKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJ4Iiwic2VxdWVuY2UiLFNrLmJ1aWx0aW4uY2hlY2tTZXF1ZW5jZShhKSksdm9pZCAwPT09YS5zcSRsZW5ndGgpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJvYmplY3QgaGFzIG5vIGxlbmd0aCIpO2Vsc2UgaWYodm9pZCAwIT09YS5tcCRhc3Nfc3Vic2NyaXB0KWZvcih2YXIgYj1hLnNxJGxlbmd0aCgpLTE7MDxiO2ItPTEpe3ZhciBkPWcoZS5nZW5yYW5kX3JlczUzKCkqKGIrMSkpLGY9YS5tcCRzdWJzY3JpcHQoZCk7YS5tcCRhc3Nfc3Vic2NyaXB0KGQsYS5tcCRzdWJzY3JpcHQoYikpLGEubXAkYXNzX3N1YnNjcmlwdChiLGYpfWVsc2UgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJvYmplY3QgaXMgaW1tdXRhYmxlIik7cmV0dXJuIFNrLmJ1aWx0aW4ubm9uZS5ub25lJH0pLGQuc2FtcGxlPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXt2YXIgZixnLGgsbCxtLGQ9TWF0aC5mbG9vcjtmb3IoU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigic2FtcGxlIixhcmd1bWVudHMubGVuZ3RoLDIsMiksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgicG9wdWxhdGlvbiIsIml0ZXJhYmxlIixTay5idWlsdGluLmNoZWNrSXRlcmFibGUoYSkpLFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoImsiLCJpbnRlZ2VyIixTay5idWlsdGluLmNoZWNrSW50KGIpKSxiPVNrLmJ1aWx0aW4uYXNudW0kKGIpLG09W10saD1Tay5hYnN0ci5pdGVyKGEpLChmPTAsbD1oLnRwJGl0ZXJuZXh0KCkpO3ZvaWQgMCE9PWw7ZisrLGw9aC50cCRpdGVybmV4dCgpKWc9ZChlLmdlbnJhbmRfcmVzNTMoKSooZisxKSksZjxiPyhnPGYmJihtW2ZdPW1bZ10pLG1bZ109bCk6ZzxiJiYobVtnXT1sKTtpZihmPGIpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVmFsdWVFcnJvcigic2FtcGxlIGxhcmdlciB0aGFuIHBvcHVsYXRpb24iKTtyZXR1cm4gU2suYnVpbHRpbi5saXN0KG0pfSksZH07JywKICAgICJzcmMvbGliL3JlLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbihuYW1lKXt2YXIgdmFsaWRHcm91cHMsY29udmVydCxnZXRGbGFncyxfc3BsaXQsX2ZpbmRhbGwsbWF0Y2hvYmosX3NlYXJjaCxfbWF0Y2gscmVnZXhvYmosbW9kPXt9O3JldHVybiBtb2QuST0yLG1vZC5JR05PUkVDQVNFPTIsbW9kLk09OCxtb2QuTVVMVElMSU5FPTgsdmFsaWRHcm91cHM9WyIoPzoiLCIoPz0iLCIoPyEiXSxjb252ZXJ0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtpZihjPWEubWF0Y2goL1xcKFxcPy4vZyksYylmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKC0xPT12YWxpZEdyb3Vwcy5pbmRleE9mKGNbZF0pKXRocm93IG5ldyBTay5idWlsdGluLlZhbHVlRXJyb3IoIkRpc2FsbG93ZWQgZ3JvdXAgaW4gcGF0dGVybjogXCciK2NbZF0rIlwnIik7cmV0dXJuIGI9YS5yZXBsYWNlKCIvXFxcXC9nIiwiXFxcXFxcXFwiKSxiPWEucmVwbGFjZSgvKFteXFxcXF0peywoPyFbXlxcW10qXFxdKS9nLCIkMXswLCIpLGJ9LGdldEZsYWdzPWZ1bmN0aW9uKGEpe3ZhciBiPSJnIjtyZXR1cm4oYSZtb2QuSUdOT1JFQ0FTRSk9PW1vZC5JR05PUkVDQVNFJiYoYis9ImkiKSwoYSZtb2QuTVVMVElMSU5FKT09bW9kLk1VTFRJTElORSYmKGIrPSJtIiksYn0sX3NwbGl0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaixrLGwsbTtpZihTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzcGxpdCIsYXJndW1lbnRzLmxlbmd0aCwyLDQpLCFTay5idWlsdGluLmNoZWNrU3RyaW5nKGEpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigicGF0dGVybiBtdXN0IGJlIGEgc3RyaW5nIik7aWYoIVNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoYikpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJzdHJpbmcgbXVzdCBiZSBhIHN0cmluZyIpO2lmKHZvaWQgMD09PWMmJihjPTApLCFTay5idWlsdGluLmNoZWNrTnVtYmVyKGMpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigibWF4c3BsaXQgbXVzdCBiZSBhIG51bWJlciIpO2lmKHZvaWQgMD09PWQmJihkPTApLCFTay5idWlsdGluLmNoZWNrTnVtYmVyKGQpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigiZmxhZ3MgbXVzdCBiZSBhIG51bWJlciIpO2ZvcihjPVNrLmJ1aWx0aW4uYXNudW0kKGMpLGU9U2suZmZpLnVud3JhcG8oYSksZj1Tay5mZmkudW53cmFwbyhiKSxlPWNvbnZlcnQoZSksZz1udWxsIT09ZS5tYXRjaCgvXlxcKC4qXFwpJC8pLGg9Z2V0RmxhZ3MoZCksaT1uZXcgUmVnRXhwKGUsaCksaj1bXSxrLGw9MCxtPTA7bnVsbCE9KGs9aS5leGVjKGYpKSYmay5pbmRleCE9PWkubGFzdEluZGV4JiYoai5wdXNoKG5ldyBTay5idWlsdGluLnN0cihmLnN1YnN0cmluZyhsLGsuaW5kZXgpKSksZyYmai5wdXNoKG5ldyBTay5idWlsdGluLnN0cihrWzBdKSksbD1pLmxhc3RJbmRleCxtKz0xLCEoYyYmbT49YykpOyk7cmV0dXJuIGoucHVzaChuZXcgU2suYnVpbHRpbi5zdHIoZi5zdWJzdHJpbmcobCkpKSxuZXcgU2suYnVpbHRpbi5saXN0KGopfSxfc3BsaXQuY29fdmFybmFtZXM9WyJwYXR0ZXJuIiwic3RyaW5nIiwibWF4c3BsaXQiLCJmbGFncyJdLF9zcGxpdC4kZGVmYXVsdHM9W25ldyBTay5idWlsdGluLmludF8oMCksbmV3IFNrLmJ1aWx0aW4uaW50XygwKV0sbW9kLnNwbGl0PW5ldyBTay5idWlsdGluLmZ1bmMoX3NwbGl0KSxfZmluZGFsbD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxqO2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImZpbmRhbGwiLGFyZ3VtZW50cy5sZW5ndGgsMiwzKSwhU2suYnVpbHRpbi5jaGVja1N0cmluZyhhKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoInBhdHRlcm4gbXVzdCBiZSBhIHN0cmluZyIpO2lmKCFTay5idWlsdGluLmNoZWNrU3RyaW5nKGIpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigic3RyaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZih2b2lkIDA9PT1jJiYoYz0wKSwhU2suYnVpbHRpbi5jaGVja051bWJlcihjKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoImZsYWdzIG11c3QgYmUgYSBudW1iZXIiKTtpZihkPVNrLmZmaS51bndyYXBvKGEpLGU9U2suZmZpLnVud3JhcG8oYiksZD1jb252ZXJ0KGQpLGY9Z2V0RmxhZ3MoYyksZz1uZXcgUmVnRXhwKGQsZiksZC5tYXRjaCgvXFwkLykpe3ZhciBrPW5ldyBSZWdFeHAoL1xcbiQvKTtlLm1hdGNoKGspJiYoZT1lLnNsaWNlKDAsLTEpKX1mb3IoaD1bXSxqO251bGwhPShqPWcuZXhlYyhlKSk7KXtpZigyPmoubGVuZ3RoKWgucHVzaChuZXcgU2suYnVpbHRpbi5zdHIoalswXSkpO2Vsc2UgaWYoMj09ai5sZW5ndGgpaC5wdXNoKG5ldyBTay5idWlsdGluLnN0cihqWzFdKSk7ZWxzZXtmb3IodmFyIGw9W10sbT0xO208ai5sZW5ndGg7bSsrKWwucHVzaChuZXcgU2suYnVpbHRpbi5zdHIoalttXSkpO2gucHVzaChuZXcgU2suYnVpbHRpbi50dXBsZShsKSl9ai5pbmRleD09PWcubGFzdEluZGV4JiYoZy5sYXN0SW5kZXgrPTEpfXJldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KGgpfSxfZmluZGFsbC5jb192YXJuYW1lcz1bInBhdHRlcm4iLCJzdHJpbmciLCJmbGFncyJdLF9maW5kYWxsLiRkZWZhdWx0cz1bbmV3IFNrLmJ1aWx0aW4uaW50XygwKV0sbW9kLmZpbmRhbGw9bmV3IFNrLmJ1aWx0aW4uZnVuYyhfZmluZGFsbCksbWF0Y2hvYmo9ZnVuY3Rpb24oYSxiKXtiLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCl7YS50aGVtYXRjaD1iLGEucmU9YyxhLnN0cmluZz1kfSksYi5ncm91cHM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj1hLnRoZW1hdGNoLnYuc2xpY2UoMSk7cmV0dXJuIG5ldyBTay5idWlsdGluLnR1cGxlKGIpfSksYi5ncm91cD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7aWYoYj12b2lkIDA9PT1iPzA6U2suYnVpbHRpbi5hc251bSQoYiksYj49YS50aGVtYXRjaC52Lmxlbmd0aCl0aHJvdyBuZXcgU2suYnVpbHRpbi5JbmRleEVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2U6ICIrYik7cmV0dXJuIGEudGhlbWF0Y2gudltiXX0pfSxtb2QuTWF0Y2hPYmplY3Q9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhtb2QsbWF0Y2hvYmosIk1hdGNoT2JqZWN0IixbXSksbW9kLl9maW5kcmU9ZnVuY3Rpb24ocmVzLHN0cmluZyl7cmVzPXJlcy5yZXBsYWNlKC8oW15cXFxcXSl7LCg/IVteXFxbXSpcXF0pL2csIiQxezAsIik7dmFyIG1hdGNoZXMsc2l0ZW0scmV0dmFsLHJlPWV2YWwocmVzKSxwYXR0PS9cXG4kLyxzdHI9U2suZmZpLnJlbWFwVG9KcyhzdHJpbmcpO2lmKG1hdGNoZXM9c3RyLm1hdGNoKHBhdHQpP3N0ci5zbGljZSgwLC0xKS5tYXRjaChyZSk6c3RyLm1hdGNoKHJlKSxyZXR2YWw9bmV3IFNrLmJ1aWx0aW4ubGlzdCxudWxsPT1tYXRjaGVzKXJldHVybiByZXR2YWw7Zm9yKHZhciBpPTA7aTxtYXRjaGVzLmxlbmd0aDsrK2kpc2l0ZW09bmV3IFNrLmJ1aWx0aW4uc3RyKG1hdGNoZXNbaV0pLHJldHZhbC52LnB1c2goc2l0ZW0pO3JldHVybiByZXR2YWx9LF9zZWFyY2g9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoU2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigic2VhcmNoIixhcmd1bWVudHMubGVuZ3RoLDIsMyksIVNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoYSkpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJwYXR0ZXJuIG11c3QgYmUgYSBzdHJpbmciKTtpZighU2suYnVpbHRpbi5jaGVja1N0cmluZyhiKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoInN0cmluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYodm9pZCAwPT09YyYmKGM9MCksIVNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYykpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJmbGFncyBtdXN0IGJlIGEgbnVtYmVyIik7cmV0dXJuKGU9Ii8iK2Eudi5yZXBsYWNlKC9cXC8vZywiXFxcXC8iKSsiLyIsbHN0PW1vZC5fZmluZHJlKGUsYiksMT5sc3Qudi5sZW5ndGgpP1NrLmJ1aWx0aW4ubm9uZS5ub25lJDooZD1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkobW9kLk1hdGNoT2JqZWN0LFtsc3QsYSxiXSksZCl9LF9zZWFyY2guY29fdmFybmFtZXM9WyJwYXR0ZXJuIiwic3RyaW5nIiwiZmxhZ3MiXSxfc2VhcmNoLiRkZWZhdWx0cz1bbmV3IFNrLmJ1aWx0aW4uaW50XygwKV0sbW9kLnNlYXJjaD1uZXcgU2suYnVpbHRpbi5mdW5jKF9zZWFyY2gpLF9tYXRjaD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJtYXRjaCIsYXJndW1lbnRzLmxlbmd0aCwyLDMpLCFTay5idWlsdGluLmNoZWNrU3RyaW5nKGEpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigicGF0dGVybiBtdXN0IGJlIGEgc3RyaW5nIik7aWYoIVNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoYikpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJzdHJpbmcgbXVzdCBiZSBhIHN0cmluZyIpO2lmKHZvaWQgMD09PWMmJihjPTApLCFTay5idWlsdGluLmNoZWNrTnVtYmVyKGMpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigiZmxhZ3MgbXVzdCBiZSBhIG51bWJlciIpO3JldHVybihwYXQ9U2suZmZpLnJlbWFwVG9KcyhhKSxlPSIvXiIrcGF0LnJlcGxhY2UoL1xcLy9nLCJcXFxcLyIpKyIvIixsc3Q9bW9kLl9maW5kcmUoZSxiKSwxPlNrLmZmaS5yZW1hcFRvSnMobHN0KS5sZW5ndGgpP1NrLmJ1aWx0aW4ubm9uZS5ub25lJDooZD1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkobW9kLk1hdGNoT2JqZWN0LFtsc3QsYSxiXSksZCl9LF9tYXRjaC5jb192YXJuYW1lcz1bInBhdHRlcm4iLCJzdHJpbmciLCJmbGFncyJdLF9tYXRjaC4kZGVmYXVsdHM9W25ldyBTay5idWlsdGluLmludF8oMCldLG1vZC5tYXRjaD1uZXcgU2suYnVpbHRpbi5mdW5jKF9tYXRjaCkscmVnZXhvYmo9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGg7Yi5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXthLnJlPWIsYS5mbGFncz12b2lkIDA9PT1jPzA6Y30pLGg9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXt2YXIgYj0icmUuY29tcGlsZShcJyIrU2suZmZpLnJlbWFwVG9QeShhLnJlKSsiXCcpIjtyZXR1cm4gU2suZmZpLnJlbWFwVG9QeShiLnN1YnN0cmluZygwLDIxMikpfSksYi5fX3N0cl9fPWgsYi5fX3JlcHJfXz1oLGM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVNrLmZmaS5yZW1hcFRvSnMoYSksZT1udWxsPT1iPzA6U2suZmZpLnJlbWFwVG9KcyhiKSxmPW51bGw9PWM/ZC5sZW5ndGg6U2suZmZpLnJlbWFwVG9KcyhjKTtyZXR1cm4iXiI9PWUmJihlPWQuaW5kZXhPZigiXFxuIikrMSksZj09U2suYnVpbHRpbi5ub25lLm5vbmUkJiYoZj1kLmxlbmd0aCksU2suZmZpLnJlbWFwVG9QeShkLnN1YnN0cmluZyhlLGYpKX0sZD1mdW5jdGlvbihhLGIsZCxlKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzZWFyY2giLGFyZ3VtZW50cy5sZW5ndGgsMiw0KTt2YXIgZj1jKGIsZCxlKTtyZXR1cm4gX3NlYXJjaChhLnJlLGYsYS5mbGFncyl9LGQuY29fdmFybmFtZXM9WyJzZWxmIiwic3RyaW5nIiwicG9zIiwiZW5kcG9zIl0sZC4kZGVmYXVsdHM9W25ldyBTay5idWlsdGluLmludF8oMCksU2suYnVpbHRpbi5ub25lLm5vbmUkXSxiLnNlYXJjaD1uZXcgU2suYnVpbHRpbi5mdW5jKGQpLGU9ZnVuY3Rpb24oYSxiLGQsZSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigibWF0Y2giLGFyZ3VtZW50cy5sZW5ndGgsMiw0KTt2YXIgZj1jKGIsZCxlKTtyZXR1cm4gX21hdGNoKGEucmUsZixhLmZsYWdzKX0sZS5jb192YXJuYW1lcz1bInNlbGYiLCJzdHJpbmciLCJwb3MiLCJlbmRwb3MiXSxlLiRkZWZhdWx0cz1bbmV3IFNrLmJ1aWx0aW4uaW50XygwKSxTay5idWlsdGluLm5vbmUubm9uZSRdLGIubWF0Y2g9bmV3IFNrLmJ1aWx0aW4uZnVuYyhlKSxmPWZ1bmN0aW9uKGEsYixjKXtpZihTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJzcGxpdCIsYXJndW1lbnRzLmxlbmd0aCwyLDMpLHZvaWQgMD09PWMmJihjPTApLCFTay5idWlsdGluLmNoZWNrSW50KGMpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigibWF4c3BsaXQgbXVzdCBiZSBhbiBpbnRlZ2VyIik7cmV0dXJuIF9zcGxpdChhLnJlLGIsYyxhLmZsYWdzKX0sZi5jb192YXJuYW1lcz1bInNlbGYiLCJzdHJpbmciLCJtYXhzcGxpdCJdLGYuJGRlZmF1bHRzPVtuZXcgU2suYnVpbHRpbi5pbnRfKDApXSxiLnNwbGl0PW5ldyBTay5idWlsdGluLmZ1bmMoZiksZz1mdW5jdGlvbihhLGIsZCxlKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJmaW5kYWxsIixhcmd1bWVudHMubGVuZ3RoLDIsNCk7dmFyIGY9YyhiLGQsZSk7cmV0dXJuIF9maW5kYWxsKGEucmUsZixhLmZsYWdzKX0sZy5jb192YXJuYW1lcz1bInNlbGYiLCJzdHJpbmciLCJwb3MiLCJlbmRwb3MiXSxnLiRkZWZhdWx0cz1bbmV3IFNrLmJ1aWx0aW4uaW50XygwKSxTay5idWlsdGluLm5vbmUubm9uZSRdLGIuZmluZGFsbD1uZXcgU2suYnVpbHRpbi5mdW5jKGcpfSxtb2QuUmVnZXhPYmplY3Q9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhtb2QscmVnZXhvYmosIlJlZ2V4T2JqZWN0IixbXSksbW9kLmNvbXBpbGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe3ZhciBjO2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImNvbXBpbGUiLGFyZ3VtZW50cy5sZW5ndGgsMSwyKSwhU2suYnVpbHRpbi5jaGVja1N0cmluZyhhKSl0aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoInBhdHRlcm4gbXVzdCBiZSBhIHN0cmluZyIpO2lmKHZvaWQgMD09PWImJihiPTApLCFTay5idWlsdGluLmNoZWNrTnVtYmVyKGIpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigiZmxhZ3MgbXVzdCBiZSBhIG51bWJlciIpO3JldHVybiBjPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShtb2QuUmVnZXhPYmplY3QsW2EsYl0pLGN9KSxtb2QucHVyZ2U9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe30pLG1vZH07JywKICAgICJzcmMvbGliL3JlcHIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicmVwciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvcmV4ZWMucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicmV4ZWMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3JmYzgyMi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJyZmM4MjIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3JsY29tcGxldGVyLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInJsY29tcGxldGVyIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9yb2JvdHBhcnNlci5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJyb2JvdHBhcnNlciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvcnVucHkucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicnVucHkgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NjaGVkLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNjaGVkIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9zZXRzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNldHMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NnbWxsaWIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigic2dtbGxpYiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc2hhLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNoYSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc2hlbHZlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNoZWx2ZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc2hsZXgucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigic2hsZXggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NodXRpbC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJzaHV0aWwgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NpZ25hbC5qcyI6CiAgICAgICd2YXIgJGJ1aWx0aW5tb2R1bGU9ZnVuY3Rpb24oKXt2YXIgYT17U0lHX0RGTDpuZXcgU2suYnVpbHRpbi5pbnRfKDApLFNJR19JR046bmV3IFNrLmJ1aWx0aW4uaW50XygxKSxDVFJMX0NfRVZFTlQ6bmV3IFNrLmJ1aWx0aW4uaW50XygwKSxDVFJMX0JSRUFLX0VWRU5UOm5ldyBTay5idWlsdGluLmludF8oMCksTlNJRzpuZXcgU2suYnVpbHRpbi5pbnRfKDIzKSxTSUdIVVA6bmV3IFNrLmJ1aWx0aW4uaW50XygxKSxTSUdOSU5UOm5ldyBTay5idWlsdGluLmludF8oMiksU0lHSUxMOm5ldyBTay5idWlsdGluLmludF8oNCksU0lHRlBFOm5ldyBTay5idWlsdGluLmludF8oOCksU0lHS0lMTDpuZXcgU2suYnVpbHRpbi5pbnRfKDkpLFNJR1NFR1Y6bmV3IFNrLmJ1aWx0aW4uaW50XygxMSksU0lHVEVSTTpuZXcgU2suYnVpbHRpbi5pbnRfKDE1KSxTSUdCUkVBSzpuZXcgU2suYnVpbHRpbi5pbnRfKDIxKSxTSUdBQlJUOm5ldyBTay5idWlsdGluLmludF8oMjIpLHBhdXNlOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJwYXVzZSIsYXJndW1lbnRzLmxlbmd0aCwwLDApO3ZhciBhPW5ldyBTay5taXNjZXZhbC5TdXNwZW5zaW9uO3JldHVybiBhLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBTay5idWlsdGluLm5vbmUubm9uZSR9LGEuZGF0YT17dHlwZToiU2sucHJvbWlzZSIscHJvbWlzZTpuZXcgUHJvbWlzZShmdW5jdGlvbihhKXtpZihudWxsIT1Tay5zaWduYWxzJiZTay5zaWduYWxzLmFkZEV2ZW50TGlzdGVuZXIpe2Z1bmN0aW9uIGIoKXtTay5zaWduYWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYiksYSgpfVNrLnNpZ25hbHMuYWRkRXZlbnRMaXN0ZW5lcihiKX1lbHNlIGNvbnNvbGUud2Fybigic2lnbmFsLnBhdXNlKCkgbm90IHN1cHBvcnRlZCIpLFNrLm1pc2NldmFsLnByaW50Xygic2lnbmFsLnBhdXNlKCkgbm90IHN1cHBvcnRlZCIpLGEoKX0pfSxhfSksc2lnbmFsOm5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXt0aHJvdyBuZXcgU2suYnVpbHRpbi5Ob3RJbXBsZW1lbnRlZEVycm9yKCJzaWduYWwuc2lnbmFsIGlzIG5vdCBzdXBwb3J0ZWQuIil9KX07cmV0dXJuIGF9OycsCiAgICAic3JjL2xpYi9zaXRlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNpdGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NtdHBkLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNtdHBkIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9zbXRwbGliLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNtdHBsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NuZGhkci5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJzbmRoZHIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NvY2tldC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJzb2NrZXQgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NxbGl0ZTMvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigic3FsaXRlMyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3JlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNyZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3JlX2NvbXBpbGUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigic3JlX2NvbXBpbGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3NyZV9jb25zdGFudHMucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigic3JlX2NvbnN0YW50cyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3JlX3BhcnNlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNyZV9wYXJzZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3NsLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInNzbCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3RhdC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJzdGF0IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9zdGF0dmZzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInN0YXR2ZnMgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3N0cmluZy5qcyI6CiAgICAgICd2YXIgJGJ1aWx0aW5tb2R1bGU9ZnVuY3Rpb24oKXt2YXIgYT17fTtyZXR1cm4gYS5hc2NpaV9sb3dlcmNhc2U9U2suYnVpbHRpbi5zdHIoImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IiksYS5hc2NpaV91cHBlcmNhc2U9U2suYnVpbHRpbi5zdHIoIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIiksYS5hc2NpaV9sZXR0ZXJzPVNrLmJ1aWx0aW4uc3RyKGEuYXNjaWlfbG93ZXJjYXNlLnYrYS5hc2NpaV91cHBlcmNhc2UudiksYS5sb3dlcmNhc2U9U2suYnVpbHRpbi5zdHIoImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IiksYS51cHBlcmNhc2U9U2suYnVpbHRpbi5zdHIoIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIiksYS5sZXR0ZXJzPVNrLmJ1aWx0aW4uc3RyKGEubG93ZXJjYXNlLnYrYS51cHBlcmNhc2UudiksYS5kaWdpdHM9U2suYnVpbHRpbi5zdHIoIjAxMjM0NTY3ODkiKSxhLmhleGRpZ2l0cz1Tay5idWlsdGluLnN0cigiMDEyMzQ1Njc4OWFiY2RlZkFCQ0RFRiIpLGEub2N0ZGlnaXRzPVNrLmJ1aWx0aW4uc3RyKCIwMTIzNDU2NyIpLGEucHVuY3R1YXRpb249U2suYnVpbHRpbi5zdHIoIiFcXCIjJCUmXCcoKSorLC0uLzo7PD0+P0BbXFxcXF1eX2B7fH1+IiksYS53aGl0ZXNwYWNlPVNrLmJ1aWx0aW4uc3RyKCJcXHRcXG5cXHgwQlxcZlxcciAiKSxhLnByaW50YWJsZT1Tay5idWlsdGluLnN0cihhLmRpZ2l0cy52K2EubGV0dGVycy52K2EucHVuY3R1YXRpb24udisiIFxcdFxcblxcclxceDBCXFxmIiksYS5zcGxpdD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KFNrLmJ1aWx0aW4uc3RyLnByb3RvdHlwZS5zcGxpdCxbYSxiLGNdKX0pLGEuY2FwaXRhbGl6ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoU2suYnVpbHRpbi5zdHIucHJvdG90eXBlLmNhcGl0YWxpemUsW2FdKX0pLGEuam9pbj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMD09PWImJihiPVNrLmJ1aWx0aW4uc3RyKCIgIikpLFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShTay5idWlsdGluLnN0ci5wcm90b3R5cGUuam9pbixbYixhXSl9KSxhLmNhcHdvcmRzPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYixjKXtpZihTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJjYXB3b3JkcyIsYXJndW1lbnRzLmxlbmd0aCwxLDIpLCFTay5idWlsdGluLmNoZWNrU3RyaW5nKGIpKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigicyBtdXN0IGJlIGEgc3RyaW5nIik7aWYodm9pZCAwPT09YyYmKGM9U2suYnVpbHRpbi5zdHIoIiAiKSksIVNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoYykpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJzZXAgbXVzdCBiZSBhIHN0cmluZyIpO2Zvcih2YXIgZD1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYS5zcGxpdCxbYixjXSksZT1bXSxmPTA7ZjxkLnYubGVuZ3RoO2YrKyl7dmFyIGc9U2suYnVpbHRpbi5saXN0LnByb3RvdHlwZS5saXN0X3N1YnNjcmlwdF8uY2FsbChkLGYpLGg9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGEuY2FwaXRhbGl6ZSxbZ10pO2UucHVzaChoKX1yZXR1cm4gU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGEuam9pbixbbmV3IFNrLmJ1aWx0aW4ubGlzdChlKSxjXSl9KSxhfTsnLAogICAgInNyYy9saWIvc3RyaW5nLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInN0cmluZyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3RyaW5nb2xkLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInN0cmluZ29sZCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3RyaW5ncHJlcC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJzdHJpbmdwcmVwIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9zdHJ1Y3QucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigic3RydWN0IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9zdWJwcm9jZXNzLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInN1YnByb2Nlc3MgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3N1bmF1LnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInN1bmF1IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi9zdW5hdWRpby5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJzdW5hdWRpbyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3ltYm9sLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInN5bWJvbCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvc3ltdGFibGUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigic3ltdGFibGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3RhYm5hbm55LnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInRhYm5hbm55IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90YXJmaWxlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInRhcmZpbGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3RlbG5ldGxpYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0ZWxuZXRsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3RlbXBmaWxlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInRlbXBmaWxlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90ZXN0L19faW5pdF9fLnB5IjoKICAgICAgIl9fYXV0aG9yX18gPSAnYm1pbGxlcidcblxuZGVmIHRlc3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkKTpcbiAgICBpZiB0eXBlKGV4cGVjdGVkKSA9PSB0eXBlKDEpOlxuICAgICAgICBpZiBhY3R1YWwgPT0gZXhwZWN0ZWQ6XG4gICAgICAgICAgICBwcmludCgnUGFzcycpXG4gICAgICAgICAgICByZXR1cm4gVHJ1ZVxuICAgIGVsaWYgdHlwZShleHBlY3RlZCkgPT0gdHlwZSgxLjExKTpcbiAgICAgICAgaWYgYWJzKGFjdHVhbC1leHBlY3RlZCkgPCAwLjAwMDAxOlxuICAgICAgICAgICAgcHJpbnQoJ1Bhc3MnKVxuICAgICAgICAgICAgcmV0dXJuIFRydWVcbiAgICBlbHNlOlxuICAgICAgICBpZiBhY3R1YWwgPT0gZXhwZWN0ZWQ6XG4gICAgICAgICAgICBwcmludCgnUGFzcycpXG4gICAgICAgICAgICByZXR1cm4gVHJ1ZVxuICAgIHByaW50KCdUZXN0IEZhaWxlZDogZXhwZWN0ZWQgJyArIHN0cihleHBlY3RlZCkgKyAnIGJ1dCBnb3QgJyArIHN0cihhY3R1YWwpKVxuICAgIHJldHVybiBGYWxzZVxuXG5kZWYgdGVzdE5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpOlxuICAgIHBhc3NcblxuIiwKICAgICJzcmMvbGliL3Rlc3QvZGVjaW1hbHRlc3RkYXRhL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImRlY2ltYWx0ZXN0ZGF0YSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvdGVzdC90ZXN0X3N1cHBvcnQucHkiOgogICAgICAnIiIiU3VwcG9ydGluZyBkZWZpbml0aW9ucyBmb3IgdGhlIFB5dGhvbiByZWdyZXNzaW9uIHRlc3RzLiIiIlxuXG5pZiBfX25hbWVfXyAhPSBcJ3Rlc3QudGVzdF9zdXBwb3J0XCc6XG4gICAgcmFpc2UgSW1wb3J0RXJyb3IoXCd0ZXN0X3N1cHBvcnQgbXVzdCBiZSBpbXBvcnRlZCBmcm9tIHRoZSB0ZXN0IHBhY2thZ2VcJylcblxuaW1wb3J0IHVuaXR0ZXN0XG5cblxuIyBkZWYgcnVuX3VuaXR0ZXN0KCpjbGFzc2VzKTpcbiMgICAgICIiIlJ1biB0ZXN0cyBmcm9tIHVuaXR0ZXN0LlRlc3RDYXNlLWRlcml2ZWQgY2xhc3Nlcy4iIiJcbiMgICAgIHZhbGlkX3R5cGVzID0gKHVuaXR0ZXN0LlRlc3RTdWl0ZSwgdW5pdHRlc3QuVGVzdENhc2UpXG4jICAgICBzdWl0ZSA9IHVuaXR0ZXN0LlRlc3RTdWl0ZSgpXG4jICAgICBmb3IgY2xzIGluIGNsYXNzZXM6XG4jICAgICAgICAgaWYgaXNpbnN0YW5jZShjbHMsIHN0cik6XG4jICAgICAgICAgICAgIGlmIGNscyBpbiBzeXMubW9kdWxlczpcbiMgICAgICAgICAgICAgICAgIHN1aXRlLmFkZFRlc3QodW5pdHRlc3QuZmluZFRlc3RDYXNlcyhzeXMubW9kdWxlc1tjbHNdKSlcbiMgICAgICAgICAgICAgZWxzZTpcbiMgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInN0ciBhcmd1bWVudHMgbXVzdCBiZSBrZXlzIGluIHN5cy5tb2R1bGVzIilcbiMgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY2xzLCB2YWxpZF90eXBlcyk6XG4jICAgICAgICAgICAgIHN1aXRlLmFkZFRlc3QoY2xzKVxuIyAgICAgICAgIGVsc2U6XG4jICAgICAgICAgICAgIHN1aXRlLmFkZFRlc3QodW5pdHRlc3QubWFrZVN1aXRlKGNscykpXG4jICAgICBfcnVuX3N1aXRlKHN1aXRlKVxuXG5kZWYgcnVuX3VuaXR0ZXN0KCpjbGFzc2VzKTpcbiAgICAiIiJSdW4gdGVzdHMgZnJvbSB1bml0dGVzdC5UZXN0Q2FzZS1kZXJpdmVkIGNsYXNzZXMuIiIiXG4gICAgZm9yIGNscyBpbiBjbGFzc2VzOlxuICAgICAgICBwcmludCBjbHNcbiAgICAgICAgaWYgaXNzdWJjbGFzcyhjbHMsIHVuaXR0ZXN0LlRlc3RDYXNlKTpcbiAgICAgICAgICAgIGNscygpLm1haW4oKVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgcHJpbnQgIkRvblwndCBrbm93IHdoYXQgdG8gZG8gd2l0aCAiLCBjbHNcbicsCiAgICAic3JjL2xpYi90ZXh0d3JhcC5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0ZXh0d3JhcCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvdGhpcy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0aGlzIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90aHJlYWRpbmcucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidGhyZWFkaW5nIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90aW1lLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoIShhIGluc3RhbmNlb2YgbSkpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJSZXF1aXJlZCBhcmd1bWVudCBcJ3N0cnVjdF90aW1lXCcgbXVzdCBiZSBvZiB0eXBlOiBcJ3N0cnVjdF90aW1lXCciKTt2YXIgYixjPWEudi5sZW5ndGgsZD1hLnY7Zm9yKGI9MDtiPGM7KytiKWlmKCFTay5idWlsdGluLmNoZWNrSW50KGRbYl0pKXRocm93IG5ldyBTay5idWlsdGluLlR5cGVFcnJvcigic3RydWN0X3RpbWUgbWF5IG9ubHkgY29udGFpbiBpbnRlZ2VycyIpO3JldHVybiEwfWZ1bmN0aW9uIGIoYSxiLGQpe3ZhciBjPWEudG9TdHJpbmcoKTtyZXR1cm4gQXJyYXkoYi1jLmxlbmd0aCsxKS5qb2luKGR8fCIgIikrY31mdW5jdGlvbiBjKGEpe3JldHVybiAwPT0oMyZhKSYmKDAhPWElMTAwfHwwPT1hJTQwMCl9ZnVuY3Rpb24gZChhLGIpe2I9Ynx8ITE7dmFyIGQ9Yj9hLmdldFVUQ01vbnRoKCk6YS5nZXRNb250aCgpLGU9Yj9hLmdldFVUQ0RhdGUoKTphLmdldERhdGUoKSxmPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdW2RdK2U7cmV0dXJuIDE8ZCYmYyhiP2EuZ2V0VVRDRnVsbFllYXIoKTphLmdldEZ1bGxZZWFyKCkpJiZmKyssZn1mdW5jdGlvbiBlKCl7dmFyIGE9TWF0aC5tYXgsYj1uZXcgRGF0ZSgyMDAyLDAsMSksYz1uZXcgRGF0ZSgyMDAyLDYsMSk7cmV0dXJuIGEoYi5nZXRUaW1lem9uZU9mZnNldCgpLGMuZ2V0VGltZXpvbmVPZmZzZXQoKSl9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYS5nZXRUaW1lem9uZU9mZnNldCgpPGUoKX1mdW5jdGlvbiBnKGEpe3ZhciBiLGM9L1xcKCguKilcXCkvLmV4ZWMoYS50b1N0cmluZygpKTtpZihudWxsIT10aGlzLm5hdmlnYXRvciYmKGI9dGhpcy5uYXZpZ2F0b3IudXNlckxhbmd1YWdlfHx0aGlzLm5hdmlnYXRvci5sYW5ndWFnZSksYyYmMTxjLmxlbmd0aClyZXR1cm4gY1sxXTtpZih2b2lkIDA9PT1iKXJldHVybiBudWxsO3RyeXt2YXIgZD1hLnRvTG9jYWxlU3RyaW5nKGIse3RpbWVab25lTmFtZToic2hvcnQifSk7cmV0dXJuIGM9ZC5zcGxpdCgiICIpLGNbYy5sZW5ndGgtMV19Y2F0Y2goYSl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIGgoYSxiKXtyZXR1cm4gYj1ifHwhMSxuZXcgbShbU2suYnVpbHRpbi5hc3NrJChiP2EuZ2V0VVRDRnVsbFllYXIoKTphLmdldEZ1bGxZZWFyKCkpLFNrLmJ1aWx0aW4uYXNzayQoKGI/YS5nZXRVVENNb250aCgpOmEuZ2V0TW9udGgoKSkrMSksU2suYnVpbHRpbi5hc3NrJChiP2EuZ2V0VVRDRGF0ZSgpOmEuZ2V0RGF0ZSgpKSxTay5idWlsdGluLmFzc2skKGI/YS5nZXRVVENIb3VycygpOmEuZ2V0SG91cnMoKSksU2suYnVpbHRpbi5hc3NrJChiP2EuZ2V0VVRDTWludXRlcygpOmEuZ2V0TWludXRlcygpKSxTay5idWlsdGluLmFzc2skKGI/YS5nZXRVVENTZWNvbmRzKCk6YS5nZXRTZWNvbmRzKCkpLFNrLmJ1aWx0aW4uYXNzayQoKChiP2EuZ2V0VVRDRGF5KCk6YS5nZXREYXkoKSkrNiklNyksU2suYnVpbHRpbi5hc3NrJChkKGEsYikpLFNrLmJ1aWx0aW4uYXNzayQoYj8wOmYoYSk/MTowKV0pfWZ1bmN0aW9uIGkoYSl7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigibG9jYWx0aW1lIixhcmd1bWVudHMubGVuZ3RoLDAsMSk7dmFyIGI9bmV3IERhdGU7aWYoYSl7U2suYnVpbHRpbi5weUNoZWNrVHlwZSgic2VjcyIsIm51bWJlciIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSk7dmFyIGM9U2suYnVpbHRpbi5hc251bSQoYSk7Yi5zZXRUaW1lKDFlMypjKX1yZXR1cm4gaChiKX1mdW5jdGlvbiBqKGEpe2lmKCFhfHxTay5idWlsdGluLmNoZWNrTm9uZShhKT9hPWkoKTohKGEgaW5zdGFuY2VvZiBtKSYmKGE9bmV3IG0oYSkpLGEgaW5zdGFuY2VvZiBTay5idWlsdGluLnR1cGxlJiY5PT1hLnYubGVuZ3RoKXt2YXIgYz1bb1tTay5idWlsdGluLmFzbnVtJChhLnZbNl0pXSxuW1NrLmJ1aWx0aW4uYXNudW0kKGEudlsxXSktMV0sYihTay5idWlsdGluLmFzbnVtJChhLnZbMl0pLnRvU3RyaW5nKCksMiwiMCIpLGIoU2suYnVpbHRpbi5hc251bSQoYS52WzNdKS50b1N0cmluZygpLDIsIjAiKSsiOiIrYihTay5idWlsdGluLmFzbnVtJChhLnZbNF0pLnRvU3RyaW5nKCksMiwiMCIpKyI6IitiKFNrLmJ1aWx0aW4uYXNudW0kKGEudls1XSkudG9TdHJpbmcoKSwyLCIwIiksYihTay5idWlsdGluLmFzbnVtJChhLnZbMF0pLnRvU3RyaW5nKCksNCwiMCIpXTtyZXR1cm4gU2suYnVpbHRpbi5zdHIoYy5qb2luKCIgIikpfX1mdW5jdGlvbiBrKGEpe2lmKGEgaW5zdGFuY2VvZiBTay5idWlsdGluLnR1cGxlJiY5PT1hLnYubGVuZ3RoKXt2YXIgYj1uZXcgRGF0ZShTay5idWlsdGluLmFzbnVtJChhLnZbMF0pLFNrLmJ1aWx0aW4uYXNudW0kKGEudlsxXSktMSxTay5idWlsdGluLmFzbnVtJChhLnZbMl0pLFNrLmJ1aWx0aW4uYXNudW0kKGEudlszXSksU2suYnVpbHRpbi5hc251bSQoYS52WzRdKSxTay5idWlsdGluLmFzbnVtJChhLnZbNV0pKTtyZXR1cm4gU2suYnVpbHRpbi5hc3NrJChiLmdldFRpbWUoKS8xZTMsdm9pZCAwKX10aHJvdyBuZXcgU2suYnVpbHRpbi5UeXBlRXJyb3IoIm1rdGltZSgpIHJlcXVpcmVzIGEgc3RydWN0X3RpbWUgb3IgOS10dXBsZSIpfXZhciBsPXtfX2ZpbGVfXzoiL3NyYy9saWIvdGltZS9fX2luaXRfXy5qcyIsX19wYWNrYWdlX186U2suYnVpbHRpbi5ub25lLm5vbmUkfSxtPVNrLmJ1aWx0aW4ubWFrZV9zdHJ1Y3RzZXEoInRpbWUiLCJzdHJ1Y3RfdGltZSIse3RtX3llYXI6InllYXIsIGZvciBleGFtcGxlLCAxOTkzIix0bV9tb246Im1vbnRoIG9mIHllYXIsIHJhbmdlIFsxLCAxMl0iLHRtX21kYXk6ImRheSBvZiBtb250aCwgcmFuZ2UgWzEsIDMxXSIsdG1faG91cjoiaG91cnMsIHJhbmdlIFswLCAyM10iLHRtX21pbjoibWludXRlcywgcmFuZ2UgWzAsIDU5XSIsdG1fc2VjOiJzZWNvbmRzLCByYW5nZSBbMCwgNjFdIix0bV93ZGF5OiJkYXkgb2Ygd2VlaywgcmFuZ2UgWzAsIDZdLCBNb25kYXkgaXMgMCIsdG1feWRheToiZGF5IG9mIHllYXIsIHJhbmdlIFsxLCAzNjZdIix0bV9pc2RzdDoiMSBpZiBzdW1tZXIgdGltZSBpcyBpbiBlZmZlY3QsIDAgaWYgbm90LCBhbmQgLTEgaWYgdW5rbm93biJ9KTtsLnN0cnVjdF90aW1lPW0sbC50aW1lPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXtTay5idWlsdGluLnB5Q2hlY2tBcmdzTGVuKCJ0aW1lIixhcmd1bWVudHMubGVuZ3RoLDAsMCk7dmFyIGE9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5wZXJmb3JtYW5jZSYmdGhpcy5wZXJmb3JtYW5jZS5ub3cmJihhKz1wZXJmb3JtYW5jZS5ub3coKSUxKSxTay5idWlsdGluLmFzc2skKGEvMWUzLHZvaWQgMCl9KSxsLnNsZWVwPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7cmV0dXJuIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInNsZWVwIixhcmd1bWVudHMubGVuZ3RoLDEsMSksU2suYnVpbHRpbi5weUNoZWNrVHlwZSgiZGVsYXkiLCJmbG9hdCIsU2suYnVpbHRpbi5jaGVja051bWJlcihhKSksbmV3IFNrLm1pc2NldmFsLnByb21pc2VUb1N1c3BlbnNpb24obmV3IFByb21pc2UoZnVuY3Rpb24oYil7U2suc2V0VGltZW91dChmdW5jdGlvbigpe2IoU2suYnVpbHRpbi5ub25lLm5vbmUkKX0sMWUzKlNrLmZmaS5yZW1hcFRvSnMoYSkpfSkpfSksbC5sb2NhbHRpbWU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhpKSxsLmdtdGltZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe1NrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oImxvY2FsdGltZSIsYXJndW1lbnRzLmxlbmd0aCwwLDEpO3ZhciBiPW5ldyBEYXRlO2lmKGEpe1NrLmJ1aWx0aW4ucHlDaGVja1R5cGUoInNlY3MiLCJudW1iZXIiLFNrLmJ1aWx0aW4uY2hlY2tOdW1iZXIoYSkpO3ZhciBjPVNrLmJ1aWx0aW4uYXNudW0kKGEpO2Iuc2V0VGltZSgxZTMqYyl9cmV0dXJuIGgoYiwhMCl9KTt2YXIgbj1bIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLG89WyJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiLCJTdW4iXTtyZXR1cm4gbC5hc2N0aW1lPW5ldyBTay5idWlsdGluLmZ1bmMoaiksbC5jdGltZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3JldHVybiBqKGkoYSkpfSksbC5ta3RpbWU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhrKSxsLnRpbWV6b25lPW5ldyBTay5idWlsdGluLmludF8oNjAqZSgpKSxsLmFsdHpvbmU9bmV3IFNrLmJ1aWx0aW4uaW50Xyg2MCpmdW5jdGlvbigpe3ZhciBhPU1hdGgubWluLGI9bmV3IERhdGUoMjAwMiwwLDEpLGM9bmV3IERhdGUoMjAwMiw2LDEpO3JldHVybiBhKGIuZ2V0VGltZXpvbmVPZmZzZXQoKSxjLmdldFRpbWV6b25lT2Zmc2V0KCkpfSgpKSxsLmRheWxpZ2h0PW5ldyBTay5idWlsdGluLmludF8oZihuZXcgRGF0ZSk/MTowKSxsLnR6bmFtZT1Tay5idWlsdGluLnR1cGxlKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IERhdGUoMjAwMiwwLDEpLGI9bmV3IERhdGUoMjAwMiw2LDEpO3JldHVybiBmKGEpP1tTay5idWlsdGluLnN0cihnKGIpKSxTay5idWlsdGluLnN0cihnKGEpKV06W1NrLmJ1aWx0aW4uc3RyKGcoYSkpLFNrLmJ1aWx0aW4uc3RyKGcoYikpXX0oKSksbC5hY2NlcHQyZHllYXI9U2suYnVpbHRpbi5hc3NrJCgxLFNrLmJ1aWx0aW4ubm1iZXIuaW50JCksbC5jbG9jaz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gYT10aGlzLnBlcmZvcm1hbmNlJiZ0aGlzLnBlcmZvcm1hbmNlLm5vdz9wZXJmb3JtYW5jZS5ub3coKS8xZTM6bmV3IERhdGUoKS5nZXRUaW1lKCkvMWUzLG5ldyBTay5idWlsdGluLmZsb2F0XyhhKX0pLGwuc3RyZnRpbWU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGMpe3ZhciBkO2lmKFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oInN0cmZ0aW1lIixhcmd1bWVudHMubGVuZ3RoLDEsMiksIVNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoYikpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKCJmb3JtYXQgbXVzdCBiZSBhIHN0cmluZyIpO3JldHVybiBjPyEoYyBpbnN0YW5jZW9mIG0pJiYoYz1uZXcgbShjKSk6Yz1pKCksYShjKSxkPVNrLmZmaS5yZW1hcFRvSnMoYiksU2suZmZpLnJlbWFwVG9QeShzdHJmdGltZShkLG5ldyBEYXRlKDFlMyprKGMpLnYpKSl9KSxsLnR6c2V0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXt0aHJvdyBuZXcgU2suYnVpbHRpbi5Ob3RJbXBsZW1lbnRlZEVycm9yKCJ0aW1lLnR6c2V0KCkgaXMgbm90IHlldCBpbXBsZW1lbnRlZCIpfSksbC5zdHJwdGltZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7U2suYnVpbHRpbi5weUNoZWNrQXJnc0xlbigic3RycHRpbWUiLGFyZ3VtZW50cy5sZW5ndGgsMSwyKSxTay5idWlsdGluLnB5Q2hlY2tUeXBlKCJzdHJpbmciLCJzdHJpbmciLFNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoYSkpLHZvaWQgMD09PWI/Yj1uZXcgU2suYnVpbHRpbi5zdHIoIiVhICViICVkICVIOiVNOiVTICVZIik6U2suYnVpbHRpbi5weUNoZWNrVHlwZSgiZm9ybWF0Iiwic3RyaW5nIixTay5idWlsdGluLmNoZWNrU3RyaW5nKGIpKTtsZXQgYz1oKHN0cnB0aW1lKFNrLmZmaS5yZW1hcFRvSnMoYSksU2suZmZpLnJlbWFwVG9KcyhiKSwhMCkpO3JldHVybiBjLnZbOF09bmV3IFNrLmJ1aWx0aW4uaW50XygtMSksY30pLGx9OycsCiAgICAic3JjL2xpYi90aW1laXQucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidGltZWl0IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90b2FpZmYucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidG9haWZmIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90b2tlbi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ0b2tlbiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvdG9rZW5pemUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidG9rZW5pemUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3RyYWNlLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInRyYWNlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90cmFjZWJhY2sucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidHJhY2ViYWNrIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90dHkucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidHR5IGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi90dXJ0bGUuanMiOgogICAgICAndmFyICRidWlsdGlubW9kdWxlPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBlPWZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IoZT1Tay5UdXJ0bGVHcmFwaGljcyYmU2suVHVydGxlR3JhcGhpY3MudGFyZ2V0fHwidHVydGxlIix0PSJzdHJpbmciPT10eXBlb2YgZT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTplO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3JldHVybiB0fSgpO3JldHVybiBlLnR1cnRsZUluc3RhbmNlP2UudHVydGxlSW5zdGFuY2UucmVzZXQoKTplLnR1cnRsZUluc3RhbmNlPWZ1bmN0aW9uKGUpe3ZhciBOPU1hdGgucm91bmQsRz1NYXRoLm1heCxIPU1hdGguc3FydCxXPU1hdGgubWluLFY9TWF0aC5hYnMsSz1NYXRoLlBJLGo9TWF0aC5hdGFuMixKPU1hdGguc2luLFg9TWF0aC5jb3M7ZnVuY3Rpb24gdChlKXt2YXIgdD1lZS5hc3NldHMsbj0iZnVuY3Rpb24iPT10eXBlb2YgdD90KGUpOnRbZV07cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuP25ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7dmFyIGE9bmV3IEltYWdlO2Eub25sb2FkPWZ1bmN0aW9uKCl7ZWUuYXNzZXRzW2VdPXRoaXMsdChhKX0sYS5vbmVycm9yPWZ1bmN0aW9uKCl7cihuZXcgRXJyb3IoIk1pc3NpbmcgYXNzZXQ6ICIrbikpfSxhLnNyYz1ufSk6bmV3IHIodm9pZCAwLG4pfWZ1bmN0aW9uIHIoZSx0KXt0aGlzLmxhc3RSZXN1bHQ9dCx0aGlzLmxhc3RFcnJvcj1lfWZ1bmN0aW9uIG4oKXt0aGlzLnJlc2V0KCl9ZnVuY3Rpb24gYSgpe3JldHVybiBjZXx8KGNlPW5ldyBuKSxjZX1mdW5jdGlvbiBzKCl7dmFyIHQ9dGhpcztmb3IodmFyIHIgaW4gdGhpcy5fdGFyZ2V0PV8oKSx0aGlzLl9tYW5hZ2Vycz17fSx0aGlzLl9oYW5kbGVycz17bW91c2Vkb3duOmZ1bmN0aW9uKHIpe3Qub25FdmVudCgibW91c2Vkb3duIixyKX0sbW91c2V1cDpmdW5jdGlvbihyKXt0Lm9uRXZlbnQoIm1vdXNldXAiLHIpfSxtb3VzZW1vdmU6ZnVuY3Rpb24ocil7dC5vbkV2ZW50KCJtb3VzZW1vdmUiLHIpfX0sdGhpcy5faGFuZGxlcnMpdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIocix0aGlzLl9oYW5kbGVyc1tyXSl9ZnVuY3Rpb24gbChlLHQpe3RoaXMuX3R5cGU9ZSx0aGlzLl90YXJnZXQ9dCx0aGlzLl9oYW5kbGVycz12b2lkIDAsdSgpLmFkZE1hbmFnZXIoZSx0aGlzKX1mdW5jdGlvbiBpKCl7YSgpLmFkZFR1cnRsZSh0aGlzKSx0aGlzLl9zY3JlZW49YygpLHRoaXMuX21hbmFnZXJzPXt9LHRoaXMucmVzZXQoKX1mdW5jdGlvbiBvKCl7dmFyIGUsdDt0aGlzLl9mcmFtZXM9MSx0aGlzLl9kZWxheT12b2lkIDAsdGhpcy5fYmdjb2xvcj0ibm9uZSIsdGhpcy5fbW9kZT0ic3RhbmRhcmQiLHRoaXMuX21hbmFnZXJzPXt9LHRoaXMuX2tleUxvZ2dlcj17fSxlPShlZS53b3JsZFdpZHRofHxlZS53aWR0aHx8bSgpKS8yLHQ9KGVlLndvcmxkSGVpZ2h0fHxlZS5oZWlnaHR8fGcoKSkvMix0aGlzLnNldFVwV29ybGQoLWUsLXQsZSx0KX1mdW5jdGlvbiBkKCl7cmV0dXJuIHRlfHwodGU9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KG5lLlR1cnRsZSkpLHRlLmluc3RhbmNlfWZ1bmN0aW9uIF8oKXtyZXR1cm4gZX1mdW5jdGlvbiBjKCl7cmV0dXJuIFp8fChaPW5ldyBvKSxafWZ1bmN0aW9uIHUoKXtyZXR1cm4gcmV8fChyZT1uZXcgcykscmV9ZnVuY3Rpb24gbSgpe3JldHVybiAwfChaJiZaLl93aWR0aHx8ZWUud2lkdGh8fF8oKS5jbGllbnRXaWR0aHx8X2Uud2lkdGgpfWZ1bmN0aW9uIGcoKXtyZXR1cm4gMHwoWiYmWi5faGVpZ2h0fHxlZS5oZWlnaHR8fF8oKS5jbGllbnRIZWlnaHR8fF9lLmhlaWdodCl9ZnVuY3Rpb24gcChlLHQpe3ZhciByLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksYT1tKCkscz1nKCksbD1fKCkuZmlyc3RDaGlsZD8tcysicHgiOiIwIjtyZXR1cm4gbi53aWR0aD1hLG4uaGVpZ2h0PXMsbi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLG4uc3R5bGUuZGlzcGxheT0iYmxvY2siLG4uc3R5bGUuc2V0UHJvcGVydHkoIm1hcmdpbi10b3AiLGwpLG4uc3R5bGUuc2V0UHJvcGVydHkoInotaW5kZXgiLGUpLHQmJihuLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxfKCkuYXBwZW5kQ2hpbGQobikscj1uLmdldENvbnRleHQoIjJkIiksci5saW5lQ2FwPSJyb3VuZCIsci5saW5lSm9pbj0icm91bmQiLGgoYygpLHIpLHJ9ZnVuY3Rpb24gZigpe1kmJigod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUpKFkpLFk9dm9pZCAwKSxRJiYod2luZG93LmNsZWFyVGltZW91dChRKSxRPXZvaWQgMCl9ZnVuY3Rpb24gaChlLHQpe3ZhciByPWUubGx4LG49ZS5sbHksYT1lLnVyeCxzPWUudXJ5LGw9ZS54U2NhbGUsaT1lLnlTY2FsZTt0JiYodih0KSx0LnJlc3RvcmUoKSx0LnNhdmUoKSx0LnNjYWxlKDEvbCwxL2kpLDA9PT1uP3QudHJhbnNsYXRlKC1yLG4tKHMtbikpOjA8bj90LnRyYW5zbGF0ZSgtciwyKi1uKTp0LnRyYW5zbGF0ZSgtciwtcykpfWZ1bmN0aW9uICQoZSl7dmFyIHQscixuO2lmKGVlLmFsbG93VW5kbyYmZS5fYnVmZmVyU2l6ZSl7Zm9yKGUuX3VuZG9CdWZmZXJ8fChlLl91bmRvQnVmZmVyPVtdKTtlLl91bmRvQnVmZmVyLmxlbmd0aD5lLl9idWZmZXJTaXplOyllLl91bmRvQnVmZmVyLnNoaWZ0KCk7Zm9yKHI9e30sdD1bIngiLCJ5IiwiYW5nbGUiLCJyYWRpYW5zIiwiY29sb3IiLCJmaWxsIiwiZG93biIsImZpbGxpbmciLCJzaG93biIsInNoYXBlIiwic2l6ZSJdLG49MDtuPHQubGVuZ3RoO24rKylyW3Rbbl1dPWVbIl8iK3Rbbl1dO3JldHVybiBlLl91bmRvQnVmZmVyLnB1c2gociksZS5hZGRVcGRhdGUoZnVuY3Rpb24oKXtyLmZpbGxCdWZmZXI9dGhpcy5maWxsQnVmZmVyP3RoaXMuZmlsbEJ1ZmZlci5zbGljZSgpOnZvaWQgMCxlLl9wYXBlciYmZS5fcGFwZXIuY2FudmFzJiYoci5pbWFnZT1lLl9wYXBlci5jYW52YXMudG9EYXRhVVJMKCkpfSwhMSl9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ7aWYoZS5fYnVmZmVyU2l6ZSYmZS5fdW5kb0J1ZmZlciYmKHQ9ZS5fdW5kb0J1ZmZlci5wb3AoKSwhIXQpKXtmb3IodmFyIHIgaW4gdCkiaW1hZ2UiIT1yJiYiZmlsbEJ1ZmZlciIhPT1yJiYoZVsiXyIrcl09dFtyXSk7cmV0dXJuIGUuYWRkVXBkYXRlKGZ1bmN0aW9uKCl7dmFyIGU7dC5pbWFnZSYmKHVlLnNyYz10LmltYWdlLGU9dWUpLHYodGhpcy5jb250ZXh0KCksITEsdWUpLGRlbGV0ZSB0LmltYWdlfSwhMCx0KX19ZnVuY3Rpb24gYihlKXtlJiZlLmNhbnZhcyYmZS5jYW52YXMucGFyZW50Tm9kZSYmZS5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLmNhbnZhcyl9ZnVuY3Rpb24gdihlLHQscil7ZSYmKGUuc2F2ZSgpLGUuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSx0PyhlLmZpbGxTdHlsZT10LGUuZmlsbFJlY3QoMCwwLGUuY2FudmFzLndpZHRoLGUuY2FudmFzLmhlaWdodCkpOmUuY2xlYXJSZWN0KDAsMCxlLmNhbnZhcy53aWR0aCxlLmNhbnZhcy5oZWlnaHQpLHImJmUuZHJhd0ltYWdlKHIsMCwwKSxlLnJlc3RvcmUoKSl9ZnVuY3Rpb24gayhlLHQpe3ZhciByLG4sYSxzPWllW2Uuc2hhcGVdLGw9YygpLG89bSgpLGQ9ZygpLF89bC54U2NhbGUsdT1sLnlTY2FsZTtpZih0KXtpZihyPVgoZS5yYWRpYW5zKS9fLG49SihlLnJhZGlhbnMpL3UsYT1qKG4sciktSy8yLHQuc2F2ZSgpLHQudHJhbnNsYXRlKGUueCxlLnkpLHQuc2NhbGUoXyx1KSxzLm5vZGVOYW1lKXt2YXIgcD1zLm5hdHVyYWxXaWR0aCxmPXMubmF0dXJhbEhlaWdodDt0LmRyYXdJbWFnZShzLDAsMCxwLGYsLXAvMiwtZi8yLHAsZil9ZWxzZXt0LnJvdGF0ZShhKSx0LmJlZ2luUGF0aCgpLHQubGluZVdpZHRoPTEsdC5zdHJva2VTdHlsZT1lLmNvbG9yLHQuZmlsbFN0eWxlPWUuZmlsbCx0Lm1vdmVUbygtc1swXVswXSxzWzBdWzFdKTtmb3IodmFyIGg9MTtoPHMubGVuZ3RoO2grKyl0LmxpbmVUbygtc1toXVswXSxzW2hdWzFdKTt0LmNsb3NlUGF0aCgpLHQuZmlsbCgpLHQuc3Ryb2tlKCl9dC5yZXN0b3JlKCl9fWZ1bmN0aW9uIHgoZSx0KXt2YXIgcj10aGlzLmNvbnRleHQoKSxuPWMoKSxhPW4ueFNjYWxlLHM9bi55U2NhbGU7ciYmKHIuYmVnaW5QYXRoKCksci5tb3ZlVG8odGhpcy54LHRoaXMueSksZSo9VyhWKGEpLFYocykpLHIuYXJjKHRoaXMueCx0aGlzLnksZS8yLDAsaS5SQURJQU5TKSxyLmNsb3NlUGF0aCgpLHIuZmlsbFN0eWxlPXR8fHRoaXMuY29sb3Isci5maWxsKCkpfWZ1bmN0aW9uIFQoZSx0KXtyZXR1cm4gdCYmKG1lLmZvbnQ9dCksbWUubWVhc3VyZVRleHQoZSkud2lkdGh9ZnVuY3Rpb24gQShlLHQscil7dmFyIG49dGhpcy5jb250ZXh0KCk7biYmKG4uc2F2ZSgpLHImJihuLmZvbnQ9ciksdCYmdC5tYXRjaCgvXihsZWZ0fHJpZ2h0fGNlbnRlcikkLykmJihuLnRleHRBbGlnbj10KSxuLnNjYWxlKDEsLTEpLG4uZmlsbFN0eWxlPXRoaXMuZmlsbCxuLmZpbGxUZXh0KGUsdGhpcy54LC10aGlzLnkpLG4ucmVzdG9yZSgpKX1mdW5jdGlvbiBMKGUsdCl7dmFyIHI9dGhpcy5jb250ZXh0KCk7ciYmKHQmJihyLmJlZ2luUGF0aCgpLHIubW92ZVRvKHRoaXMueCx0aGlzLnkpKSxyLmxpbmVXaWR0aD10aGlzLnNpemUqYygpLmxpbmVTY2FsZSxyLnN0cm9rZVN0eWxlPXRoaXMuY29sb3Isci5saW5lVG8oZS54LGUueSksci5zdHJva2UoKSl9ZnVuY3Rpb24gUygpe3ZhciBlLHQ9dGhpcy5jb250ZXh0KCkscj10aGlzLmZpbGxCdWZmZXI7aWYodCYmciYmci5sZW5ndGgpe2Zvcih0LnNhdmUoKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKHJbMF0ueCxyWzBdLnkpLGU9MTtlPHIubGVuZ3RoO2UrKyl0LmxpbmVUbyhyW2VdLngscltlXS55KTtmb3IodC5jbG9zZVBhdGgoKSx0LmZpbGxTdHlsZT10aGlzLmZpbGwsdC5maWxsKCksZT0xO2U8ci5sZW5ndGg7ZSsrKXJbZV0uc3Ryb2tlJiYodC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhyW2UtMV0ueCxyW2UtMV0ueSksdC5saW5lV2lkdGg9cltlXS5zaXplKmMoKS5saW5lU2NhbGUsdC5zdHJva2VTdHlsZT1yW2VdLmNvbG9yLHQubGluZVRvKHJbZV0ueCxyW2VdLnkpLHQuc3Ryb2tlKCkpO3QucmVzdG9yZSgpfX1mdW5jdGlvbiBDKGUsdCxyLG4sYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYWRkVXBkYXRlKGZ1bmN0aW9uKGUpe3RoaXMuZG93biYmTC5jYWxsKHRoaXMsZSxuKX0sYSx7eDp0LHk6cn0sbil9fWZ1bmN0aW9uIFIoZSx0LG4scyxsLG8sZCl7dmFyIF8sdT1lLl9jb21wdXRlZF9zcGVlZCxtPWMoKSxnPVYobS54U2NhbGUpLHA9VihtLnlTY2FsZSksZj10LGg9biwkPUgocypzKmcrbCpsKnApLHc9dT9OKEcoMSwkL3UpKToxLGI9YSgpLndpbGxSZW5kZXJOZXh0KCk/UHJvbWlzZS5yZXNvbHZlKCk6bmV3IHI7Zm9yKGUuYWRkVXBkYXRlKGZ1bmN0aW9uKCl7dGhpcy5maWxsaW5nJiZ0aGlzLmZpbGxCdWZmZXIucHVzaCh7eDp0aGlzLngseTp0aGlzLnksc3Ryb2tlOnRoaXMuZG93bixjb2xvcjp0aGlzLmNvbG9yLHNpemU6dGhpcy5zaXplfSl9LCExKSxfPTA7Xzx3O18rKylmPXQrcy93KihfKzEpLGg9bitsL3cqKF8rMSksYj1iLnRoZW4oQyhlLGYsaCxvLHV8fCFkKSksbz0hMTtyZXR1cm4gYi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuW3QrcyxuK2xdfSl9ZnVuY3Rpb24gVShlLHQscixuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hZGRVcGRhdGUodm9pZCAwLG4se2FuZ2xlOnQscmFkaWFuczpyfSl9fWZ1bmN0aW9uIE0oZSx0LG4scyl7dmFyIGwsbz1lLl9jb21wdXRlZF9zcGVlZCxkPTM2MCoobi9lLl9mdWxsQ2lyY2xlKSxfPW8/TihHKDEsVihkKS9vKSk6MSxjPXt9LHU9YSgpLndpbGxSZW5kZXJOZXh0KCk/UHJvbWlzZS5yZXNvbHZlKCk6bmV3IHI7Zm9yKGw9MDtsPF87bCsrKU8oZSx0K24vXyoobCsxKSxjKSx1PXUudGhlbihVKGUsYy5hbmdsZSxjLnJhZGlhbnMsb3x8IXMpKTtyZXR1cm4gdS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIE8oZSx0K24pfSl9ZnVuY3Rpb24geihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1lJiYoZS55fHxlLl95fHxlWzFdKXx8MCxlPWUmJihlLnh8fGUuX3h8fGVbMF0pfHwwKSx7eDplLHk6dH19ZnVuY3Rpb24gSShlKXt2YXIgdCxyLG47cmV0dXJuKHQ9L15yZ2JhP1xcKChcXGQrKSwoXFxkKyksKFxcZCspKD86LChbLlxcZF0rKSk/XFwpJC8uZXhlYyhlKSk/KG49W3BhcnNlSW50KHRbMV0pLHBhcnNlSW50KHRbMl0pLHBhcnNlSW50KHRbM10pXSx0WzRdJiZuLnB1c2gocGFyc2VGbG9hdCh0WzRdKSkpOi9eIz9bYS1mXFxkXXszfXxbYS1mXFxkXXs2fSQvaS5leGVjKGUpPyg0PT09ZS5sZW5ndGgmJihlPWUucmVwbGFjZSgvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLGZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0K3QrcityK24rbn0pKSxyPS9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhlKSxuPVtwYXJzZUludChyWzFdLDE2KSxwYXJzZUludChyWzJdLDE2KSxwYXJzZUludChyWzNdLDE2KV0pOm49ZSxufWZ1bmN0aW9uIEIoZSx0LHIsbixzKXt2YXIgYTtpZih2b2lkIDAhPT1yJiYodD1bdCxyLG4sc10pLHQuY29uc3RydWN0b3I9PT1BcnJheSYmdC5sZW5ndGgpe2lmKDI1NT09PWUpe2ZvcihhPTA7Mz5hO2ErKylpZigibnVtYmVyIj09dHlwZW9mIHRbYV0pdFthXT1HKDAsVygyNTUscGFyc2VJbnQodFthXSkpKTtlbHNlIHRocm93IG5ldyBTay5idWlsdGluLlZhbHVlRXJyb3IoImJhZCBjb2xvciBzZXF1ZW5jZSIpO31lbHNlIGZvcihhPTA7Mz5hO2ErKylpZigibnVtYmVyIiE9dHlwZW9mIHRbYV0pdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVmFsdWVFcnJvcigiYmFkIGNvbG9yIHNlcXVlbmNlIik7ZWxzZSBpZigxPj10W2FdKXRbYV09RygwLFcoMjU1LHBhcnNlSW50KDI1NSp0W2FdKSkpO2Vsc2UgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVmFsdWVFcnJvcigiYmFkIGNvbG9yIHNlcXVlbmNlIik7Im51bWJlciI9PXR5cGVvZiB0W2FdPyh0WzNdPUcoMCxXKDEsdFthXSkpLHQ9InJnYmEoIit0LmpvaW4oIiwiKSsiKSIpOnQ9InJnYigiK3Quc2xpY2UoMCwzKS5qb2luKCIsIikrIikifWVsc2UgaWYoInN0cmluZyI9PXR5cGVvZiB0JiYhdC5tYXRjaCgvXFxzKnVybFxccypcXCgvaSkpdD10LnJlcGxhY2UoL1xccysvZywiIik7ZWxzZSByZXR1cm4iYmxhY2siO3JldHVybiB0fWZ1bmN0aW9uIE8oZSx0LHIpe3ZhciBuPWUuX2FuZ2xlfHwwLGE9ZS5fcmFkaWFuc3x8MDtyZXR1cm4gcnx8KHI9e30pLCJudW1iZXIiPT10eXBlb2YgdCYmKGUuX2lzUmFkaWFucz9uPWE9dCVpLlJBRElBTlM6ZS5fZnVsbENpcmNsZT8obj10JWUuX2Z1bGxDaXJjbGUsYT1uL2UuX2Z1bGxDaXJjbGUqaS5SQURJQU5TKTpuPWE9MCwwPm4mJihuKz1lLl9mdWxsQ2lyY2xlLGErPWkuUkFESUFOUykpLHIuYW5nbGU9bixyLnJhZGlhbnM9YSxyfWZ1bmN0aW9uIEUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLG49ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFNrLmZmaS5yZW1hcFRvUHkoZSl9KTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHQmJm4udW5zaGlmdCh0KSxTay5taXNjZXZhbC5hcHBseUFzeW5jKHZvaWQgMCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLG4pLmNhdGNoKFNrLnVuY2F1Z2h0RXhjZXB0aW9uKX19ZnVuY3Rpb24gRihlLHQsbixhKXt2YXIgcyxsPW4ucmVwbGFjZSgvXlxcJC8sIiIpLG89bC5yZXBsYWNlKC9fXFwkW2Etel0rXFwkJC9pLCIiKSxkPWUucHJvdG90eXBlW25dLmxlbmd0aCxfPWUucHJvdG90eXBlW25dLm1pbkFyZ3MsYz1lLnByb3RvdHlwZVtuXS5jb192YXJuYW1lc3x8W10sdT1lLnByb3RvdHlwZVtuXS5yZXR1cm5UeXBlLG09ZS5wcm90b3R5cGVbbl0uaXNTazt2b2lkIDA9PT1fJiYoXz1kKSxzPWZ1bmN0aW9uKCl7dmFyIGUsdCxzLGwsYyxnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxwPWE/YSgpOmcuc2hpZnQoKS5pbnN0YW5jZTtpZihnLmxlbmd0aDxffHxnLmxlbmd0aD5kKXRocm93IGM9Xz09PWQ/ImV4YWN0bHkgIitkOiJiZXR3ZWVuICIrXysiIGFuZCAiK2QsbmV3IFNrLmJ1aWx0aW4uVHlwZUVycm9yKG8rIigpIHRha2VzICIrYysiIHBvc2l0aW9uYWwgYXJndW1lbnQocykgKCIrZy5sZW5ndGgrIiBnaXZlbikiKTtmb3IoZT1nLmxlbmd0aDswPD0tLWU7KXZvaWQgMCE9PWdbZV0mJihnW2VdPWdbZV1pbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZnVuYz9FKGdbZV0pOmdbZV1pbnN0YW5jZW9mIFNrLmJ1aWx0aW4ubWV0aG9kP0UoZ1tlXS5pbV9mdW5jLGdbZV0uaW1fc2VsZik6Z1tlXSYmZ1tlXS4kZCBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZGljdCYmZ1tlXS5pbnN0YW5jZT9nW2VdLmluc3RhbmNlOlNrLmZmaS5yZW1hcFRvSnMoZ1tlXSkpO3ZhciBmPWcuc2xpY2UoKTtmb3IoZz1bXSxlPWYubGVuZ3RoOzA8PWU7LS1lKW51bGwhPT1mW2VdJiYoZ1tlXT1mW2VdKTt0cnl7dD1wW25dLmFwcGx5KHAsZyl9Y2F0Y2godCl7dGhyb3cgd2luZG93JiZ3aW5kb3cuY29uc29sZSYmKHdpbmRvdy5jb25zb2xlLmxvZygid3JhcHBlZCBtZXRob2QgZmFpbGVkIiksd2luZG93LmNvbnNvbGUubG9nKHQuc3RhY2spKSx0fXJldHVybiB0IGluc3RhbmNlb2YgciYmKHQ9dC5sYXN0UmVzdWx0KSx0IGluc3RhbmNlb2YgUHJvbWlzZT8odD10LmNhdGNoKGZ1bmN0aW9uKHQpe3Rocm93IHdpbmRvdyYmd2luZG93LmNvbnNvbGUmJih3aW5kb3cuY29uc29sZS5sb2coInByb21pc2UgZmFpbGVkIiksd2luZG93LmNvbnNvbGUubG9nKHQuc3RhY2spKSx0fSkscz1uZXcgU2subWlzY2V2YWwuU3VzcGVuc2lvbixzLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1sP1NrLmJ1aWx0aW4ubm9uZS5ub25lJDpTay5mZmkucmVtYXBUb1B5KGwpfSxzLmRhdGE9e3R5cGU6IlNrLnByb21pc2UiLHByb21pc2U6dC50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBsPWUsZX0pfSxzKTp2b2lkIDA9PT10P1NrLmJ1aWx0aW4ubm9uZS5ub25lJDptP3Q6ImZ1bmN0aW9uIj09dHlwZW9mIHU/dSh0KTpTay5mZmkucmVtYXBUb1B5KHQpfSxzLmNvX3Zhcm5hbWVzPWMuc2xpY2UoKSxzLiRkZWZhdWx0cz1bXTtmb3IodmFyIGc9XztnPGMubGVuZ3RoO2crKylzLiRkZWZhdWx0cy5wdXNoKFNrLmJ1aWx0aW4ubm9uZS5ub25lJCk7YXx8cy5jb192YXJuYW1lcy51bnNoaWZ0KCJzZWxmIiksdFtsXT1uZXcgU2suYnVpbHRpbi5mdW5jKHMpfWZ1bmN0aW9uIEQoZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihzZT0hIWUsc2U/XygpLmZvY3VzKCk6XygpLmJsdXIoKSksc2V9ZnVuY3Rpb24gUCgpe2ZvcihmKCksYygpLnJlc2V0KCksYSgpLnJlc2V0KCk7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7cmUmJnJlLnJlc2V0KCksYWU9MCxaPXZvaWQgMCx0ZT12b2lkIDAscmU9dm9pZCAwLG9lPTB9ZnVuY3Rpb24gcSgpe2YoKSxyZSYmcmUucmVzZXQoKSxhZT0wLFo9dm9pZCAwLHRlPXZvaWQgMCxyZT12b2lkIDAsb2U9MH12YXIgWSxRLFosZWUsdGUscmUsbmU9e30sYWU9MCxzZT0hMCxsZT0xZTMvMzAsaWU9e30sb2U9MCxkZT17fSxfZT17dGFyZ2V0OiJ0dXJ0bGUiLHdpZHRoOjQwMCxoZWlnaHQ6NDAwLHdvcmxkV2lkdGg6MCx3b3JsZEhlaWdodDowLGFuaW1hdGU6ITAsYnVmZmVyU2l6ZTowLGFsbG93VW5kbzohMCxhc3NldHM6e319O2UuaGFzQXR0cmlidXRlKCJ0YWJpbmRleCIpfHxlLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLDApLGRlLkZMT0FUPWZ1bmN0aW9uKGUpe3JldHVybiBTay5idWlsdGluLmZsb2F0XyhlKX0sZGUuQ09MT1I9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBuZXcgU2suYnVpbHRpbi5zdHIoZSk7Zm9yKHZhciB0PTA7Mz50O3QrKyllW3RdPVNrLmJ1aWx0aW4uYXNzayQoZVt0XSk7cmV0dXJuIDQ9PT1lLmxlbmd0aCYmKGVbM109U2suYnVpbHRpbi5mbG9hdF8oZVszXSkpLG5ldyBTay5idWlsdGluLnR1cGxlKGUpfSxkZS5UVVJUTEVfTElTVD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKXQucHVzaChlW3JdLnNrSW5zdGFuY2UpO3JldHVybiBuZXcgU2suYnVpbHRpbi50dXBsZSh0KX0saWUuYXJyb3c9W1stMTAsMF0sWzEwLDBdLFswLDEwXV0saWUuc3F1YXJlPVtbMTAsLTEwXSxbMTAsMTBdLFstMTAsMTBdLFstMTAsLTEwXV0saWUudHJpYW5nbGU9W1sxMCwtNS43N10sWzAsMTEuNTVdLFstMTAsLTUuNzddXSxpZS5jbGFzc2ljPVtbMCwwXSxbLTUsLTldLFswLC03XSxbNSwtOV1dLGllLnR1cnRsZT1bWzAsMTZdLFstMiwxNF0sWy0xLDEwXSxbLTQsN10sWy03LDldLFstOSw4XSxbLTYsNV0sWy03LDFdLFstNSwtM10sWy04LC02XSxbLTYsLThdLFstNCwtNV0sWzAsLTddLFs0LC01XSxbNiwtOF0sWzgsLTZdLFs1LC0zXSxbNywxXSxbNiw1XSxbOSw4XSxbNyw5XSxbNCw3XSxbMSwxMF0sWzIsMTRdXSxpZS5jaXJjbGU9W1sxMCwwXSxbOS41MSwzLjA5XSxbOC4wOSw1Ljg4XSxbNS44OCw4LjA5XSxbMy4wOSw5LjUxXSxbMCwxMF0sWy0zLjA5LDkuNTFdLFstNS44OCw4LjA5XSxbLTguMDksNS44OF0sWy05LjUxLDMuMDldLFstMTAsMF0sWy05LjUxLC0zLjA5XSxbLTguMDksLTUuODhdLFstNS44OCwtOC4wOV0sWy0zLjA5LC05LjUxXSxbLTAsLTEwXSxbMy4wOSwtOS41MV0sWzUuODgsLTguMDldLFs4LjA5LC01Ljg4XSxbOS41MSwtMy4wOV1dLGVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIFNrLlR1cnRsZUdyYXBoaWNzfHwoU2suVHVydGxlR3JhcGhpY3M9e30pLF9lKVNrLlR1cnRsZUdyYXBoaWNzLmhhc093blByb3BlcnR5KGUpfHwoU2suVHVydGxlR3JhcGhpY3NbZV09X2VbZV0pO3JldHVybiBTay5UdXJ0bGVHcmFwaGljc30oKSxyLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUpe2lmKHRoaXMubGFzdEVycm9yKXJldHVybiB0aGlzO3RyeXt0aGlzLmxhc3RSZXN1bHQ9ZSh0aGlzLmxhc3RSZXN1bHQpfWNhdGNoKHQpe3RoaXMubGFzdFJlc3VsdD12b2lkIDAsdGhpcy5sYXN0RXJyb3I9dH1yZXR1cm4gdGhpcy5sYXN0UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZT90aGlzLmxhc3RSZXN1bHQ6dGhpc30sci5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oZSl7aWYodGhpcy5sYXN0RXJyb3IpdHJ5e3RoaXMubGFzdFJlc3VsdD1lKHRoaXMubGFzdEVycm9yKSx0aGlzLmxhc3RFcnJvcj12b2lkIDB9Y2F0Y2godCl7dGhpcy5sYXN0UmVzdWx0PXZvaWQgMCx0aGlzLmxhc3RFcnJvcj10fXJldHVybiB0aGlzLmxhc3RSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlP3RoaXMubGFzdFJlc3VsdDp0aGlzfTt2YXIgY2U7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGVlLmFuaW1hdGU/IWUmJm4/bjpmdW5jdGlvbih0KXtyZXR1cm4gUT13aW5kb3cuc2V0VGltZW91dCh0LGV8fGxlKSxRfTpmdW5jdGlvbihlKXtlKCl9fXZhciBuOyhmdW5jdGlvbihlKXtlJiYobj1mdW5jdGlvbih0KXtyZXR1cm4gWT1lKHQpfSl9KSh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxlLndpbGxSZW5kZXJOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5fYnVmZmVyJiZ0aGlzLl9mcmFtZUNvdW50KzE9PT10aGlzLmZyYW1lQnVmZmVyKCkpfSxlLnR1cnRsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHVydGxlc30sZS5hZGRUdXJ0bGU9ZnVuY3Rpb24oZSl7dGhpcy5fdHVydGxlcy5wdXNoKGUpfSxlLnJlc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5fdHVydGxlcylmb3IodmFyIGU9dGhpcy5fdHVydGxlcy5sZW5ndGg7MDw9LS1lOyl0aGlzLl90dXJ0bGVzW2VdLnJlc2V0KCk7dGhpcy5fdHVydGxlcz1bXSx0aGlzLl9mcmFtZXM9W10sdGhpcy5fZnJhbWVDb3VudD0wLHRoaXMuX2J1ZmZlcj0xLHRoaXMuX3JhdGU9MCx0aGlzLl9hbmltYXRpb25GcmFtZT10KCl9LGUuYWRkRnJhbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtyZXR1cm4gdCYmKHRoaXMuX2ZyYW1lQ291bnQrPTEpLHRoaXMuZnJhbWVzKCkucHVzaChlKSxuPSFlZS5hbmltYXRlfHx0aGlzLl9idWZmZXImJnRoaXMuX2ZyYW1lQ291bnQ9PT10aGlzLmZyYW1lQnVmZmVyKCksbj90aGlzLnVwZGF0ZSgpOm5ldyByfSxlLmZyYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZXN9LGUuZnJhbWVCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiYodGhpcy5fYnVmZmVyPTB8ZSxlJiZlPD10aGlzLl9mcmFtZUNvdW50KT90aGlzLnVwZGF0ZSgpOnRoaXMuX2J1ZmZlcn0sZS5yZWZyZXNoSW50ZXJ2YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiYodGhpcy5fcmF0ZT0wfGUsdGhpcy5fYW5pbWF0aW9uRnJhbWU9dChlKSksdGhpcy5fcmF0ZX0sZS51cGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVzJiZ0aGlzLl9mcmFtZXMubGVuZ3RoP3RoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk6bmV3IHJ9LGUucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGUsdCxyPXRoaXMuX2ZyYW1lcyxuPXRoaXMuX2FuaW1hdGlvbkZyYW1lLGE9dGhpcy5fdHVydGxlcyxzPWMoKS5zcHJpdGVMYXllcigpO3JldHVybiB0aGlzLl9mcmFtZXM9W10sdGhpcy5fZnJhbWVDb3VudD0wLG5ldyBQcm9taXNlKGZ1bmN0aW9uKGwpe24oZnVuY3Rpb24oKXtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKXJbdF0mJnJbdF0oKTtmb3IodihzKSx0PTA7dDxhLmxlbmd0aDt0KyspZT1hW3RdLGUuZ2V0U3RhdGUoKS5zaG93biYmayhlLmdldFN0YXRlKCkscyk7bCgpfSl9KX19KShuLnByb3RvdHlwZSksZnVuY3Rpb24oZSl7ZS5vbkV2ZW50PWZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gZSgpe2lmKCF1KXt2YXIgZT1jKCksdD1lLnNwcml0ZUxheWVyKCkuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO249MHxyLmNsaWVudFgtdC5sZWZ0LGE9MHxyLmNsaWVudFktdC50b3Ascz1uKmUueFNjYWxlK2UubGx4LGw9YSplLnlTY2FsZStlLnVyeSx1PSEwfX12YXIgbixhLHMsbCxvLGQ9dGhpcy5fbWFuYWdlcnNbdF0sXz10aGlzLl9tYW5hZ2Vycy5tb3VzZW1vdmUsdT0hMTtpZigoIm1vdXNlZG93biI9PT10fHwibW91c2V1cCI9PT10KSYmXyYmXy5sZW5ndGgpZm9yKGUoKSxvPV8ubGVuZ3RoOzA8PS0tbzspX1tvXS50ZXN0KG4sYSxzLGwpJiZfW29dLmNhbk1vdmUoIm1vdXNlZG93biI9PT10KTtpZihkJiZkLmxlbmd0aClmb3IoZSgpLG89ZC5sZW5ndGg7MDw9LS1vOykibW91c2Vtb3ZlIj09PXQmJmRbb10uY2FuTW92ZSgpJiZkW29dLnRlc3QobixhLHMsbCk/ZFtvXS50cmlnZ2VyKFtzLGxdKToibW91c2Vkb3duIj09PXQmJmRbb10udGVzdChuLGEscyxsKSYmZFtvXS50cmlnZ2VyKFtzLGxdKX0sZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX21hbmFnZXJzPXt9fSxlLmFkZE1hbmFnZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl9tYW5hZ2Vyc1tlXXx8KHRoaXMuX21hbmFnZXJzW2VdPVtdKSx0aGlzLl9tYW5hZ2Vyc1tlXS5wdXNoKHQpfX0ocy5wcm90b3R5cGUpLGZ1bmN0aW9uKGUpe2UucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVycz12b2lkIDB9LGUuY2FuTW92ZT1mdW5jdGlvbihlKXtyZXR1cm4hISh0aGlzLl90YXJnZXQmJnRoaXMuX3RhcmdldC5oaXRUZXN0KSYmKHZvaWQgMCE9PWUmJih0aGlzLl90YXJnZXQuaGl0VGVzdC5oaXQ9ZSksdGhpcy5fdGFyZ2V0LmhpdFRlc3QuaGl0KX0sZS50ZXN0PWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLl90YXJnZXQmJnRoaXMuX3RhcmdldC5oaXRUZXN0P3RoaXMuX3RhcmdldC5oaXRUZXN0KGUsdCxyLG4pOiEhdGhpcy5fdGFyZ2V0fSxlLnRyaWdnZXI9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLl9oYW5kbGVycztpZihyJiZyLmxlbmd0aClmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKXJbdF0uYXBwbHkoe30sZSl9LGUuYWRkSGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2hhbmRsZXJzO2lmKCF0JiZyJiZyLmxlbmd0aClmb3IoO3Iuc2hpZnQoKTspO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP3ZvaWQoIXImJihyPXRoaXMuX2hhbmRsZXJzPVtdKSxyLnB1c2goZSkpOnZvaWQociYmIXIubGVuZ3RoJiZ0aGlzLnJlc2V0KCkpfX0obC5wcm90b3R5cGUpLGkuUkFESUFOUz0yKkssZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQscil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYWRkVXBkYXRlKHZvaWQgMCwhMSx7YW5nbGU6dCxyYWRpYW5zOnJ9KX19ZnVuY3Rpb24gbihlLHQscixuLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUudHJhbnNsYXRlKHQscixuLGEscywhMCl9fWUuaGl0VGVzdD1mdW5jdGlvbihlLHQpe3ZhciByPWMoKS5oaXRUZXN0TGF5ZXIoKTt2KHIpLGsodGhpcy5nZXRTdGF0ZSgpLHIpO3ZhciBuPXIuZ2V0SW1hZ2VEYXRhKGUsdCwxLDEpLmRhdGE7cmV0dXJuIG5bM118fG5bMF18fG5bMV18fG5bMl19LGUuYWRkVXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLHM9dGhpcy5nZXRTdGF0ZSgpLGw9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLHI/MjozKTtyZXR1cm4gYSgpLmFkZEZyYW1lKGZ1bmN0aW9uKCl7aWYoZSYmZS5hcHBseShzLGwpLHIpZm9yKHZhciB0IGluIHIpc1t0XT1yW3RdfSx0KX0sZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3N0YXRlfHwodGhpcy5fc3RhdGU9e3g6dGhpcy5feCx5OnRoaXMuX3ksYW5nbGU6dGhpcy5fYW5nbGUscmFkaWFuczp0aGlzLl9yYWRpYW5zLHNoYXBlOnRoaXMuX3NoYXBlLGNvbG9yOnRoaXMuX2NvbG9yLGZpbGw6dGhpcy5fZmlsbCxmaWxsaW5nOnRoaXMuX2ZpbGxpbmcsc2l6ZTp0aGlzLl9zaXplLHNwZWVkOnRoaXMuX2NvbXB1dGVkX3NwZWVkLGRvd246dGhpcy5fZG93bixzaG93bjp0aGlzLl9zaG93bixjb2xvck1vZGU6dGhpcy5fY29sb3JNb2RlLGNvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRQYXBlcigpfX0pLHRoaXMuX3N0YXRlfSxlLnRyYW5zbGF0ZT1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIGw9dGhpcztyZXR1cm4gUih0aGlzLGUsdCxyLG4sYSxzKS50aGVuKGZ1bmN0aW9uKGUpe2wuX3g9ZVswXSxsLl95PWVbMV19KX0sZS5yb3RhdGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIE0odGhpcyxlLHQscikudGhlbihmdW5jdGlvbihlKXtuLl9hbmdsZT1lLmFuZ2xlLG4uX3JhZGlhbnM9ZS5yYWRpYW5zfSl9LGUucXVldWVNb3ZlQnk9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9WChyKSpuLHM9SihyKSpuO3JldHVybiB0aGlzLnRyYW5zbGF0ZShlLHQsYSxzLCEwKX0sZS5xdWV1ZVR1cm5Ubz1mdW5jdGlvbihlLHQpe3JldHVybiB0JT10aGlzLl9mdWxsQ2lyY2xlLDA+dCYmKHQrPXRoaXMuX2Z1bGxDaXJjbGUpLHRoaXMucm90YXRlKGUsdC1lKX0sZS5nZXRNYW5hZ2VyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tYW5hZ2Vyc1tlXXx8KHRoaXMuX21hbmFnZXJzW2VdPW5ldyBsKGUsdGhpcykpLHRoaXMuX21hbmFnZXJzW2VdfSxlLmdldFBhcGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcGVyfHwodGhpcy5fcGFwZXI9cCgyKSl9LGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5feD0wLHRoaXMuX3k9MCx0aGlzLl9yYWRpYW5zPTAsdGhpcy5fYW5nbGU9MCx0aGlzLl9zaG93bj0hMCx0aGlzLl9kb3duPSEwLHRoaXMuX2NvbG9yPSJibGFjayIsdGhpcy5fZmlsbD0iYmxhY2siLHRoaXMuX3NoYXBlPSJjbGFzc2ljIix0aGlzLl9zaXplPTEsdGhpcy5fZmlsbGluZz0hMSx0aGlzLl91bmRvQnVmZmVyPVtdLHRoaXMuX3NwZWVkPTMsdGhpcy5fY29tcHV0ZWRfc3BlZWQ9NSx0aGlzLl9jb2xvck1vZGU9MSx0aGlzLl9zdGF0ZT12b2lkIDAsdGhpcy5fbWFuYWdlcnMpdGhpcy5fbWFuYWdlcnNbZV0ucmVzZXQoKTt0aGlzLl9pc1JhZGlhbnM9ITEsdGhpcy5fZnVsbENpcmNsZT0zNjAsdGhpcy5fYnVmZmVyU2l6ZT0ibnVtYmVyIj09dHlwZW9mIGVlLmJ1ZmZlclNpemU/ZWUuYnVmZmVyU2l6ZTowLGIodGhpcy5fcGFwZXIpLHRoaXMuX3BhcGVyPXZvaWQgMH0sZS4kZGVncmVlcz1mdW5jdGlvbihlKXtyZXR1cm4gZT0ibnVtYmVyIj09dHlwZW9mIGU/VihlKTozNjAsdGhpcy5faXNSYWRpYW5zPSExLHRoaXMuX2FuZ2xlPWUmJnRoaXMuX2Z1bGxDaXJjbGU/dGhpcy5fYW5nbGUvdGhpcy5fZnVsbENpcmNsZSplOnRoaXMuX3JhZGlhbnM9MCx0aGlzLl9mdWxsQ2lyY2xlPWUsdGhpcy5hZGRVcGRhdGUodm9pZCAwLCExLHthbmdsZTp0aGlzLl9hbmdsZSxyYWRpYW5zOnRoaXMuX3JhZGlhbnN9KX0sZS4kZGVncmVlcy5taW5BcmdzPTAsZS4kZGVncmVlcy5jb192YXJuYW1lcz1bImZ1bGxjaXJjbGUiXSxlLiRkZWdyZWVzLnJldHVyblR5cGU9ZGUuRkxPQVQsZS4kcmFkaWFucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1JhZGlhbnN8fCh0aGlzLl9pc1JhZGlhbnM9ITAsdGhpcy5fYW5nbGU9dGhpcy5fcmFkaWFucyx0aGlzLl9mdWxsQ2lyY2xlPWkuUkFESUFOUyksdGhpcy5fYW5nbGV9LGUuJHJhZGlhbnMucmV0dXJuVHlwZT1kZS5GTE9BVCxlLiRwb3NpdGlvbj1lLiRwb3M9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy4keGNvcigpLHRoaXMuJHljb3IoKV19LGUuJHBvc2l0aW9uLnJldHVyblR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTay5idWlsdGluLnR1cGxlKFtTay5idWlsdGluLmZsb2F0XyhlWzBdKSxTay5idWlsdGluLmZsb2F0XyhlWzFdKV0pfSxlLiR0b3dhcmRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eihlLHQpLG49SytqKHRoaXMuX3ktci55LHRoaXMuX3gtci54KSxhPW4qKHRoaXMuX2Z1bGxDaXJjbGUvaS5SQURJQU5TKTtyZXR1cm4gYX0sZS4kdG93YXJkcy5jb192YXJuYW1lcz1bIngiLCJ5Il0sZS4kdG93YXJkcy5taW5BcmdzPTEsZS4kdG93YXJkcy5yZXR1cm5UeXBlPWRlLkZMT0FULGUuJGRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eihlLHQpLG49ci54LXRoaXMuX3gsYT1yLnktdGhpcy5feTtyZXR1cm4gSChuKm4rYSphKX0sZS4kZGlzdGFuY2UuY29fdmFybmFtZXM9WyJ4IiwieSJdLGUuJGRpc3RhbmNlLm1pbkFyZ3M9MSxlLiRkaXN0YW5jZS5yZXR1cm5UeXBlPWRlLkZMT0FULGUuJGhlYWRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gMWUtMTM+Vih0aGlzLl9hbmdsZSk/MDp0aGlzLl9hbmdsZX0sZS4kaGVhZGluZy5yZXR1cm5UeXBlPWRlLkZMT0FULGUuJHhjb3I9ZnVuY3Rpb24oKXtyZXR1cm4gMWUtMTM+Vih0aGlzLl94KT8wOnRoaXMuX3h9LGUuJHhjb3IucmV0dXJuVHlwZT1kZS5GTE9BVCxlLiR5Y29yPWZ1bmN0aW9uKCl7cmV0dXJuIDFlLTEzPlYodGhpcy5feSk/MDp0aGlzLl95fSxlLiR5Y29yLnJldHVyblR5cGU9ZGUuRkxPQVQsZS4kZm9yd2FyZD1lLiRmZD1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzKSx0aGlzLnF1ZXVlTW92ZUJ5KHRoaXMuX3gsdGhpcy5feSx0aGlzLl9yYWRpYW5zLGUpfSxlLiRmb3J3YXJkLmNvX3Zhcm5hbWVzPWUuJGZkLmNvX3Zhcm5hbWVzPVsiZGlzdGFuY2UiXSxlLiR1bmRvPWZ1bmN0aW9uKCl7dyh0aGlzKX0sZS4kdW5kb2J1ZmZlcmVudHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5kb0J1ZmZlci5sZW5ndGh9LGUuJHNldHVuZG9idWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fYnVmZmVyU2l6ZT0ibnVtYmVyIj09dHlwZW9mIGU/VyhWKGUpLDFlMyk6MH0sZS4kc2V0dW5kb2J1ZmZlci5jb192YXJuYW1lcz1bInNpemUiXSxlLiRiYWNrd2FyZD1lLiRiYWNrPWUuJGJrPWZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMpLHRoaXMucXVldWVNb3ZlQnkodGhpcy5feCx0aGlzLl95LHRoaXMuX3JhZGlhbnMsLWUpfSxlLiRiYWNrd2FyZC5jb192YXJuYW1lcz1lLiRiYWNrLmNvX3Zhcm5hbWVzPWUuJGJrLmNvX3Zhcm5hbWVzPVsiZGlzdGFuY2UiXSxlLiRnb3RvXyRydyQ9ZS4kc2V0cG9zPWUuJHNldHBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eihlLHQpO3JldHVybiAkKHRoaXMpLHRoaXMudHJhbnNsYXRlKHRoaXMuX3gsdGhpcy5feSxyLngtdGhpcy5feCxyLnktdGhpcy5feSwhMCl9LGUuJGdvdG9fJHJ3JC5jb192YXJuYW1lcz1lLiRzZXRwb3MuY29fdmFybmFtZXM9ZS4kc2V0cG9zaXRpb24uY29fdmFybmFtZXM9WyJ4IiwieSJdLGUuJGdvdG9fJHJ3JC5taW5BcmdzPWUuJHNldHBvcy5taW5BcmdzPWUuJHNldHBvc2l0aW9uLm1pbkFyZ3M9MSxlLiRzZXR4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zbGF0ZSh0aGlzLl94LHRoaXMuX3ksZS10aGlzLl94LDAsITApfSxlLiRzZXR4LmNvX3Zhcm5hbWVzPVsieCJdLGUuJHNldHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlKHRoaXMuX3gsdGhpcy5feSwwLGUtdGhpcy5feSwhMCl9LGUuJHNldHkuY29fdmFybmFtZXM9WyJ5Il0sZS4kaG9tZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9hbmdsZTtyZXR1cm4gJCh0aGlzKSxlLnRyYW5zbGF0ZSh0aGlzLl94LHRoaXMuX3ksLXRoaXMuX3gsLXRoaXMuX3ksITApLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5xdWV1ZVR1cm5Ubyh0LDApfSkudGhlbihmdW5jdGlvbigpe30pfSxlLiRyaWdodD1lLiRydD1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzKSx0aGlzLnJvdGF0ZSh0aGlzLl9hbmdsZSwtZSl9LGUuJHJpZ2h0LmNvX3Zhcm5hbWVzPWUuJHJ0LmNvX3Zhcm5hbWVzPVsiYW5nbGUiXSxlLiRsZWZ0PWUuJGx0PWZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMpLHRoaXMucm90YXRlKHRoaXMuX2FuZ2xlLGUpfSxlLiRsZWZ0LmNvX3Zhcm5hbWVzPWUuJGx0LmNvX3Zhcm5hbWVzPVsiYW5nbGUiXSxlLiRzZXRoZWFkaW5nPWUuJHNldGg9ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyksdGhpcy5xdWV1ZVR1cm5Ubyh0aGlzLl9hbmdsZSxlKX0sZS4kc2V0aGVhZGluZy5jb192YXJuYW1lcz1lLiRzZXRoLmNvX3Zhcm5hbWVzPVsiYW5nbGUiXSxlLiRjaXJjbGU9ZnVuY3Rpb24oZSxzLG8pe3ZhciBkLF8sdSxtLGcscCxmLGgsYix2PXRoaXMsaz10aGlzLl94LFQ9dGhpcy5feSxBPXRoaXMuX2FuZ2xlLEw9e30sUz0xL2MoKS5saW5lU2NhbGUsQz0hMDtmb3IoJCh0aGlzKSx2b2lkIDA9PT1zJiYocz12Ll9mdWxsQ2lyY2xlKSx2b2lkIDA9PT1vJiYoXz1WKHMpL3YuX2Z1bGxDaXJjbGUsbz0xKygwfFcoMTErVihlKlMpLzYsNTkpKl8pKSx1PXMvbyxtPS41KnUsZz0yKmUqSih1Kksvdi5fZnVsbENpcmNsZSksMD5lPyhnPS1nLHU9LXUsbT0tbSxkPUEtcyk6ZD1BK3MsYj1hKCkud2lsbFJlbmRlck5leHQoKT9Qcm9taXNlLnJlc29sdmUoKTpuZXcgcixBKz1tLHA9MDtwPG87cCsrKU8odixBK3UqcCxMKSxmPVgoTC5yYWRpYW5zKSpnLGg9SihMLnJhZGlhbnMpKmcsYj1iLnRoZW4odCh2LEwuYW5nbGUsTC5yYWRpYW5zKSkudGhlbihuKHYsayxULGYsaCxDKSksays9ZixUKz1oLEM9ITE7cmV0dXJuIGI9Yi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIE8odixkLEwpLHYuX2FuZ2xlPUwuYW5nbGUsdi5fcmFkaWFucz1MLnJhZGlhbnMsdi5hZGRVcGRhdGUodm9pZCAwLCEwLEwpfSksYn0sZS4kY2lyY2xlLmNvX3Zhcm5hbWVzPVsicmFkaXVzIiwiZXh0ZW50Iiwic3RlcHMiXSxlLiRjaXJjbGUubWluQXJncz0xLGUuJHBlbnVwPWUuJHVwPWUuJHB1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rvd249ITEsdGhpcy5hZGRVcGRhdGUodm9pZCAwLCExLHtkb3duOiExfSl9LGUuJHBlbmRvd249ZS4kZG93bj1lLiRwZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb3duPSEwLHRoaXMuYWRkVXBkYXRlKHZvaWQgMCwhMSx7ZG93bjohMH0pfSxlLiRpc2Rvd249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG93bn0sZS4kc3BlZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5fc3BlZWQ6KHRoaXMuX3NwZWVkPUcoMCxXKDFlMyxlKSksdGhpcy5fY29tcHV0ZWRfc3BlZWQ9RygwLDIqZS0xKSx0aGlzLmFkZFVwZGF0ZSh2b2lkIDAsITEse3NwZWVkOnRoaXMuX2NvbXB1dGVkX3NwZWVkfSkpfSxlLiRzcGVlZC5taW5BcmdzPTAsZS4kc3BlZWQuY29fdmFybmFtZXM9WyJzcGVlZCJdLGUuJHBlbmNvbG9yPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB2b2lkIDA9PT1lP0kodGhpcy5fY29sb3IpOih0aGlzLl9jb2xvcj1CKHRoaXMuX2NvbG9yTW9kZSxlLHQscixuKSx0aGlzLmFkZFVwZGF0ZSh2b2lkIDAsdGhpcy5fc2hvd24se2NvbG9yOnRoaXMuX2NvbG9yfSkpfSxlLiRwZW5jb2xvci5jb192YXJuYW1lcz1bInIiLCJnIiwiYiIsImEiXSxlLiRwZW5jb2xvci5taW5BcmdzPTAsZS4kcGVuY29sb3IucmV0dXJuVHlwZT1kZS5DT0xPUixlLiRmaWxsY29sb3I9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHZvaWQgMD09PWU/SSh0aGlzLl9maWxsKToodGhpcy5fZmlsbD1CKHRoaXMuX2NvbG9yTW9kZSxlLHQscixuKSx0aGlzLmFkZFVwZGF0ZSh2b2lkIDAsdGhpcy5fc2hvd24se2ZpbGw6dGhpcy5fZmlsbH0pKX0sZS4kZmlsbGNvbG9yLmNvX3Zhcm5hbWVzPVsiciIsImciLCJiIiwiYSJdLGUuJGZpbGxjb2xvci5taW5BcmdzPTAsZS4kZmlsbGNvbG9yLnJldHVyblR5cGU9ZGUuQ09MT1IsZS4kY29sb3I9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHZvaWQgMD09PWU/W3RoaXMuJHBlbmNvbG9yKCksdGhpcy4kZmlsbGNvbG9yKCldOih2b2lkIDA9PT10fHx2b2lkIDAhPT1yPyh0aGlzLl9jb2xvcj1CKHRoaXMuX2NvbG9yTW9kZSxlLHQscixuKSx0aGlzLl9maWxsPXRoaXMuX2NvbG9yKToodGhpcy5fY29sb3I9Qih0aGlzLl9jb2xvck1vZGUsZSksdGhpcy5fZmlsbD1CKHRoaXMuX2NvbG9yTW9kZSx0KSksdGhpcy5hZGRVcGRhdGUodm9pZCAwLHRoaXMuX3Nob3duLHtjb2xvcjp0aGlzLl9jb2xvcixmaWxsOnRoaXMuX2ZpbGx9KSl9LGUuJGNvbG9yLm1pbkFyZ3M9MCxlLiRjb2xvci5jb192YXJuYW1lcz1bImNvbG9yIiwiZmlsbCIsImIiLCJhIl0sZS4kY29sb3IucmV0dXJuVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4udHVwbGUoW2RlLkNPTE9SKGVbMF0pLGRlLkNPTE9SKGVbMV0pXSl9LGUuJGZpbGw9ZnVuY3Rpb24oZSl7dGhpcztyZXR1cm4gdm9pZCAwPT09ZT90aGlzLl9maWxsaW5nOihlPSEhZSxlPT09dGhpcy5fZmlsbGluZyk/dm9pZCAwOih0aGlzLl9maWxsaW5nPWUsZT8oJCh0aGlzKSx0aGlzLmFkZFVwZGF0ZSh2b2lkIDAsITEse2ZpbGxpbmc6ITAsZmlsbEJ1ZmZlcjpbe3g6dGhpcy5feCx5OnRoaXMuX3l9XX0pKTooJCh0aGlzKSx0aGlzLmFkZFVwZGF0ZShmdW5jdGlvbigpe3RoaXMuZmlsbEJ1ZmZlci5wdXNoKHRoaXMpLFMuY2FsbCh0aGlzKX0sITAse2ZpbGxpbmc6ITEsZmlsbEJ1ZmZlcjp2b2lkIDB9KSkpfSxlLiRmaWxsLmNvX3Zhcm5hbWVzPVsiZmxhZyJdLGUuJGZpbGwubWluQXJncz0wLGUuJGJlZ2luX2ZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZmlsbCghMCl9LGUuJGVuZF9maWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGZpbGwoITEpfSxlLiRzdGFtcD1mdW5jdGlvbigpe3JldHVybiAkKHRoaXMpLHRoaXMuYWRkVXBkYXRlKGZ1bmN0aW9uKCl7ayh0aGlzLHRoaXMuY29udGV4dCgpKX0sITApfSxlLiRkb3Q9ZnVuY3Rpb24oZSx0LHIsbixzKXtyZXR1cm4gJCh0aGlzKSxlPVNrLmJ1aWx0aW4uYXNudW0kKGUpLGU9Im51bWJlciI9PXR5cGVvZiBlP0coMSwwfFYoZSkpOkcodGhpcy5fc2l6ZSs0LDIqdGhpcy5fc2l6ZSksdD12b2lkIDA9PT10P3RoaXMuX2NvbG9yOkIodGhpcy5fY29sb3JNb2RlLHQscixuLHMpLHRoaXMuYWRkVXBkYXRlKHgsITAsdm9pZCAwLGUsdCl9LGUuJGRvdC5jb192YXJuYW1lcz1bInNpemUiLCJjb2xvciIsImciLCJiIiwiYSJdLGUuJHdyaXRlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhLHMsbCxpLG8sZD10aGlzO3JldHVybiAkKHRoaXMpLGUrPSIiLG4mJm4uY29uc3RydWN0b3I9PT1BcnJheSYmKHM9InN0cmluZyI9PXR5cGVvZiBuWzBdP25bMF06IkFyaWFsIixsPShuWzFdfHwiMTJwdCIpKyIiLGk9InN0cmluZyI9PXR5cGVvZiBuWzJdP25bMl06Im5vcm1hbCIsL15cXGQrJC8udGVzdChsKSYmKGwrPSJwdCIpLG49W2ksbCxzXS5qb2luKCIgIikpLHJ8fChyPSJsZWZ0IiksYT10aGlzLmFkZFVwZGF0ZShBLCEwLHZvaWQgMCxlLHIsbiksdCYmKCJsZWZ0Ij09PXJ8fCJjZW50ZXIiPT09cikmJihvPVQoZSxuKSwiY2VudGVyIj09PXImJihvLz0yKSxhPWEudGhlbihmdW5jdGlvbigpe3ZhciBlPWQuZ2V0U3RhdGUoKTtyZXR1cm4gZC50cmFuc2xhdGUoZS54LGUueSxvLDAsITApfSkpLGF9LGUuJHdyaXRlLmNvX3Zhcm5hbWVzPVsibWVzc2FnZSIsIm1vdmUiLCJhbGlnbiIsImZvbnQiXSxlLiR3cml0ZS5taW5BcmdzPTEsZS4kcGVuc2l6ZT1lLiR3aWR0aD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLl9zaXplOih0aGlzLl9zaXplPWUsdGhpcy5hZGRVcGRhdGUodm9pZCAwLHRoaXMuX3Nob3duLHtzaXplOmV9KSl9LGUuJHBlbnNpemUubWluQXJncz1lLiR3aWR0aC5taW5BcmdzPTAsZS4kcGVuc2l6ZS5jb192YXJuYW1lcz1lLiR3aWR0aC5jb192YXJuYW1lcz1bIndpZHRoIl0sZS4kc2hvd3R1cnRsZT1lLiRzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaG93bj0hMCx0aGlzLmFkZFVwZGF0ZSh2b2lkIDAsITAse3Nob3duOiEwfSl9LGUuJGhpZGV0dXJ0bGU9ZS4kaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd249ITEsdGhpcy5hZGRVcGRhdGUodm9pZCAwLCEwLHtzaG93bjohMX0pfSxlLiRpc3Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd259LGUuJHNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZpZVtlXT8odGhpcy5fc2hhcGU9ZSx0aGlzLmFkZFVwZGF0ZSh2b2lkIDAsdGhpcy5fc2hvd24se3NoYXBlOmV9KSk6dGhpcy5fc2hhcGV9LGUuJHNoYXBlLm1pbkFyZ3M9MCxlLiRzaGFwZS5jb192YXJuYW1lcz1bIm5hbWUiXSxlLiRjb2xvcm1vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5fY29sb3JNb2RlOih0aGlzLl9jb2xvck1vZGU9MjU1PT09ZT8yNTU6MSx0aGlzLmFkZFVwZGF0ZSh2b2lkIDAsdGhpcy5fc2hvd24se2NvbG9yTW9kZTp0aGlzLl9jb2xvck1vZGV9KSl9LGUuJGNvbG9ybW9kZS5taW5BcmdzPTAsZS4kY29sb3Jtb2RlLmNvX3Zhcm5hbWVzPVsiY21vZGUiXSxlLiRjb2xvcm1vZGUucmV0dXJuVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gMjU1PT09ZT9Tay5idWlsdGluLmludF8oMjU1KTpTay5idWlsdGluLmZsb2F0XygxKX0sZS4kd2luZG93X3dpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjcmVlbi4kd2luZG93X3dpZHRoKCl9LGUuJHdpbmRvd19oZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NyZWVuLiR3aW5kb3dfaGVpZ2h0KCl9LGUuJHRyYWNlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9zY3JlZW4uJHRyYWNlcihlLHQpfSxlLiR0cmFjZXIubWluQXJncz0wLGUuJHRyYWNlci5jb192YXJuYW1lcz1bIm4iLCJkZWxheSJdLGUuJHVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY3JlZW4uJHVwZGF0ZSgpfSxlLiRkZWxheT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2NyZWVuLiRkZWxheShlKX0sZS4kZGVsYXkubWluQXJncz0wLGUuJGRlbGF5LmNvX3Zhcm5hbWVzPVsiZGVsYXkiXSxlLiRyZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2V0KCksdGhpcy4kY2xlYXIoKX0sZS4kbWFpbmxvb3A9ZS4kZG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY3JlZW4uJG1haW5sb29wKCl9LGUuJGNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkVXBkYXRlKGZ1bmN0aW9uKCl7dih0aGlzLmNvbnRleHQoKSl9LCEwKX0sZS4kZG90Lm1pbkFyZ3M9MCxlLiRvbmNsaWNrPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldE1hbmFnZXIoIm1vdXNlZG93biIpLmFkZEhhbmRsZXIoZSxyKX0sZS4kb25jbGljay5taW5BcmdzPTEsZS4kb25jbGljay5jb192YXJuYW1lcz1bIm1ldGhvZCIsImJ0biIsImFkZCJdLGUuJG9ucmVsZWFzZT1mdW5jdGlvbihlLHQscil7dGhpcy5nZXRNYW5hZ2VyKCJtb3VzZXVwIikuYWRkSGFuZGxlcihlLHIpfSxlLiRvbnJlbGVhc2UubWluQXJncz0xLGUuJG9ucmVsZWFzZS5jb192YXJuYW1lcz1bIm1ldGhvZCIsImJ0biIsImFkZCJdLGUuJG9uZHJhZz1mdW5jdGlvbihlLHQscil7dGhpcy5nZXRNYW5hZ2VyKCJtb3VzZW1vdmUiKS5hZGRIYW5kbGVyKGUscil9LGUuJG9uZHJhZy5taW5BcmdzPTEsZS4kb25kcmFnLmNvX3Zhcm5hbWVzPVsibWV0aG9kIiwiYnRuIiwiYWRkIl0sZS4kZ2V0c2NyZWVuPWZ1bmN0aW9uKCl7cmV0dXJuIFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShuZS5TY3JlZW4pfSxlLiRnZXRzY3JlZW4uaXNTaz0hMCxlLiRjbG9uZT1mdW5jdGlvbigpe3ZhciBlPVNrLm1pc2NldmFsLmNhbGxzaW1PclN1c3BlbmRBcnJheShuZS5UdXJ0bGUpO3JldHVybiBlLmluc3RhbmNlLl94PXRoaXMuX3gsZS5pbnN0YW5jZS5feT10aGlzLl95LGUuaW5zdGFuY2UuX2FuZ2xlPXRoaXMuX2FuZ2xlLGUuaW5zdGFuY2UuX3JhZGlhbnM9dGhpcy5fcmFkaWFucyxlLmluc3RhbmNlLl9zaGFwZT10aGlzLl9zaGFwZSxlLmluc3RhbmNlLl9jb2xvcj10aGlzLl9jb2xvcixlLmluc3RhbmNlLl9maWxsPXRoaXMuX2ZpbGwsZS5pbnN0YW5jZS5fZmlsbGluZz10aGlzLl9maWxsaW5nLGUuaW5zdGFuY2UuX3NpemU9dGhpcy5fc2l6ZSxlLmluc3RhbmNlLl9jb21wdXRlZF9zcGVlZD10aGlzLl9jb21wdXRlZF9zcGVlZCxlLmluc3RhbmNlLl9kb3duPXRoaXMuX2Rvd24sZS5pbnN0YW5jZS5fc2hvd249dGhpcy5fc2hvd24sZS5pbnN0YW5jZS5fY29sb3JNb2RlPXRoaXMuX2NvbG9yTW9kZSxlLmluc3RhbmNlLl9pc1JhZGlhbnM9dGhpcy5faXNSYWRpYW5zLGUuaW5zdGFuY2UuX2Z1bGxDaXJjbGU9dGhpcy5fZnVsbENpcmNsZSxlLmluc3RhbmNlLl9idWZmZXJTaXplPXRoaXMuX2J1ZmZlclNpemUsZS5pbnN0YW5jZS5fdW5kb0J1ZmZlcj10aGlzLl91bmRvQnVmZmVyLGUuX2Nsb25lZEZyb209dGhpcyxlfSxlLiRjbG9uZS5yZXR1cm5UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxlLiRnZXR0dXJ0bGU9ZS4kZ2V0cGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2tJbnN0YW5jZX0sZS4kZ2V0dHVydGxlLmlzU2s9ITB9KGkucHJvdG90eXBlKSxmdW5jdGlvbihlKXtlLnNwcml0ZUxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nwcml0ZXN8fCh0aGlzLl9zcHJpdGVzPXAoMykpfSxlLmJnTGF5ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmFja2dyb3VuZHx8KHRoaXMuX2JhY2tncm91bmQ9cCgxKSl9LGUuaGl0VGVzdExheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpdFRlc3R8fCh0aGlzLl9oaXRUZXN0PXAoMCwhMCkpfSxlLmdldE1hbmFnZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21hbmFnZXJzW2VdfHwodGhpcy5fbWFuYWdlcnNbZV09bmV3IGwoZSx0aGlzKSksdGhpcy5fbWFuYWdlcnNbZV19LGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fa2V5TGlzdGVuZXJzPXZvaWQgMCx0aGlzLl9rZXlMb2dnZXIpd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fa2V5TG9nZ2VyW2VdKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2tleUxvZ2dlcltlXSksZGVsZXRlIHRoaXMuX2tleUxvZ2dlcltlXTtmb3IoZSBpbiB0aGlzLl9rZXlEb3duTGlzdGVuZXImJihfKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5fa2V5RG93bkxpc3RlbmVyKSx0aGlzLl9rZXlEb3duTGlzdGVuZXI9dm9pZCAwKSx0aGlzLl9rZXlVcExpc3RlbmVyJiYoXygpLnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIix0aGlzLl9rZXlVcExpc3RlbmVyKSx0aGlzLl9rZXlVcExpc3RlbmVyPXZvaWQgMCksdGhpcy5fdGltZXImJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj12b2lkIDApLHRoaXMuX21hbmFnZXJzKXRoaXMuX21hbmFnZXJzW2VdLnJlc2V0KCk7dGhpcy5fbW9kZT0ic3RhbmRhcmQiLGIodGhpcy5fc3ByaXRlcyksdGhpcy5fc3ByaXRlcz12b2lkIDAsYih0aGlzLl9iYWNrZ3JvdW5kKSx0aGlzLl9iYWNrZ3JvdW5kPXZvaWQgMH0sZS5zZXRVcFdvcmxkPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXM7YS5sbHg9ZSxhLmxseT10LGEudXJ4PXIsYS51cnk9bixhLnhTY2FsZT0oci1lKS9tKCksYS55U2NhbGU9LTEqKG4tdCkvZygpLGEubGluZVNjYWxlPVcoVihhLnhTY2FsZSksVihhLnlTY2FsZSkpfSxlLiRzZXR1cD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gaXNOYU4ocGFyc2VGbG9hdChlKSkmJihlPW0oKSksaXNOYU4ocGFyc2VGbG9hdCh0KSkmJih0PWcoKSksMT49ZSYmKGU9bSgpKmUpLDE+PXQmJih0PWcoKSp0KSx0aGlzLl93aWR0aD1lLHRoaXMuX2hlaWdodD10LHRoaXMuX3hPZmZzZXQ9dm9pZCAwPT09cnx8aXNOYU4ocGFyc2VJbnQocikpPzA6cGFyc2VJbnQociksdGhpcy5feU9mZnNldD12b2lkIDA9PT1ufHxpc05hTihwYXJzZUludChuKSk/MDpwYXJzZUludChuKSwid29ybGQiPT09dGhpcy5fbW9kZT90aGlzLl9zZXR3b3JsZGNvb3JkaW5hdGVzKHRoaXMubGx4LHRoaXMubGx5LHRoaXMudXJ4LHRoaXMudXJ5KTp0aGlzLl9zZXR3b3JsZGNvb3JkaW5hdGVzKC1lLzIsLXQvMixlLzIsdC8yKX0sZS4kc2V0dXAubWluQXJncz0wLGUuJHNldHVwLmNvX3Zhcm5hbWVzPVsid2lkdGgiLCJoZWlnaHQiLCJzdGFydHgiLCJzdGFydHkiXSxlLiRyZWdpc3Rlcl9zaGFwZT1lLiRhZGRzaGFwZT1mdW5jdGlvbihlLHIpe3JldHVybiByP3ZvaWQoaWVbZV09cik6dChlKS50aGVuKGZ1bmN0aW9uKHQpe2llW2VdPXR9KX0sZS4kcmVnaXN0ZXJfc2hhcGUubWluQXJncz0xLGUuJGdldHNoYXBlcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyhpZSl9LGUuJHRyYWNlcj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT1lfHx2b2lkIDAhPT10PygibnVtYmVyIj09dHlwZW9mIHQmJih0aGlzLl9kZWxheT10LGEoKS5yZWZyZXNoSW50ZXJ2YWwodCkpLCJudW1iZXIiPT10eXBlb2YgZT8odGhpcy5fZnJhbWVzPWUsYSgpLmZyYW1lQnVmZmVyKGUpKTp2b2lkIDApOnRoaXMuX2ZyYW1lc30sZS4kdHJhY2VyLmNvX3Zhcm5hbWVzPVsiZnJhbWVzIiwiZGVsYXkiXSxlLiR0cmFjZXIubWluQXJncz0wLGUuJGRlbGF5PWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3ZvaWQgMD09PXRoaXMuX2RlbGF5P2xlOnRoaXMuX2RlbGF5OnRoaXMuJHRyYWNlcih2b2lkIDAsZSl9LGUuJGRlbGF5LmNvX3Zhcm5hbWVzPVsiZGVsYXkiXSxlLl9zZXR3b3JsZGNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBzPXRoaXMsbD1hKCkudHVydGxlcygpO3JldHVybiB0aGlzLnNldFVwV29ybGQoZSx0LHIsbiksdGhpcy5fc3ByaXRlcyYmaCh0aGlzLHRoaXMuX3Nwcml0ZXMpLHRoaXMuX2JhY2tncm91bmQmJmgodGhpcyx0aGlzLl9iYWNrZ3JvdW5kKSx0aGlzLiRjbGVhcigpfSxlLiRzZXR3b3JsZGNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLl9tb2RlPSJ3b3JsZCIsdGhpcy5fc2V0d29ybGRjb29yZGluYXRlcyhlLHQscixuKX0sZS4kc2V0d29ybGRjb29yZGluYXRlcy5jb192YXJuYW1lcz1bImxseCIsImxseSIsInVyeCIsInVyeSJdLGUubWluQXJncz00LGUuJGNsZWFyPWUuJGNsZWFyc2NyZWVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLiRyZXNldCgpfSxlLiR1cGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYSgpLnVwZGF0ZSgpfSxlLiRyZXNldD1lLiRyZXNldHNjcmVlbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hKCkudHVydGxlcygpO3JldHVybiBhKCkuYWRkRnJhbWUoZnVuY3Rpb24oKXtoKGUsZS5fc3ByaXRlcyksaChlLGUuX2JhY2tncm91bmQpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ucmVzZXQoKSxoKGUsdFtyXS5fcGFwZXIpfSwhMCl9LGUuJHdpbmRvd193aWR0aD1mdW5jdGlvbigpe3JldHVybiBtKCl9LGUuJHdpbmRvd19oZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZygpfSxlLiRkZWxheS5taW5BcmdzPTAsZS4kdHVydGxlcz1mdW5jdGlvbigpe3JldHVybiBhKCkudHVydGxlcygpfSxlLiR0dXJ0bGVzLnJldHVyblR5cGU9ZGUuVFVSVExFX0xJU1QsZS4kYmdwaWM9ZnVuY3Rpb24oZSl7dmFyIHI7cmV0dXJuIGU/KHI9dGhpcyx0KGUpLnRoZW4oZnVuY3Rpb24oZSl7dihyLmJnTGF5ZXIoKSx2b2lkIDAsZSl9KSk6dGhpcy5fYmdwaWN9LGUuJGJncGljLm1pbkFyZ3M9MCxlLiRiZ3BpYy5jb192YXJuYW1lcz1bIm5hbWUiXSxlLiRiZ2NvbG9yPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB2b2lkIDA9PT1lP0kodGhpcy5fYmdjb2xvcik6KHRoaXMuX2JnY29sb3I9Qih0aGlzLl9jb2xvck1vZGUsZSx0LHIsbiksdm9pZCB2KHRoaXMuYmdMYXllcigpLHRoaXMuX2JnY29sb3IpKX0sZS4kYmdjb2xvci5taW5BcmdzPTAsZS4kYmdjb2xvci5jb192YXJuYW1lcz1bImNvbG9yIiwiZyIsImIiLCJhIl0sZS4kYmdjb2xvci5yZXR1cm5UeXBlPWRlLkNPTE9SLGUuJG1haW5sb29wPWUuJGRvbmU9ZnVuY3Rpb24oKXt9LGUuJGJ5ZT1mdW5jdGlvbigpe3JldHVybiBTay5UdXJ0bGVHcmFwaGljcy5yZXNldCgpfSxlLiRleGl0b25jbGljaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leGl0T25DbGljaz0hMCx0aGlzLmdldE1hbmFnZXIoIm1vdXNlZG93biIpLmFkZEhhbmRsZXIoZnVuY3Rpb24oKXtQKCl9LCExKX0sZS4kb25jbGljaz1mdW5jdGlvbihlLHQscil7dGhpcy5fZXhpdE9uQ2xpY2t8fHRoaXMuZ2V0TWFuYWdlcigibW91c2Vkb3duIikuYWRkSGFuZGxlcihlLHIpfSxlLiRvbmNsaWNrLm1pbkFyZ3M9MSxlLiRvbmNsaWNrLmNvX3Zhcm5hbWVzPVsibWV0aG9kIiwiYnRuIiwiYWRkIl07dmFyIHI9ezg6L15iYWNrKHNwYWNlKT8kL2ksOTovXnRhYiQvaSwxMzovXihlbnRlcnxyZXR1cm4pJC9pLDE2Oi9ec2hpZnQkL2ksMTc6L14oY3RybHxjb250cm9sKSQvaSwxODovXmFsdCQvaSwyNzovXmVzYyhhcGUpPyQvaSwzMjovXnNwYWNlJC9pLDMzOi9ecGFnZVtcXHNcXC1dP3VwJC9pLDM0Oi9ecGFnZVtcXHNcXC1dP2Rvd24kL2ksMzU6L15lbmQkL2ksMzY6L15ob21lJC9pLDM3Oi9ebGVmdChbXFxzXFwtXT9hcnJvdyk/JC9pLDM4Oi9edXAoW1xcc1xcLV0/YXJyb3cpPyQvaSwzOTovXnJpZ2h0KFtcXHNcXC1dP2Fycm93KT8kL2ksNDA6L15kb3duKFtcXHNcXC1dP2Fycm93KT8kL2ksNDU6L15pbnNlcnQkL2ksNDY6L15kZWwoZXRlKT8kL2l9O2UuX2NyZWF0ZUtleVJlcGVhdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9rZXlMb2dnZXJbdF09d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9rZXlMaXN0ZW5lcnNbZV0oKSxyLl9rZXlMb2dnZXJbdF09d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7ci5fa2V5TGlzdGVuZXJzW2VdKCl9LDUwKX0sMzMzKX0sZS5fY3JlYXRlS2V5RG93bkxpc3RlbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9rZXlEb3duTGlzdGVuZXJ8fCh0aGlzLl9rZXlEb3duTGlzdGVuZXI9ZnVuY3Rpb24obil7dmFyIGU9U3RyaW5nLmZyb21DaGFyQ29kZTtpZihEKCkpe3ZhciBhLHMsbD1uLmNoYXJDb2RlfHxuLmtleUNvZGUsaT1lKGwpLnRvTG93ZXJDYXNlKCk7aWYoIXQuX2tleUxvZ2dlcltsXSlmb3IoYSBpbiB0Ll9rZXlMaXN0ZW5lcnMpaWYocz0xPGEubGVuZ3RoJiZyW2xdJiZyW2xdLnRlc3QoYSksYT09PWl8fHMpe3QuX2tleUxpc3RlbmVyc1thXSgpLHQuX2NyZWF0ZUtleVJlcGVhdGVyKGEsbCksbi5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrfX19LF8oKS5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlEb3duTGlzdGVuZXIpKX0sZS5fY3JlYXRlS2V5VXBMaXN0ZW5lcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fa2V5VXBMaXN0ZW5lcnx8KHRoaXMuX2tleVVwTGlzdGVuZXI9ZnVuY3Rpb24ocil7dmFyIGU9dC5fa2V5TG9nZ2VyW3IuY2hhckNvZGV8fHIua2V5Q29kZV07dm9pZCAwIT09ZSYmKHIucHJldmVudERlZmF1bHQoKSx3aW5kb3cuY2xlYXJJbnRlcnZhbChlKSx3aW5kb3cuY2xlYXJUaW1lb3V0KGUpLGRlbGV0ZSB0Ll9rZXlMb2dnZXJbci5jaGFyQ29kZXx8ci5rZXlDb2RlXSl9LF8oKS5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5VXBMaXN0ZW5lcikpfSxlLiRsaXN0ZW49ZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVLZXlVcExpc3RlbmVyKCksdGhpcy5fY3JlYXRlS2V5RG93bkxpc3RlbmVyKCl9LGUuJG9ua2V5PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe3ZhciByPWU7ZT10LHQ9cn10PSh0KyIiKS50b0xvd2VyQ2FzZSgpLGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlPyghdGhpcy5fa2V5TGlzdGVuZXJzJiYodGhpcy5fa2V5TGlzdGVuZXJzPXt9KSx0aGlzLl9rZXlMaXN0ZW5lcnNbdF09ZSk6ZGVsZXRlIHRoaXMuX2tleUxpc3RlbmVyc1t0XX0sZS4kb25rZXkubWluQXJncz0yLGUuJG9ua2V5LmNvX3Zhcm5hbWVzPVsibWV0aG9kIiwia2V5VmFsdWUiXSxlLiRvbnNjcmVlbmNsaWNrPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldE1hbmFnZXIoIm1vdXNlZG93biIpLmFkZEhhbmRsZXIoZSxyKX0sZS4kb25zY3JlZW5jbGljay5taW5BcmdzPTEsZS4kb25zY3JlZW5jbGljay5jb192YXJuYW1lcz1bIm1ldGhvZCIsImJ0biIsImFkZCJdLGUuJG9udGltZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl90aW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPXZvaWQgMCksZSYmIm51bWJlciI9PXR5cGVvZiB0JiYodGhpcy5fdGltZXI9d2luZG93LnNldFRpbWVvdXQoZSxHKDAsMHx0KSkpfSxlLiRvbnRpbWVyLm1pbkFyZ3M9MCxlLiRvbnRpbWVyLmNvX3Zhcm5hbWVzPVsibWV0aG9kIiwiaW50ZXJ2YWwiXX0oby5wcm90b3R5cGUpO3ZhciB1ZT1uZXcgSW1hZ2UsbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTtmb3IodmFyIGdlIGluIGkucHJvdG90eXBlKS9eXFwkW2Etel9dKy8udGVzdChnZSkmJkYoaSxuZSxnZSxkKTtyZXR1cm4gRihvLG5lLCIkbWFpbmxvb3AiLGMpLEYobyxuZSwiJGRvbmUiLGMpLEYobyxuZSwiJGJ5ZSIsYyksRihvLG5lLCIkdHJhY2VyIixjKSxGKG8sbmUsIiR1cGRhdGUiLGMpLEYobyxuZSwiJGRlbGF5IixjKSxGKG8sbmUsIiR3aW5kb3dfd2lkdGgiLGMpLEYobyxuZSwiJHdpbmRvd19oZWlnaHQiLGMpLG5lLlR1cnRsZT1Tay5taXNjZXZhbC5idWlsZENsYXNzKG5lLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihlKXtlLmluc3RhbmNlPW5ldyBpLGUuaW5zdGFuY2Uuc2tJbnN0YW5jZT1lfSksaS5wcm90b3R5cGUpL15cXCRbYS16X10rLy50ZXN0KHIpJiZGKGksdCxyKX0sIlR1cnRsZSIsW10pLG5lLlNjcmVlbj1Tay5taXNjZXZhbC5idWlsZENsYXNzKG5lLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihlKXtlLmluc3RhbmNlPWMoKX0pLG8ucHJvdG90eXBlKS9eXFwkW2Etel9dKy8udGVzdChyKSYmRihvLHQscil9LCJTY3JlZW4iLFtdKSx7c2tNb2R1bGU6bmUscmVzZXQ6UCxzdG9wOnEsZm9jdXM6RCxUdXJ0bGU6aSxTY3JlZW46b319KGUpLFNrLlR1cnRsZUdyYXBoaWNzLm1vZHVsZT1lLnR1cnRsZUluc3RhbmNlLnNrTW9kdWxlLFNrLlR1cnRsZUdyYXBoaWNzLnJlc2V0PWUudHVydGxlSW5zdGFuY2UucmVzZXQsU2suVHVydGxlR3JhcGhpY3Muc3RvcD1lLnR1cnRsZUluc3RhbmNlLnN0b3AsU2suVHVydGxlR3JhcGhpY3MuZm9jdXM9ZS50dXJ0bGVJbnN0YW5jZS5mb2N1cyxTay5UdXJ0bGVHcmFwaGljcy5yYXc9e1R1cnRsZTplLnR1cnRsZUluc3RhbmNlLlR1cnRsZSxTY3JlZW46ZS50dXJ0bGVJbnN0YW5jZS5TY3JlZW59LGUudHVydGxlSW5zdGFuY2Uuc2tNb2R1bGV9OycsCiAgICAic3JjL2xpYi90eXBlcy5weSI6CiAgICAgICciIiJcblRoaXMgZmlsZSB3YXMgbW9kaWZpZWQgZnJvbSBDUHl0aG9uLlxuQ29weXJpZ2h0IChjKSAyMDAxLCAyMDAyLCAyMDAzLCAyMDA0LCAyMDA1LCAyMDA2LCAyMDA3LCAyMDA4LCAyMDA5LCAyMDEwLFxuMjAxMSwgMjAxMiwgMjAxMywgMjAxNCwgMjAxNSBQeXRob24gU29mdHdhcmUgRm91bmRhdGlvbjsgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuIiIiXG4iIiJEZWZpbmUgbmFtZXMgZm9yIGFsbCB0eXBlIHN5bWJvbHMga25vd24gaW4gdGhlIHN0YW5kYXJkIGludGVycHJldGVyLlxuVHlwZXMgdGhhdCBhcmUgcGFydCBvZiBvcHRpb25hbCBtb2R1bGVzIChlLmcuIGFycmF5KSBhcmUgbm90IGxpc3RlZC5cbiIiIlxuaW1wb3J0IHN5c1xuXG4jIEl0ZXJhdG9ycyBpbiBQeXRob24gYXJlblwndCBhIG1hdHRlciBvZiB0eXBlIGJ1dCBvZiBwcm90b2NvbC4gIEEgbGFyZ2VcbiMgYW5kIGNoYW5naW5nIG51bWJlciBvZiBidWlsdGluIHR5cGVzIGltcGxlbWVudCAqc29tZSogZmxhdm9yIG9mXG4jIGl0ZXJhdG9yLiAgRG9uXCd0IGNoZWNrIHRoZSB0eXBlISAgVXNlIGhhc2F0dHIgdG8gY2hlY2sgZm9yIGJvdGhcbiMgIl9faXRlcl9fIiBhbmQgIm5leHQiIGF0dHJpYnV0ZXMgaW5zdGVhZC5cblxuTm9uZVR5cGUgPSB0eXBlKE5vbmUpXG5UeXBlVHlwZSA9IHR5cGVcbk9iamVjdFR5cGUgPSBvYmplY3RcbkludFR5cGUgPSBpbnRcbkxvbmdUeXBlID0gbG9uZ1xuRmxvYXRUeXBlID0gZmxvYXRcbkJvb2xlYW5UeXBlID0gYm9vbFxudHJ5OlxuICAgIENvbXBsZXhUeXBlID0gY29tcGxleFxuZXhjZXB0IE5hbWVFcnJvcjpcbiAgICBwYXNzXG5TdHJpbmdUeXBlID0gc3RyXG5cbiMgU3RyaW5nVHlwZXMgaXMgYWxyZWFkeSBvdXRkYXRlZC4gIEluc3RlYWQgb2Ygd3JpdGluZyAidHlwZSh4KSBpblxuIyB0eXBlcy5TdHJpbmdUeXBlcyIsIHlvdSBzaG91bGQgdXNlICJpc2luc3RhbmNlKHgsIGJhc2VzdHJpbmcpIi4gIEJ1dFxuIyB3ZSBrZWVwIGFyb3VuZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIFB5dGhvbiAyLjIuXG50cnk6XG4gICAgVW5pY29kZVR5cGUgPSB1bmljb2RlXG4gICAgU3RyaW5nVHlwZXMgPSAoU3RyaW5nVHlwZSwgVW5pY29kZVR5cGUpXG5leGNlcHQgTmFtZUVycm9yOlxuICAgIFN0cmluZ1R5cGVzID0gKFN0cmluZ1R5cGUsKVxuXG5CdWZmZXJUeXBlID0gYnVmZmVyXG5cblR1cGxlVHlwZSA9IHR1cGxlXG5MaXN0VHlwZSA9IGxpc3RcbkRpY3RUeXBlID0gRGljdGlvbmFyeVR5cGUgPSBkaWN0XG5cbmRlZiBfZigpOiBwYXNzXG5GdW5jdGlvblR5cGUgPSB0eXBlKF9mKVxuTGFtYmRhVHlwZSA9IHR5cGUobGFtYmRhOiBOb25lKSAgICAgICAgICMgU2FtZSBhcyBGdW5jdGlvblR5cGVcbiNDb2RlVHlwZSA9IHR5cGUoX2YuZnVuY19jb2RlKVxuXG5kZWYgX2coKTpcbiAgICB5aWVsZCAxXG5HZW5lcmF0b3JUeXBlID0gdHlwZShfZygpKVxuXG5jbGFzcyBfQzpcbiAgICBkZWYgX20oc2VsZik6IHBhc3NcbkNsYXNzVHlwZSA9IHR5cGUoX0MpXG5VbmJvdW5kTWV0aG9kVHlwZSA9IHR5cGUoX0MuX20pICAgICAgICAgIyBTYW1lIGFzIE1ldGhvZFR5cGVcbl94ID0gX0MoKVxuSW5zdGFuY2VUeXBlID0gdHlwZShfeClcbk1ldGhvZFR5cGUgPSB0eXBlKF94Ll9tKVxuQnVpbHRpbkZ1bmN0aW9uVHlwZSA9IHR5cGUobGVuKVxuQnVpbHRpbk1ldGhvZFR5cGUgPSB0eXBlKFtdLmFwcGVuZCkgICAgICMgU2FtZSBhcyBCdWlsdGluRnVuY3Rpb25UeXBlXG5cbk1vZHVsZVR5cGUgPSB0eXBlKHN5cylcbkZpbGVUeXBlID0gZmlsZVxudHJ5OlxuICAgIFhSYW5nZVR5cGUgPSB4cmFuZ2VcbmV4Y2VwdCBOYW1lRXJyb3I6XG4gICAgcGFzc1xuXG4jIHRyeTpcbiMgICAgIHJhaXNlIFR5cGVFcnJvclxuIyBleGNlcHQgVHlwZUVycm9yOlxuIyAgICAgdGIgPSBzeXMuZXhjX2luZm8oKVsyXVxuIyAgICAgVHJhY2ViYWNrVHlwZSA9IHR5cGUodGIpXG4jICAgICBGcmFtZVR5cGUgPSB0eXBlKHRiLnRiX2ZyYW1lKVxuIyAgICAgZGVsIHRiXG5cblNsaWNlVHlwZSA9IHNsaWNlXG4jIEVsbGlwc2lzVHlwZSA9IHR5cGUoRWxsaXBzaXMpXG5cbiMgRGljdFByb3h5VHlwZSA9IHR5cGUoVHlwZVR5cGUuX19kaWN0X18pXG5Ob3RJbXBsZW1lbnRlZFR5cGUgPSB0eXBlKE5vdEltcGxlbWVudGVkKVxuXG4jIEZvciBKeXRob24sIHRoZSBmb2xsb3dpbmcgdHdvIHR5cGVzIGFyZSBpZGVudGljYWxcbiMgR2V0U2V0RGVzY3JpcHRvclR5cGUgPSB0eXBlKEZ1bmN0aW9uVHlwZS5mdW5jX2NvZGUpXG4jIE1lbWJlckRlc2NyaXB0b3JUeXBlID0gdHlwZShGdW5jdGlvblR5cGUuZnVuY19nbG9iYWxzKVxuXG5kZWwgc3lzLCBfZiwgX2csIF9DLCBfeCAgICAgICAgICAgICAgICAgICAgICAgICAgICMgTm90IGZvciBleHBvcnRcbl9fYWxsX18gPSBsaXN0KG4gZm9yIG4gaW4gZ2xvYmFscygpIGlmIG5bOjFdICE9IFwnX1wnKVxuJywKICAgICJzcmMvbGliL3VuaXR0ZXN0L19faW5pdF9fLnB5IjoKICAgICAgJ19fYXV0aG9yX18gPSBcJ2JtaWxsZXJcJ1xuXCdcJ1wnXG5UaGlzIGlzIHRoZSBzdGFydCBvZiBzb21ldGhpbmcgdGhhdCBiZWhhdmVzIGxpa2VcbnRoZSB1bml0dGVzdCBtb2R1bGUgZnJvbSBjcHl0aG9uLlxuXG5cJ1wnXCdcblxuY2xhc3MgVGVzdENhc2U6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYpOlxuICAgICAgICBzZWxmLm51bVBhc3NlZCA9IDBcbiAgICAgICAgc2VsZi5udW1GYWlsZWQgPSAwXG4gICAgICAgIHNlbGYuYXNzZXJ0UGFzc2VkID0gMFxuICAgICAgICBzZWxmLmFzc2VydEZhaWxlZCA9IDBcbiAgICAgICAgc2VsZi52ZXJib3NpdHkgPSAxXG4gICAgICAgIHNlbGYudGxpc3QgPSBbXVxuICAgICAgICB0ZXN0TmFtZXMgPSB7fVxuICAgICAgICBmb3IgbmFtZSBpbiBkaXIoc2VsZik6XG4gICAgICAgICAgICBpZiBuYW1lWzo0XSA9PSBcJ3Rlc3RcJyBhbmQgbmFtZSBub3QgaW4gdGVzdE5hbWVzOlxuICAgICAgICAgICAgICAgIHNlbGYudGxpc3QuYXBwZW5kKGdldGF0dHIoc2VsZixuYW1lKSlcbiAgICAgICAgICAgICAgICB0ZXN0TmFtZXNbbmFtZV09VHJ1ZVxuXG4gICAgZGVmIHNldFVwKHNlbGYpOlxuICAgICAgICBwYXNzXG5cbiAgICBkZWYgdGVhckRvd24oc2VsZik6XG4gICAgICAgIHBhc3NcbiAgICBcbiAgICBkZWYgY2xlYW5OYW1lKHNlbGYsZnVuY05hbWUpOlxuICAgICMgd29yayBhcm91bmQgc2t1bHB0cyBsYWNrIG9mIGFuIF9fbmFtZV9fXG4gICAgICAgIGZ1bmNOYW1lID0gc3RyKGZ1bmNOYW1lKVxuICAgICAgICBmdW5jTmFtZSA9IGZ1bmNOYW1lWzEzOl1cbiAgICAgICAgZnVuY05hbWUgPSBmdW5jTmFtZVs6ZnVuY05hbWUuZmluZChcJzxcJyktM11cbiAgICAgICAgcmV0dXJuIGZ1bmNOYW1lXG5cbiAgICBkZWYgbWFpbihzZWxmKTpcblxuICAgICAgICBmb3IgZnVuYyBpbiBzZWxmLnRsaXN0OlxuICAgICAgICAgICAgaWYgc2VsZi52ZXJib3NpdHkgPiAxOlxuICAgICAgICAgICAgICAgIHByaW50KFwnUnVubmluZyAlc1wnICUgc2VsZi5jbGVhbk5hbWUoZnVuYykpXG4gICAgICAgICAgICB0cnk6XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRVcCgpXG4gICAgICAgICAgICAgICAgc2VsZi5hc3NlcnRQYXNzZWQgPSAwXG4gICAgICAgICAgICAgICAgc2VsZi5hc3NlcnRGYWlsZWQgPSAwXG4gICAgICAgICAgICAgICAgZnVuYygpXG4gICAgICAgICAgICAgICAgc2VsZi50ZWFyRG93bigpXG4gICAgICAgICAgICAgICAgaWYgc2VsZi5hc3NlcnRGYWlsZWQgPT0gMDpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5udW1QYXNzZWQgKz0gMVxuICAgICAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubnVtRmFpbGVkICs9IDFcbiAgICAgICAgICAgICAgICAgICAgcHJpbnQoXCdUZXN0cyBmYWlsZWQgaW4gJXMgXCcgJSBzZWxmLmNsZWFuTmFtZShmdW5jKSlcbiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgICAgICAgICBzZWxmLmFzc2VydEZhaWxlZCArPSAxXG4gICAgICAgICAgICAgICAgc2VsZi5udW1GYWlsZWQgKz0gMVxuICAgICAgICAgICAgICAgIHByaW50KFwnVGVzdCB0aHJldyBleGNlcHRpb24gaW4gJXMgKCVzKVwnICUgKHNlbGYuY2xlYW5OYW1lKGZ1bmMpLCBlKSlcbiAgICAgICAgc2VsZi5zaG93U3VtbWFyeSgpXG5cbiAgICBkZWYgYXNzZXJ0RXF1YWwoc2VsZiwgYWN0dWFsLCBleHBlY3RlZCwgZmVlZGJhY2s9IiIpOlxuICAgICAgICByZXMgPSBhY3R1YWw9PWV4cGVjdGVkXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gZXF1YWwgJXMiICUgKHN0cihhY3R1YWwpLHN0cihleHBlY3RlZCkpXG4gICAgICAgIHNlbGYuYXBwZW5kUmVzdWx0KHJlcywgYWN0dWFsICxleHBlY3RlZCwgZmVlZGJhY2spXG5cbiAgICBkZWYgYXNzZXJ0Tm90RXF1YWwoc2VsZiwgYWN0dWFsLCBleHBlY3RlZCwgZmVlZGJhY2s9IiIpOlxuICAgICAgICByZXMgPSBhY3R1YWwgIT0gZXhwZWN0ZWRcbiAgICAgICAgaWYgbm90IHJlcyBhbmQgZmVlZGJhY2sgPT0gIiI6XG4gICAgICAgICAgICBmZWVkYmFjayA9ICJFeHBlY3RlZCAlcyB0byBub3QgZXF1YWwgJXMiICUgKHN0cihhY3R1YWwpLHN0cihleHBlY3RlZCkpXG4gICAgICAgIHNlbGYuYXBwZW5kUmVzdWx0KHJlcywgYWN0dWFsLCBleHBlY3RlZCwgZmVlZGJhY2spXG5cbiAgICBkZWYgYXNzZXJ0VHJ1ZShzZWxmLHgsIGZlZWRiYWNrPSIiKTpcbiAgICAgICAgcmVzID0gYm9vbCh4KSBpcyBUcnVlXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gYmUgVHJ1ZSIgJSAoc3RyKHgpKVxuICAgICAgICBzZWxmLmFwcGVuZFJlc3VsdChyZXMsIHgsIFRydWUsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydEZhbHNlKHNlbGYseCwgZmVlZGJhY2s9IiIpOlxuICAgICAgICByZXMgPSBub3QgYm9vbCh4KVxuICAgICAgICBpZiBub3QgcmVzIGFuZCBmZWVkYmFjayA9PSAiIjpcbiAgICAgICAgICAgIGZlZWRiYWNrID0gIkV4cGVjdGVkICVzIHRvIGJlIEZhbHNlIiAlIChzdHIoeCkpXG4gICAgICAgIHNlbGYuYXBwZW5kUmVzdWx0KHJlcywgeCwgRmFsc2UsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydElzKHNlbGYsYSxiLCBmZWVkYmFjaz0iIik6XG4gICAgICAgIHJlcyA9IGEgaXMgYlxuICAgICAgICBpZiBub3QgcmVzIGFuZCBmZWVkYmFjayA9PSAiIjpcbiAgICAgICAgICAgIGZlZWRiYWNrID0gIkV4cGVjdGVkICVzIHRvIGJlIHRoZSBzYW1lIG9iamVjdCBhcyAlcyIgJSAoc3RyKGEpLHN0cihiKSlcbiAgICAgICAgc2VsZi5hcHBlbmRSZXN1bHQocmVzLCBhLCBiLCBmZWVkYmFjaylcblxuICAgIGRlZiBhc3NlcnRJc05vdChzZWxmLGEsYiwgZmVlZGJhY2s9IiIpOlxuICAgICAgICByZXMgPSBhIGlzIG5vdCBiXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gbm90IGJlIHRoZSBzYW1lIG9iamVjdCBhcyAlcyIgJSAoc3RyKGEpLHN0cihiKSlcbiAgICAgICAgc2VsZi5hcHBlbmRSZXN1bHQocmVzLCBhLCBiLCBmZWVkYmFjaylcblxuICAgIGRlZiBhc3NlcnRJc05vbmUoc2VsZix4LCBmZWVkYmFjaz0iIik6XG4gICAgICAgIHJlcyA9IHggaXMgTm9uZVxuICAgICAgICBpZiBub3QgcmVzIGFuZCBmZWVkYmFjayA9PSAiIjpcbiAgICAgICAgICAgIGZlZWRiYWNrID0gIkV4cGVjdGVkICVzIHRvIGJlIE5vbmUiICUgKHN0cih4KSlcbiAgICAgICAgc2VsZi5hcHBlbmRSZXN1bHQocmVzLCB4LCBOb25lLCBmZWVkYmFjaylcblxuICAgIGRlZiBhc3NlcnRJc05vdE5vbmUoc2VsZix4LCBmZWVkYmFjaz0iIik6XG4gICAgICAgIHJlcyA9IHggaXMgbm90IE5vbmVcbiAgICAgICAgaWYgbm90IHJlcyBhbmQgZmVlZGJhY2sgPT0gIiI6XG4gICAgICAgICAgICBmZWVkYmFjayA9ICJFeHBlY3RlZCAlcyB0byBub3QgYmUgTm9uZSIgJSAoc3RyKHgpKVxuICAgICAgICBzZWxmLmFwcGVuZFJlc3VsdChyZXMsIHgsIE5vbmUsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydEluKHNlbGYsIGEsIGIsIGZlZWRiYWNrPSIiKTpcbiAgICAgICAgcmVzID0gYSBpbiBiXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gYmUgaW4gJXMiICUgKHN0cihhKSxzdHIoYikpXG4gICAgICAgIHNlbGYuYXBwZW5kUmVzdWx0KHJlcywgYSwgYiwgZmVlZGJhY2spXG5cbiAgICBkZWYgYXNzZXJ0Tm90SW4oc2VsZiwgYSwgYiwgZmVlZGJhY2s9IiIpOlxuICAgICAgICByZXMgPSBhIG5vdCBpbiBiXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gbm90IGJlIGluICVzIiAlIChzdHIoYSksc3RyKGIpKVxuICAgICAgICBzZWxmLmFwcGVuZFJlc3VsdChyZXMsIGEsIGIsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydElzSW5zdGFuY2Uoc2VsZixhLGIsIGZlZWRiYWNrPSIiKTpcbiAgICAgICAgcmVzID0gaXNpbnN0YW5jZShhLGIpXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gYmUgYW4gaW5zdGFuY2Ugb2YgJXMiICUgKHN0cihhKSwgc3RyKGIpKVxuICAgICAgICBzZWxmLmFwcGVuZFJlc3VsdChyZXMsIGEsIGIsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydE5vdElzSW5zdGFuY2Uoc2VsZixhLGIsIGZlZWRiYWNrPSIiKTpcbiAgICAgICAgcmVzID0gbm90IGlzaW5zdGFuY2UoYSxiKVxuICAgICAgICBpZiBub3QgcmVzIGFuZCBmZWVkYmFjayA9PSAiIjpcbiAgICAgICAgICAgIGZlZWRiYWNrID0gIkV4cGVjdGVkICVzIHRvIG5vdCBiZSBhbiBpbnN0YW5jZSBvZiAlcyIgJSAoc3RyKGEpLHN0cihiKSlcbiAgICAgICAgc2VsZi5hcHBlbmRSZXN1bHQocmVzLCBhLCBiLCBmZWVkYmFjaylcblxuICAgIGRlZiBhc3NlcnRBbG1vc3RFcXVhbChzZWxmLCBhLCBiLCBwbGFjZXM9NywgZmVlZGJhY2s9IiIsIGRlbHRhPU5vbmUpOlxuXG4gICAgICAgIGlmIGRlbHRhIGlzIG5vdCBOb25lOlxuICAgICAgICAgICAgcmVzID0gYWJzKGEtYikgPD0gZGVsdGFcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIGlmIHBsYWNlcyBpcyBOb25lOlxuICAgICAgICAgICAgICAgIHBsYWNlcyA9IDdcbiAgICAgICAgICAgIHJlcyA9IHJvdW5kKGEtYiwgcGxhY2VzKSA9PSAwXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgcmVzIGFuZCBmZWVkYmFjayA9PSAiIjpcbiAgICAgICAgICAgIGZlZWRiYWNrID0gIkV4cGVjdGVkICVzIHRvIGVxdWFsICVzIiAlIChzdHIoYSksc3RyKGIpKVxuICAgICAgICBzZWxmLmFwcGVuZFJlc3VsdChyZXMsIGEsIGIsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydE5vdEFsbW9zdEVxdWFsKHNlbGYsIGEsIGIsIHBsYWNlcz03LCBmZWVkYmFjaz0iIiwgZGVsdGE9Tm9uZSk6XG5cbiAgICAgICAgaWYgZGVsdGEgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICByZXMgPSBub3QgKGEgPT0gYikgYW5kIGFicyhhIC0gYikgPiBkZWx0YVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgaWYgcGxhY2VzIGlzIE5vbmU6XG4gICAgICAgICAgICAgICAgcGxhY2VzID0gN1xuXG4gICAgICAgICAgICByZXMgPSByb3VuZChhLWIsIHBsYWNlcykgIT0gMFxuXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gbm90IGVxdWFsICVzIiAlIChzdHIoYSksc3RyKGIpKVxuICAgICAgICBzZWxmLmFwcGVuZFJlc3VsdChyZXMsIGEsIGIsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydEdyZWF0ZXIoc2VsZixhLGIsIGZlZWRiYWNrPSIiKTpcbiAgICAgICAgcmVzID0gYSA+IGJcbiAgICAgICAgaWYgbm90IHJlcyBhbmQgZmVlZGJhY2sgPT0gIiI6XG4gICAgICAgICAgICBmZWVkYmFjayA9ICJFeHBlY3RlZCAlcyB0byBiZSBncmVhdGVyIHRoYW4gJXMiICUgKHN0cihhKSxzdHIoYikpXG4gICAgICAgIHNlbGYuYXBwZW5kUmVzdWx0KHJlcywgYSwgYiwgZmVlZGJhY2spXG5cbiAgICBkZWYgYXNzZXJ0R3JlYXRlckVxdWFsKHNlbGYsYSxiLCBmZWVkYmFjaz0iIik6XG4gICAgICAgIHJlcyA9IGEgPj0gYlxuICAgICAgICBpZiBub3QgcmVzIGFuZCBmZWVkYmFjayA9PSAiIjpcbiAgICAgICAgICAgIGZlZWRiYWNrID0gIkV4cGVjdGVkICVzIHRvIGJlID49ICVzIiAlIChzdHIoYSksc3RyKGIpKVxuICAgICAgICBzZWxmLmFwcGVuZFJlc3VsdChyZXMsIGEsIGIsIGZlZWRiYWNrKVxuXG4gICAgZGVmIGFzc2VydExlc3Moc2VsZiwgYSwgYiwgZmVlZGJhY2s9IiIpOlxuICAgICAgICByZXMgPSBhIDwgYlxuICAgICAgICBpZiBub3QgcmVzIGFuZCBmZWVkYmFjayA9PSAiIjpcbiAgICAgICAgICAgIGZlZWRiYWNrID0gIkV4cGVjdGVkICVzIHRvIGJlIGxlc3MgdGhhbiAlcyIgJSAoc3RyKGEpLHN0cihiKSlcbiAgICAgICAgc2VsZi5hcHBlbmRSZXN1bHQocmVzLCBhLCBiLCBmZWVkYmFjaylcblxuICAgIGRlZiBhc3NlcnRMZXNzRXF1YWwoc2VsZixhLGIsIGZlZWRiYWNrPSIiKTpcbiAgICAgICAgcmVzID0gYSA8PSBiXG4gICAgICAgIGlmIG5vdCByZXMgYW5kIGZlZWRiYWNrID09ICIiOlxuICAgICAgICAgICAgZmVlZGJhY2sgPSAiRXhwZWN0ZWQgJXMgdG8gYmUgPD0gJXMiICUgKHN0cihhKSxzdHIoYikpXG4gICAgICAgIHNlbGYuYXBwZW5kUmVzdWx0KHJlcywgYSwgYiwgZmVlZGJhY2spXG5cbiAgICBkZWYgYXBwZW5kUmVzdWx0KHNlbGYscmVzLGFjdHVhbCxleHBlY3RlZCxmZWVkYmFjayk6XG4gICAgICAgIGlmIHJlczpcbiAgICAgICAgICAgIG1zZyA9IFwnUGFzc1wnXG4gICAgICAgICAgICBzZWxmLmFzc2VydFBhc3NlZCArPSAxXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICBtc2cgPSBcJ0ZhaWw6IFwnICsgIGZlZWRiYWNrXG4gICAgICAgICAgICBwcmludChtc2cpXG4gICAgICAgICAgICBzZWxmLmFzc2VydEZhaWxlZCArPSAxXG5cbiAgICBkZWYgYXNzZXJ0UmFpc2VzKHNlbGYsIGV4Y2VwdGlvbiwgY2FsbGFibGU9Tm9uZSwgKmFyZ3MsICoqa3dkcyk6XG4gICAgICAgICMgd2l0aCBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCBoZW5jZSB3ZSBqdXN0IHRyeSBhbmQgY2F0Y2hcbiAgICAgICAgaWYgY2FsbGFibGUgaXMgTm9uZTpcbiAgICAgICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoImFzc2VydFJhaXNlcyBkb2VzIGN1cnJlbnRseSBub3Qgc3VwcG9ydCBhc3NlcnQgY29udGV4dHMiKVxuICAgICAgICBpZiBrd2RzOlxuICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiYXNzZXJ0UmFpc2VzIGRvZXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ICoqa3dkcyIpXG5cbiAgICAgICAgcmVzID0gRmFsc2VcbiAgICAgICAgYWN0dWFsZXJyb3IgPSBzdHIoZXhjZXB0aW9uKCkpXG4gICAgICAgIHRyeTpcbiAgICAgICAgICAgIGNhbGxhYmxlKCphcmdzKVxuICAgICAgICBleGNlcHQgZXhjZXB0aW9uIGFzIGV4OlxuICAgICAgICAgICAgcmVzID0gVHJ1ZVxuICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGluc3Q6XG4gICAgICAgICAgICBhY3R1YWxlcnJvciA9IHN0cihpbnN0KVxuICAgICAgICAgICAgcHJpbnQoIkFDVCA9ICIsIGFjdHVhbGVycm9yLCBzdHIoZXhjZXB0aW9uKCkpKVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgYWN0dWFsZXJyb3IgPSAiTm8gRXJyb3IiXG5cbiAgICAgICAgc2VsZi5hcHBlbmRSZXN1bHQocmVzLCBzdHIoZXhjZXB0aW9uKCkpLCBhY3R1YWxlcnJvciwgIiIpXG5cbiAgICBkZWYgZmFpbChzZWxmLCBtc2c9Tm9uZSk6XG4gICAgICAgIGlmIG1zZyBpcyBOb25lOlxuICAgICAgICAgICAgbXNnID0gXCdGYWlsXCdcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIG1zZyA9IFwnRmFpbDogXCcgKyBtc2dcbiAgICAgICAgcHJpbnQobXNnKVxuICAgICAgICBzZWxmLmFzc2VydEZhaWxlZCArPSAxXG5cbiAgICBkZWYgc2hvd1N1bW1hcnkoc2VsZik6XG4gICAgICAgIHBjdCA9IHNlbGYubnVtUGFzc2VkIC8gKHNlbGYubnVtUGFzc2VkK3NlbGYubnVtRmFpbGVkKSAqIDEwMFxuICAgICAgICBwcmludCgiUmFuICVkIHRlc3RzLCBwYXNzZWQ6ICVkIGZhaWxlZDogJWRcXG4iICUgKHNlbGYubnVtUGFzc2VkK3NlbGYubnVtRmFpbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm51bVBhc3NlZCwgc2VsZi5udW1GYWlsZWQpKVxuXG5cblxuZGVmIG1haW4odmVyYm9zaXR5PTEpOlxuICAgIGdsb2IgPSBnbG9iYWxzKCkgIyBnbG9iYWxzKCkgc3RpbGwgbmVlZHMgd29ya1xuICAgIGZvciBuYW1lIGluIGdsb2I6XG4gICAgICAgIGlmIHR5cGUoZ2xvYltuYW1lXSkgPT0gdHlwZSBhbmQgaXNzdWJjbGFzcyhnbG9iW25hbWVdLCBUZXN0Q2FzZSk6XG4gICAgICAgICAgICB0cnk6XG4gICAgICAgICAgICAgICAgdGMgPSBnbG9iW25hbWVdKClcbiAgICAgICAgICAgICAgICB0Yy52ZXJib3NpdHkgPSB2ZXJib3NpdHlcbiAgICAgICAgICAgICAgICB0Yy5tYWluKClcbiAgICAgICAgICAgIGV4Y2VwdDpcbiAgICAgICAgICAgICAgICBwcmludCgiVW5jYXVnaHQgRXJyb3IgaW46ICIsIG5hbWUpXG4nLAogICAgInNyYy9saWIvdW5pdHRlc3QvZ3VpLnB5IjoKICAgICAgImltcG9ydCBkb2N1bWVudFxuZnJvbSB1bml0dGVzdCBpbXBvcnQgVGVzdENhc2VcblxuY2xhc3MgVGVzdENhc2VHdWkoVGVzdENhc2UpOlxuICAgICBkZWYgX19pbml0X18oc2VsZik6XG4gICAgICAgICAgVGVzdENhc2UuX19pbml0X18oc2VsZilcbiAgICAgICAgICBzZWxmLmRpdmlkID0gZG9jdW1lbnQuY3VycmVudERpdigpXG4gICAgICAgICAgc2VsZi5teWRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGYuZGl2aWQpXG4gICAgICAgICAgcmVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZi5kaXZpZCsnX3VuaXRfcmVzdWx0cycpXG4gICAgICAgICAgaWYgcmVzOlxuICAgICAgICAgICAgICBzZWxmLnJlc2RpdiA9IHJlc1xuICAgICAgICAgICAgICByZXMuaW5uZXJIVE1MID0gJydcbiAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICBzZWxmLnJlc2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgIHNlbGYucmVzZGl2LnNldEF0dHJpYnV0ZSgnaWQnLHNlbGYuZGl2aWQrJ191bml0X3Jlc3VsdHMnKVxuICAgICAgICAgICAgICBzZWxmLnJlc2Rpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywndW5pdHRlc3QtcmVzdWx0cycpXG4gICAgICAgICAgICAgIHNlbGYubXlkaXYuYXBwZW5kQ2hpbGQoc2VsZi5yZXNkaXYpXG5cblxuICAgICBkZWYgbWFpbihzZWxmKTpcbiAgICAgICAgIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpXG4gICAgICAgICBzZWxmLnJlc1RhYmxlID0gdFxuICAgICAgICAgc2VsZi5yZXNkaXYuYXBwZW5kQ2hpbGQoc2VsZi5yZXNUYWJsZSlcblxuICAgICAgICAgaGVhZGVycyA9IFsnUmVzdWx0JywnQWN0dWFsIFZhbHVlJywnRXhwZWN0ZWQgVmFsdWUnLCdOb3RlcyddXG4gICAgICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpXG4gICAgICAgICBmb3IgaXRlbSBpbiBoZWFkZXJzOlxuICAgICAgICAgICAgIGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpXG4gICAgICAgICAgICAgaGVhZC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnYWMtZmVlZGJhY2snKVxuICAgICAgICAgICAgIGhlYWQuaW5uZXJIVE1MID0gaXRlbVxuICAgICAgICAgICAgIGhlYWQuc2V0Q1NTKCd0ZXh0LWFsaWduJywnY2VudGVyJylcbiAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaGVhZClcbiAgICAgICAgIHNlbGYucmVzVGFibGUuYXBwZW5kQ2hpbGQocm93KVxuXG4gICAgICAgICBmb3IgZnVuYyBpbiBzZWxmLnRsaXN0OlxuICAgICAgICAgICAgIHRyeTpcbiAgICAgICAgICAgICAgICAgc2VsZi5zZXRVcCgpXG4gICAgICAgICAgICAgICAgIGZ1bmMoKVxuICAgICAgICAgICAgICAgICBzZWxmLnRlYXJEb3duKClcbiAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgICAgICAgICAgICAgIHNlbGYuYXBwZW5kUmVzdWx0KCdFcnJvcicsIE5vbmUsIE5vbmUsIGUpXG4gICAgICAgICAgICAgICAgIHNlbGYubnVtRmFpbGVkICs9IDFcbiAgICAgICAgICAgICAgICAgc2VsZi5zaG93U3VtbWFyeSgpXG5cbiAgICAgZGVmIGFwcGVuZFJlc3VsdChzZWxmLHJlcyxhY3R1YWwsZXhwZWN0ZWQscGFyYW0pOlxuICAgICAgICAgdHJpbUFjdHVhbCA9IEZhbHNlXG4gICAgICAgICBpZiBsZW4oc3RyKGFjdHVhbCkpID4gMTU6XG4gICAgICAgICAgICAgdHJpbUFjdHVhbCA9IFRydWVcbiAgICAgICAgICAgICBhY3R1YWxUeXBlID0gdHlwZShhY3R1YWwpXG4gICAgICAgICB0cmltRXhwZWN0ZWQgPSBGYWxzZVxuICAgICAgICAgaWYgbGVuKHN0cihleHBlY3RlZCkpID4gMTU6XG4gICAgICAgICAgICAgdHJpbUV4cGVjdGVkID0gVHJ1ZVxuICAgICAgICAgICAgIGV4cGVjdGVkVHlwZSA9IHR5cGUoZXhwZWN0ZWQpXG4gICAgICAgICByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpXG4gICAgICAgICBlcnIgPSBGYWxzZVxuICAgICAgICAgaWYgcmVzID09ICdFcnJvcic6XG4gICAgICAgICAgICAgZXJyID0gVHJ1ZVxuICAgICAgICAgICAgIG1zZyA9ICdFcnJvcjogJXMnICUgcGFyYW1cbiAgICAgICAgICAgICBlcnJvckRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgICAgICAgZXJyb3JEYXRhLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdhYy1mZWVkYmFjaycpXG4gICAgICAgICAgICAgZXJyb3JEYXRhLmlubmVySFRNTCA9ICdFUlJPUidcbiAgICAgICAgICAgICBlcnJvckRhdGEuc2V0Q1NTKCdiYWNrZ3JvdW5kLWNvbG9yJywnI2RlOGU5NicpXG4gICAgICAgICAgICAgZXJyb3JEYXRhLnNldENTUygndGV4dC1hbGlnbicsJ2NlbnRlcicpXG4gICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGVycm9yRGF0YSlcbiAgICAgICAgIGVsaWYgcmVzOlxuICAgICAgICAgICAgIHBhc3NlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgICAgICAgICBwYXNzZWQuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2FjLWZlZWRiYWNrJylcbiAgICAgICAgICAgICBwYXNzZWQuaW5uZXJIVE1MID0gJ1Bhc3MnXG4gICAgICAgICAgICAgcGFzc2VkLnNldENTUygnYmFja2dyb3VuZC1jb2xvcicsJyM4M2QzODInKVxuICAgICAgICAgICAgIHBhc3NlZC5zZXRDU1MoJ3RleHQtYWxpZ24nLCdjZW50ZXInKVxuICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChwYXNzZWQpXG4gICAgICAgICAgICAgc2VsZi5udW1QYXNzZWQgKz0gMVxuICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICBmYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgICAgICAgIGZhaWwuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2FjLWZlZWRiYWNrJylcbiAgICAgICAgICAgICBmYWlsLmlubmVySFRNTCA9ICdGYWlsJ1xuICAgICAgICAgICAgIGZhaWwuc2V0Q1NTKCdiYWNrZ3JvdW5kLWNvbG9yJywnI2RlOGU5NicpXG4gICAgICAgICAgICAgZmFpbC5zZXRDU1MoJ3RleHQtYWxpZ24nLCdjZW50ZXInKVxuICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChmYWlsKVxuICAgICAgICAgICAgIHNlbGYubnVtRmFpbGVkICs9IDFcblxuXG4gICAgICAgICBhY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgICBhY3Quc2V0QXR0cmlidXRlKCdjbGFzcycsJ2FjLWZlZWRiYWNrJylcbiAgICAgICAgIGlmIHRyaW1BY3R1YWw6XG4gICAgICAgICAgICAgYWN0SFRNTCA9IHN0cihhY3R1YWwpWzo1XSArIFwiLi4uXCIgKyBzdHIoYWN0dWFsKVstNTpdXG4gICAgICAgICAgICAgaWYgYWN0dWFsVHlwZSA9PSBzdHI6XG4gICAgICAgICAgICAgICAgIGFjdEhUTUwgPSByZXByKGFjdEhUTUwpXG4gICAgICAgICAgICAgYWN0LmlubmVySFRNTCA9IGFjdEhUTUxcbiAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgYWN0LmlubmVySFRNTCA9IHJlcHIoYWN0dWFsKVxuICAgICAgICAgYWN0LnNldENTUygndGV4dC1hbGlnbicsJ2NlbnRlcicpXG4gICAgICAgICByb3cuYXBwZW5kQ2hpbGQoYWN0KVxuXG4gICAgICAgICBleHBlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgICBleHBlY3Quc2V0QXR0cmlidXRlKCdjbGFzcycsJ2FjLWZlZWRiYWNrJylcblxuICAgICAgICAgaWYgdHJpbUV4cGVjdGVkOlxuICAgICAgICAgICAgIGV4cGVjdGVkSFRNTCA9IHN0cihleHBlY3RlZClbOjVdICsgXCIuLi5cIiArIHN0cihleHBlY3RlZClbLTU6XVxuICAgICAgICAgICAgIGlmIGV4cGVjdGVkVHlwZSA9PSBzdHI6XG4gICAgICAgICAgICAgICAgIGV4cGVjdGVkSFRNTCA9IHJlcHIoZXhwZWN0ZWRIVE1MKVxuICAgICAgICAgICAgIGV4cGVjdC5pbm5lckhUTUwgPSBleHBlY3RlZEhUTUxcbiAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgZXhwZWN0LmlubmVySFRNTCA9IHJlcHIoZXhwZWN0ZWQpXG4gICAgICAgICBleHBlY3Quc2V0Q1NTKCd0ZXh0LWFsaWduJywnY2VudGVyJylcbiAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChleHBlY3QpXG4gICAgICAgICBpbnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgICBpbnAuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2FjLWZlZWRiYWNrJylcblxuICAgICAgICAgaWYgZXJyOlxuICAgICAgICAgICAgIGlucC5pbm5lckhUTUwgPSBtc2dcbiAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgaW5wLmlubmVySFRNTCA9IHBhcmFtXG4gICAgICAgICBpbnAuc2V0Q1NTKCd0ZXh0LWFsaWduJywnY2VudGVyJylcbiAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChpbnApXG4gICAgICAgICBzZWxmLnJlc1RhYmxlLmFwcGVuZENoaWxkKHJvdylcblxuXG4gICAgIGRlZiBzaG93U3VtbWFyeShzZWxmKTpcbiAgICAgICAgIHBjdCA9IHNlbGYubnVtUGFzc2VkIC8gKHNlbGYubnVtUGFzc2VkK3NlbGYubnVtRmFpbGVkKSAqIDEwMFxuICAgICAgICAgcFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICAgcFRhZy5pbm5lckhUTUwgPSBcIllvdSBwYXNzZWQ6IFwiICsgc3RyKHBjdCkgKyBcIiUgb2YgdGhlIHRlc3RzXCJcbiAgICAgICAgIHNlbGYucmVzZGl2LmFwcGVuZENoaWxkKHBUYWcpXG4iLAogICAgInNyYy9saWIvdXJsbGliL19faW5pdF9fLmpzIjogInZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3JldHVybnt9fTsiLAogICAgInNyYy9saWIvdXJsbGliL3JlcXVlc3QvX19pbml0X18uanMiOgogICAgICAndmFyICRidWlsdGlubW9kdWxlPWZ1bmN0aW9uKCl7dmFyIGE9e307cmV0dXJuIGEuUmVzcG9uc2U9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhhLGZ1bmN0aW9uKGEsYil7Yi5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7YS5kYXRhJD1iLnJlc3BvbnNlVGV4dCxhLmxpbmVMaXN0PWEuZGF0YSQuc3BsaXQoIlxcbiIpLGEubGluZUxpc3Q9YS5saW5lTGlzdC5zbGljZSgwLC0xKTtmb3IodmFyIGM9MDtjPGEubGluZUxpc3QubGVuZ3RoO2MrKylhLmxpbmVMaXN0W2NdKz0iXFxuIjthLmN1cnJlbnRMaW5lPTAsYS5wb3MkPTB9KSxiLl9fc3RyX189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpe3JldHVybiBTay5mZmkucmVtYXBUb1B5KCI8UmVzcG9uc2U+Iil9KSxiLl9faXRlcl9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7dmFyIGI9YS5saW5lTGlzdDtyZXR1cm4gU2suYnVpbHRpbi5tYWtlR2VuZXJhdG9yKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGluZGV4Pj10aGlzLiRsaW5lcy5sZW5ndGg/dm9pZCAwOm5ldyBTay5idWlsdGluLnN0cih0aGlzLiRsaW5lc1t0aGlzLiRpbmRleCsrXSl9LHskb2JqOmEsJGluZGV4OjAsJGxpbmVzOmJ9KX0pLGIucmVhZD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7aWYoYS5jbG9zZWQpdGhyb3cgbmV3IFNrLmJ1aWx0aW4uVmFsdWVFcnJvcigiSS9PIG9wZXJhdGlvbiBvbiBjbG9zZWQgZmlsZSIpO3ZhciBjPWEuZGF0YSQubGVuZ3RoO3ZvaWQgMD09PWImJihiPWMpO3ZhciBkPW5ldyBTay5idWlsdGluLnN0cihhLmRhdGEkLnN1YnN0cihhLnBvcyQsYikpO3JldHVybiBhLnBvcyQrPWIsYS5wb3MkPj1jJiYoYS5wb3MkPWMpLGR9KSxiLnJlYWRsaW5lPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7dmFyIGI9IiI7cmV0dXJuIGEuY3VycmVudExpbmU8YS5saW5lTGlzdC5sZW5ndGgmJihiPWEubGluZUxpc3RbYS5jdXJyZW50TGluZV0sYS5jdXJyZW50TGluZSsrKSxuZXcgU2suYnVpbHRpbi5zdHIoYil9KSxiLnJlYWRsaW5lcz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPWEuY3VycmVudExpbmU7YzxhLmxpbmVMaXN0Lmxlbmd0aDtjKyspYi5wdXNoKG5ldyBTay5idWlsdGluLnN0cihhLmxpbmVMaXN0W2NdKSk7cmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QoYil9KX0sIlJlc3BvbnNlIixbXSksYS51cmxvcGVuPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYixjKXt2YXIgZD1uZXcgUHJvbWlzZShmdW5jdGlvbihkKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkZW5kIixmdW5jdGlvbigpe2QoU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGEuUmVzcG9uc2UsW2VdKSl9KSxjPyhlLm9wZW4oIlBPU1QiLGIudiksZS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSxlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtbGVuZ3RoIixjLnYubGVuZ3RoKSxlLnNlbmQoYy52KSk6KGUub3BlbigiR0VUIixiLnYpLGUuc2VuZChudWxsKSl9KSxlPW5ldyBTay5taXNjZXZhbC5TdXNwZW5zaW9uO3JldHVybiBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiByZXNvbHV0aW9ufSxlLmRhdGE9e3R5cGU6IlNrLnByb21pc2UiLHByb21pc2U6ZC50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiByZXNvbHV0aW9uPWEsYX0sZnVuY3Rpb24oYSl7cmV0dXJuIHJlc29sdXRpb249IiIsYX0pfSxlfSksYX07JywKICAgICJzcmMvbGliL3VybGxpYjIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidXJsbGliMiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvdXJscGFyc2UucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidXJscGFyc2UgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3VzZXIucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidXNlciBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvdXUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidXUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3V1aWQucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigidXVpZCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvd2FybmluZ3MucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigid2FybmluZ3MgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3dhdmUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigid2F2ZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIvd2Vha3JlZi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ3ZWFrcmVmIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW4gU2t1bHB0IilcbicsCiAgICAic3JjL2xpYi93ZWJicm93c2VyLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIndlYmJyb3dzZXIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3dlYmdsL19faW5pdF9fLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBhPXt9LGM9ZnVuY3Rpb24oYSl7cmV0dXJuIjx0YWJsZSBzdHlsZT1cXCJiYWNrZ3JvdW5kLWNvbG9yOiAjOENFOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlO1xcIj48dHI+PHRkIGFsaWduPVxcImNlbnRlclxcIj48ZGl2IHN0eWxlPVxcImRpc3BsYXk6IHRhYmxlLWNlbGw7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFwiPjxkaXYgc3R5bGU9XFwiXFwiPiIrYSsiPC9kaXY+PC9kaXY+PC90ZD48L3RyPjwvdGFibGU+In0sZD0iVGhpcyBwYWdlIHJlcXVpcmVzIGEgYnJvd3NlciB0aGF0IHN1cHBvcnRzIFdlYkdMLjxici8+PGEgaHJlZj1cXCJodHRwOi8vZ2V0LndlYmdsLm9yZ1xcIj5DbGljayBoZXJlIHRvIHVwZ3JhZGUgeW91ciBicm93c2VyLjwvYT4iLGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVsid2ViZ2wiLCJleHBlcmltZW50YWwtd2ViZ2wiLCJ3ZWJraXQtM2QiLCJtb3otd2ViZ2wiXSxjPW51bGwsZD0wO2Q8Yi5sZW5ndGg7KytkKXt0cnl7Yz1hLmdldENvbnRleHQoYltkXSl9Y2F0Y2goYSl7fWlmKGMpYnJlYWt9aWYoYyl7ZnVuY3Rpb24gYigpe3JldHVybiExfWEub25zZWxlY3RzdGFydD1iLGEub25tb3VzZWRvd249Yn1yZXR1cm4gY30sZj1mdW5jdGlvbihhLGYpe3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO2lmKGZ8fChmPWcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhbnZhcyIpWzBdKSwhZilyZXR1cm4gdm9pZChnLmlubmVySFRNTD1jKGQpKTt2YXIgaD1lKGYpO2lmKCFoKXt2YXIgaT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oXFx3K1xcLy4qPyApL2cpLGo9e307dHJ5e2Zvcih2YXIgaz0wO2s8aS5sZW5ndGg7KytrKXtmb3IodmFyIGw9aVtrXS5tYXRjaCgvKFxcdyspL2cpLG09W10sbj0xO248bC5sZW5ndGg7KytuKW0ucHVzaChwYXJzZUludChsW25dKSk7altsWzBdXT1tfX1jYXRjaChhKXt9Zy5pbm5lckhUTUw9ai5DaHJvbWUmJig3PGouQ2hyb21lWzBdfHw3PT1qLkNocm9tZVswXSYmMDxqLkNocm9tZVsxXXx8Nz09ai5DaHJvbWVbMF0mJjA9PWouQ2hyb21lWzFdJiY1MjE8PWouQ2hyb21lWzJdKT9jKCJJdCBkb2VzblwndCBhcHBlYXIgeW91ciBjb21wdXRlciBjYW4gc3VwcG9ydCBXZWJHTC48YnIvPjxhIGhyZWY9XFwiaHR0cDovL2dldC53ZWJnbC5vcmdcXCI+Q2xpY2sgaGVyZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi48L2E+Iik6YyhkKX1yZXR1cm4gaH07cmV0dXJuIGEuQ29udGV4dD1Tay5taXNjZXZhbC5idWlsZENsYXNzKGEsZnVuY3Rpb24oYSxiKXtiLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiLnYpLGQ9ZihiLnYsYyk7aWYoIWQpdGhyb3cgbmV3IEVycm9yKCJZb3VyIGJyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIHN1cHBvcnQgV2ViR0wuIik7Zm9yKHZhciBlIGluIGEuZ2w9ZCxkLl9fcHJvdG9fXylpZigibnVtYmVyIj09dHlwZW9mIGQuX19wcm90b19fW2VdKVNrLmFic3RyLm9iamVjdFNldEl0ZW0oYS4kZCxuZXcgU2suYnVpbHRpbi5zdHIoZSksZC5fX3Byb3RvX19bZV0pO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGQuX19wcm90b19fW2VdKXN3aXRjaChlKXtjYXNlImJ1ZmZlckRhdGEiOmJyZWFrO2Nhc2UiY2xlYXJDb2xvciI6YnJlYWs7Y2FzZSJkcmF3QXJyYXlzIjpicmVhaztjYXNlImdldEF0dHJpYkxvY2F0aW9uIjpicmVhaztjYXNlImdldFVuaWZvcm1Mb2NhdGlvbiI6YnJlYWs7Y2FzZSJzaGFkZXJTb3VyY2UiOmJyZWFrO2Nhc2UidW5pZm9ybU1hdHJpeDRmdiI6YnJlYWs7Y2FzZSJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIjpicmVhaztjYXNlInZpZXdwb3J0IjpicmVhaztkZWZhdWx0OihmdW5jdGlvbihiKXtTay5hYnN0ci5vYmplY3RTZXRJdGVtKGEuJGQsbmV3IFNrLmJ1aWx0aW4uc3RyKGUpLG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKXt2YXIgYT1kLl9fcHJvdG9fX1tiXTtyZXR1cm4gYS5hcHBseShkLGFyZ3VtZW50cyl9KSl9KShlKTt9ZC5jbGVhckNvbG9yKDEwMC8yNTUsMTQ5LzI1NSwyMzcvMjU1LDEpLGQuY2xlYXIoZC5DT0xPUl9CVUZGRVJfQklUKX0pLGIudHAkZ2V0YXR0cj1Tay5idWlsdGluLm9iamVjdC5wcm90b3R5cGUuR2VuZXJpY0dldEF0dHIsYi5idWZmZXJEYXRhPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCl7YS5nbC5idWZmZXJEYXRhKGIsYy52LGQpfSksYi5jbGVhckNvbG9yPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCxlKXthLmdsLmNsZWFyQ29sb3IoU2suYnVpbHRpbi5hc251bSQoYiksU2suYnVpbHRpbi5hc251bSQoYyksU2suYnVpbHRpbi5hc251bSQoZCksU2suYnVpbHRpbi5hc251bSQoZSkpfSksYi5nZXRBdHRyaWJMb2NhdGlvbj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5nbC5nZXRBdHRyaWJMb2NhdGlvbihiLGMudil9KSxiLmdldFVuaWZvcm1Mb2NhdGlvbj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5nbC5nZXRVbmlmb3JtTG9jYXRpb24oYixjLnYpfSksYi5zaGFkZXJTb3VyY2U9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyl7YS5nbC5zaGFkZXJTb3VyY2UoYixjLnYpfSksYi5kcmF3QXJyYXlzPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGMsZCl7YS5nbC5kcmF3QXJyYXlzKFNrLmJ1aWx0aW4uYXNudW0kKGIpLFNrLmJ1aWx0aW4uYXNudW0kKGMpLFNrLmJ1aWx0aW4uYXNudW0kKGQpKX0pLGIudmVydGV4QXR0cmliUG9pbnRlcj1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2EuZ2wudmVydGV4QXR0cmliUG9pbnRlcihiLFNrLmJ1aWx0aW4uYXNudW0kKGMpLFNrLmJ1aWx0aW4uYXNudW0kKGQpLGUsU2suYnVpbHRpbi5hc251bSQoZiksU2suYnVpbHRpbi5hc251bSQoZykpfSksYi52aWV3cG9ydD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQsZSl7YS5nbC52aWV3cG9ydChTay5idWlsdGluLmFzbnVtJChiKSxTay5idWlsdGluLmFzbnVtJChjKSxTay5idWlsdGluLmFzbnVtJChkKSxTay5idWlsdGluLmFzbnVtJChlKSl9KSxiLnVuaWZvcm1NYXRyaXg0ZnY9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIsYyxkKXthLmdsLnVuaWZvcm1NYXRyaXg0ZnYoU2suYnVpbHRpbi5hc251bSQoYiksYyxkLnYpfSksYi5zZXREcmF3RnVuYz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IERhdGUoKS5nZXRUaW1lKCksZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe1NrLm1pc2NldmFsLmNhbGxzaW1BcnJheShiLFthLG5ldyBEYXRlKCkuZ2V0VGltZSgpLWNdKX0sMWUzLzYwKX0pfSwiQ29udGV4dCIsW10pLGEuRmxvYXQzMkFycmF5PVNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MoYSxmdW5jdGlvbihhLGIpe2IuX19pbml0X189bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGIpe2Eudj0ibnVtYmVyIj09dHlwZW9mIGI/bmV3IEZsb2F0MzJBcnJheShiKTpuZXcgRmxvYXQzMkFycmF5KFNrLmZmaS5yZW1hcFRvSnMoYikpfSksYi5fX3JlcHJfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLnYubGVuZ3RoOysrYyliLnB1c2goYS52W2NdKTtyZXR1cm4gbmV3IFNrLmJ1aWx0aW4uc3RyKCJbIitiLmpvaW4oIiwgIikrIl0iKX0pfSwiRmxvYXQzMkFycmF5IixbXSksYS5NYXRyaXg0eDQ9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhhLGZ1bmN0aW9uKGEsYil7Yi5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7YS52PW5ldyBGbG9hdDMyQXJyYXkoU2suZmZpLnJlbWFwVG9KcyhiKSl9KSxiLmlkZW50aXR5PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7dmFyIGI9YS52O2JbMF09MSxiWzFdPTAsYlsyXT0wLGJbM109MCxiWzRdPTAsYls1XT0xLGJbNl09MCxiWzddPTAsYls4XT0wLGJbOV09MCxiWzEwXT0xLGJbMTFdPTAsYlsxMl09MCxiWzEzXT0wLGJbMTRdPTAsYlsxNV09MX0pLGIucGVyc3BlY3RpdmU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGMsZCxlLGcpe3ZhciBoPU1hdGgudGFuLGk9TWF0aC5QSSxqPWgoLjUqaS0uNSooU2suYnVpbHRpbi5hc251bSQoYykqaS8xODApKSxsPVNrLmJ1aWx0aW4uYXNudW0kKGQpLGE9U2suYnVpbHRpbi5hc251bSQoZSksbj1Tay5idWlsdGluLmFzbnVtJChnKSxmPTEvKGEtbiksaz1iLnY7a1swXT1qL2wsa1sxXT0wLGtbMl09MCxrWzNdPTAsa1s0XT0wLGtbNV09aixrWzZdPTAsa1s3XT0wLGtbOF09MCxrWzldPTAsa1sxMF09KGErbikqZixrWzExXT0tMSxrWzEyXT0wLGtbMTNdPTAsa1sxNF09MiooYSpuKmYpLGtbMTVdPTB9KSxiLnRyYW5zbGF0ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7dmFyIGM9YS52LGQ9U2suZmZpLnJlbWFwVG9KcyhiKTtjWzBdPTEsY1sxXT0wLGNbMl09MCxjWzNdPTAsY1s0XT0wLGNbNV09MSxjWzZdPTAsY1s3XT0wLGNbOF09MCxjWzldPTAsY1sxMF09MSxjWzExXT0wLGNbMTJdPWRbMF0sY1sxM109ZFsxXSxjWzE0XT1kWzJdLGNbMTVdPTF9KSxiLl9fcmVwcl9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEudi5sZW5ndGg7KytjKWIucHVzaChhLnZbY10pO3JldHVybiBuZXcgU2suYnVpbHRpbi5zdHIoIlsiK2Iuam9pbigiLCAiKSsiXSIpfSl9LCJNYXRyaXg0eDQiLFtdKSxhfTsnLAogICAgInNyYy9saWIvd2ViZ2wvbWF0aC5qcyI6CiAgICAgICd2YXIgJGJ1aWx0aW5tb2R1bGU9ZnVuY3Rpb24oKXt2YXIgYT17fTtyZXR1cm4gYS5NYXQ0ND1Tay5taXNjZXZhbC5idWlsZENsYXNzKGEsZnVuY3Rpb24oYixjKXt2YXIgZD1NYXRoLnNxcnQ7Yy5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe1NrLm1pc2NldmFsLmNhbGxzaW1BcnJheShjLmxvYWRJZGVudGl0eSxbYV0pLGEuc3RhY2s9W119KSxjLnB1c2g9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhKXthLnN0YWNrLnB1c2goYS5lbGVtZW50cy5zbGljZSgwKSl9KSxjLnBvcD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2EuZWxlbWVudHM9YS5zdGFjay5wb3AoKX0pLGMubG9hZElkZW50aXR5PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7YS5lbGVtZW50cz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV19KSxjLnRyYW5zZm9ybTM9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGMpe3ZhciBkPWIuZWxlbWVudHM7cmV0dXJuIFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShhLlZlYzMsW2RbMF0qYy54K2RbNF0qYy55K2RbOF0qYy56LGRbMV0qYy54K2RbNV0qYy55K2RbOV0qYy56LGRbMl0qYy54K2RbNl0qYy55K2RbMTBdKmMuel0pfSksYy5zY2FsZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBhLmVsZW1lbnRzWzBdKj1iLGEuZWxlbWVudHNbMV0qPWIsYS5lbGVtZW50c1syXSo9YixhLmVsZW1lbnRzWzNdKj1iLGEuZWxlbWVudHNbNF0qPWMsYS5lbGVtZW50c1s1XSo9YyxhLmVsZW1lbnRzWzZdKj1jLGEuZWxlbWVudHNbN10qPWMsYS5lbGVtZW50c1s4XSo9ZCxhLmVsZW1lbnRzWzldKj1kLGEuZWxlbWVudHNbMTBdKj1kLGEuZWxlbWVudHNbMTFdKj1kLGF9KSxjLnRyYW5zbGF0ZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBhLmVsZW1lbnRzWzEyXSs9YS5lbGVtZW50c1swXSpiK2EuZWxlbWVudHNbNF0qYythLmVsZW1lbnRzWzhdKmQsYS5lbGVtZW50c1sxM10rPWEuZWxlbWVudHNbMV0qYithLmVsZW1lbnRzWzVdKmMrYS5lbGVtZW50c1s5XSpkLGEuZWxlbWVudHNbMTRdKz1hLmVsZW1lbnRzWzJdKmIrYS5lbGVtZW50c1s2XSpjK2EuZWxlbWVudHNbMTBdKmQsYS5lbGVtZW50c1sxNV0rPWEuZWxlbWVudHNbM10qYithLmVsZW1lbnRzWzddKmMrYS5lbGVtZW50c1sxMV0qZCxhfSksYy5yb3RhdGU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGMsZSxmLGcpe3ZhciBoPU1hdGguY29zLGk9TWF0aC5zaW4saj1NYXRoLlBJLGs9ZChlKmUrZipmK2cqZyksbD1pKGMqai8xODApLG09aChjKmovMTgwKTtpZigwPGspe3ZhciBuLG8scCxxLHIscyx0LHUsdix3LEE7ZS89ayxmLz1rLGcvPWssbj1lKmUsbz1mKmYscD1nKmcscT1lKmYscj1mKmcscz1nKmUsdD1lKmwsdT1mKmwsdj1nKmwsdz0xLW0sQT1Tay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYS5NYXQ0NCksQS5lbGVtZW50c1swXT13Km4rbSxBLmVsZW1lbnRzWzFdPXcqcS12LEEuZWxlbWVudHNbMl09dypzK3UsQS5lbGVtZW50c1szXT0wLEEuZWxlbWVudHNbNF09dypxK3YsQS5lbGVtZW50c1s1XT13Km8rbSxBLmVsZW1lbnRzWzZdPXcqci10LEEuZWxlbWVudHNbN109MCxBLmVsZW1lbnRzWzhdPXcqcy11LEEuZWxlbWVudHNbOV09dypyK3QsQS5lbGVtZW50c1sxMF09dypwK20sQS5lbGVtZW50c1sxMV09MCxBLmVsZW1lbnRzWzEyXT0wLEEuZWxlbWVudHNbMTNdPTAsQS5lbGVtZW50c1sxNF09MCxBLmVsZW1lbnRzWzE1XT0xLEE9QS5tdWx0aXBseShiKSxiLmVsZW1lbnRzPUEuZWxlbWVudHN9cmV0dXJuIGJ9KSxjLm11bHRpcGx5PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGEuTWF0NDQpLGU9MDs0PmU7ZSsrKWQuZWxlbWVudHNbNCplKzBdPWIuZWxlbWVudHNbNCplKzBdKmMuZWxlbWVudHNbMF0rYi5lbGVtZW50c1s0KmUrMV0qYy5lbGVtZW50c1s0XStiLmVsZW1lbnRzWzQqZSsyXSpjLmVsZW1lbnRzWzhdK2IuZWxlbWVudHNbNCplKzNdKmMuZWxlbWVudHNbMTJdLGQuZWxlbWVudHNbNCplKzFdPWIuZWxlbWVudHNbNCplKzBdKmMuZWxlbWVudHNbMV0rYi5lbGVtZW50c1s0KmUrMV0qYy5lbGVtZW50c1s1XStiLmVsZW1lbnRzWzQqZSsyXSpjLmVsZW1lbnRzWzldK2IuZWxlbWVudHNbNCplKzNdKmMuZWxlbWVudHNbMTNdLGQuZWxlbWVudHNbNCplKzJdPWIuZWxlbWVudHNbNCplKzBdKmMuZWxlbWVudHNbMl0rYi5lbGVtZW50c1s0KmUrMV0qYy5lbGVtZW50c1s2XStiLmVsZW1lbnRzWzQqZSsyXSpjLmVsZW1lbnRzWzEwXStiLmVsZW1lbnRzWzQqZSszXSpjLmVsZW1lbnRzWzE0XSxkLmVsZW1lbnRzWzQqZSszXT1iLmVsZW1lbnRzWzQqZSswXSpjLmVsZW1lbnRzWzNdK2IuZWxlbWVudHNbNCplKzFdKmMuZWxlbWVudHNbN10rYi5lbGVtZW50c1s0KmUrMl0qYy5lbGVtZW50c1sxMV0rYi5lbGVtZW50c1s0KmUrM10qYy5lbGVtZW50c1sxNV07cmV0dXJuIGIuZWxlbWVudHM9ZC5lbGVtZW50cyxifSksYy5sb29rQXQ9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGMsZSxmLGcsaCxpLGosayxsKXt2YXIgbT1bYy1nLGUtaCxmLWldLG49ZChtWzBdKm1bMF0rbVsxXSptWzFdK21bMl0qbVsyXSk7biYmKG1bMF0vPW4sbVsxXS89bixtWzJdLz1uKTt2YXIgbz1baixrLGxdLHA9W107cFswXT1vWzFdKm1bMl0tb1syXSptWzFdLHBbMV09LW9bMF0qbVsyXStvWzJdKm1bMF0scFsyXT1vWzBdKm1bMV0tb1sxXSptWzBdLG9bMF09bVsxXSpwWzJdLW1bMl0qcFsxXSxvWzFdPS1tWzBdKnBbMl0rbVsyXSpwWzBdLG9bMl09bVswXSpwWzFdLW1bMV0qcFswXSxuPWQocFswXSpwWzBdK3BbMV0qcFsxXStwWzJdKnBbMl0pLG4mJihwWzBdLz1uLHBbMV0vPW4scFsyXS89biksbj1kKG9bMF0qb1swXStvWzFdKm9bMV0rb1syXSpvWzJdKSxuJiYob1swXS89bixvWzFdLz1uLG9bMl0vPW4pO3ZhciBxPVNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShhLk1hdDQ0KTtyZXR1cm4gcS5lbGVtZW50c1swXT1wWzBdLHEuZWxlbWVudHNbNF09cFsxXSxxLmVsZW1lbnRzWzhdPXBbMl0scS5lbGVtZW50c1sxMl09MCxxLmVsZW1lbnRzWzFdPW9bMF0scS5lbGVtZW50c1s1XT1vWzFdLHEuZWxlbWVudHNbOV09b1syXSxxLmVsZW1lbnRzWzEzXT0wLHEuZWxlbWVudHNbMl09bVswXSxxLmVsZW1lbnRzWzZdPW1bMV0scS5lbGVtZW50c1sxMF09bVsyXSxxLmVsZW1lbnRzWzE0XT0wLHEuZWxlbWVudHNbM109MCxxLmVsZW1lbnRzWzddPTAscS5lbGVtZW50c1sxMV09MCxxLmVsZW1lbnRzWzE1XT0xLHE9cS5tdWx0aXBseShiKSxiLmVsZW1lbnRzPXEuZWxlbWVudHMsYi50cmFuc2xhdGUoLWMsLWUsLWYpLGJ9KX0sIk1hdDQ0IixbXSksYS5NYXQzMz1Tay5taXNjZXZhbC5idWlsZENsYXNzKGEsZnVuY3Rpb24oYSxiKXtiLl9faW5pdF9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSl7U2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGIubG9hZElkZW50aXR5LFthXSl9KSxiLmxvYWRJZGVudGl0eT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2EuZWxlbWVudHM9WzEsMCwwLDAsMSwwLDAsMCwxXX0pfSwiTWF0MzMiLFtdKSxhLlZlYzM9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhhLGZ1bmN0aW9uKGIsYyl7Yy5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYixjLGQpe2EueD1iLGEueT1jLGEuej1kfSksYy5fX3N1Yl9fPW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYixjKXtyZXR1cm4gU2subWlzY2V2YWwuY2FsbHNpbUFycmF5KGEuVmVjMyxbYi54LWMueCxiLnktYy55LGIuei1jLnpdKX0pfSwiVmVjMyIsW10pLGEuY3Jvc3M9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGMpe3JldHVybiBTay5hc3NlcnRzLmFzc2VydChiIGluc3RhbmNlb2YgYS5WZWMzJiZjIGluc3RhbmNlb2YgYS5WZWMzKSxTay5taXNjZXZhbC5jYWxsc2ltQXJyYXkoYS5WZWMzLFtiLnkqYy56LWIueipjLnksYi56KmMueC1iLngqYy56LGIueCpjLnktYi55KmMueF0pfSksYX07JywKICAgICJzcmMvbGliL3dlYmdsL21hdHJpeDQuanMiOgogICAgICAidmFyICRidWlsdGlubW9kdWxlPWZ1bmN0aW9uKCl7dmFyIGE9TWF0aC5QSSxiPXt9LGM9bmV3IEZsb2F0MzJBcnJheSgzKSxkPW5ldyBGbG9hdDMyQXJyYXkoMyksZT1uZXcgRmxvYXQzMkFycmF5KDMpLGY9bmV3IEZsb2F0MzJBcnJheSg0KSxnPW5ldyBGbG9hdDMyQXJyYXkoNCksaD1uZXcgRmxvYXQzMkFycmF5KDQpLGk9bmV3IEZsb2F0MzJBcnJheSgxNiksaj1uZXcgRmxvYXQzMkFycmF5KDE2KSxrPW5ldyBGbG9hdDMyQXJyYXkoMTYpLGw9ZnVuY3Rpb24oYixjKXtmb3IodmFyIGE9TWF0aC5zcXJ0LGQ9MCxlPWMubGVuZ3RoLGY9MDtmPGU7KytmKWQrPWNbZl0qY1tmXTtpZihkPWEoZCksMWUtNTxkKWZvcih2YXIgZj0wO2Y8ZTsrK2YpYltmXT1jW2ZdL2Q7ZWxzZSBmb3IodmFyIGY9MDtmPGU7KytmKWJbZl09MDtyZXR1cm4gYn0sbT1mdW5jdGlvbihjLGQsYSl7cmV0dXJuIGNbMF09ZFsxXSphWzJdLWRbMl0qYVsxXSxjWzFdPWRbMl0qYVswXS1kWzBdKmFbMl0sY1syXT1kWzBdKmFbMV0tZFsxXSphWzBdLGN9LG49ZnVuY3Rpb24oYyxkLGEpe2Zvcih2YXIgYj1kLmxlbmd0aCxlPTA7ZTxiOysrZSljW2VdPWRbZV0tYVtlXTtyZXR1cm4gY30sbz1mdW5jdGlvbihjLGEpe3JldHVybiBjWzBdKmFbMF0rY1sxXSphWzFdK2NbMl0qYVsyXX07cmV0dXJuIGIubG9va0F0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiLGYsZyl7dmFyIGg9YyxpPWQsaj1sKGgsbihoLGIudixmLnYpKSxrPWwoaSxtKGksZy52LGopKSxwPW0oZSxqLGspLHE9YS52O3JldHVybiBxWzBdPWtbMF0scVsxXT1wWzBdLHFbMl09alswXSxxWzNdPTAscVs0XT1rWzFdLHFbNV09cFsxXSxxWzZdPWpbMV0scVs3XT0wLHFbOF09a1syXSxxWzldPXBbMl0scVsxMF09alsyXSxxWzExXT0wLHFbMTJdPS1vKGssYi52KSxxWzEzXT0tbyhwLGIudikscVsxNF09LW8oaixiLnYpLHFbMTVdPTEsYX0pLGIucGVyc3BlY3RpdmU9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGMsZCxlLGcpe3ZhciBoPU1hdGgudGFuLGk9aCguNSphLS41KihjKmEvMTgwKSksZj0xLyhlLWcpLGo9Yi52O3JldHVybiBqWzBdPWkvZCxqWzFdPTAsalsyXT0wLGpbM109MCxqWzRdPTAsals1XT1pLGpbNl09MCxqWzddPTAsals4XT0wLGpbOV09MCxqWzEwXT0oZStnKSpmLGpbMTFdPS0xLGpbMTJdPTAsalsxM109MCxqWzE0XT0yKihlKmcqZiksalsxNV09MCxifSksYi5yb3RhdGlvblk9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihiLGQpe3ZhciBlPU1hdGguc2luLGY9TWF0aC5jb3MsZz1iLnYsaD1mKGQqYS8xODApLGM9ZShkKmEvMTgwKTtyZXR1cm4gZ1swXT1oLGdbMV09MCxnWzJdPS1jLGdbM109MCxnWzRdPTAsZ1s1XT0xLGdbNl09MCxnWzddPTAsZ1s4XT1jLGdbOV09MCxnWzEwXT1oLGdbMTFdPTAsZ1sxMl09MCxnWzEzXT0wLGdbMTRdPTAsZ1sxNV09MSxifSksYi5pZGVudGl0eT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe3ZhciBiPWEudjtyZXR1cm4gYlswXT0xLGJbMV09MCxiWzJdPTAsYlszXT0wLGJbNF09MCxiWzVdPTEsYls2XT0wLGJbN109MCxiWzhdPTAsYls5XT0wLGJbMTBdPTEsYlsxMV09MCxiWzEyXT0wLGJbMTNdPTAsYlsxNF09MCxiWzE1XT0xLGF9KSxiLm11bD1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsZCxlKXt2YXIgZj1jLnYsZz1kLnYsYT1lLnYsYj1nWzBdLGg9Z1sxXSxpPWdbMl0saj1nWzNdLGs9Z1s0XSxsPWdbNV0sbT1nWzZdLG49Z1s3XSxvPWdbOF0scD1nWzldLHE9Z1sxMF0scj1nWzExXSxzPWdbMTJdLHQ9Z1sxM10sdT1nWzE0XSx2PWdbMTVdLHc9YVswXSx4PWFbMV0seT1hWzJdLHo9YVszXSxBPWFbNF0sQj1hWzVdLEM9YVs2XSxEPWFbN10sRT1hWzhdLEY9YVs5XSxHPWFbMTBdLEg9YVsxMV0sST1hWzEyXSxKPWFbMTNdLEs9YVsxNF0sTD1hWzE1XTtyZXR1cm4gZlswXT1iKncraCpBK2kqRStqKkksZlsxXT1iKngraCpCK2kqRitqKkosZlsyXT1iKnkraCpDK2kqRytqKkssZlszXT1iKnoraCpEK2kqSCtqKkwsZls0XT1rKncrbCpBK20qRStuKkksZls1XT1rKngrbCpCK20qRituKkosZls2XT1rKnkrbCpDK20qRytuKkssZls3XT1rKnorbCpEK20qSCtuKkwsZls4XT1vKncrcCpBK3EqRStyKkksZls5XT1vKngrcCpCK3EqRityKkosZlsxMF09byp5K3AqQytxKkcrcipLLGZbMTFdPW8qeitwKkQrcSpIK3IqTCxmWzEyXT1zKncrdCpBK3UqRSt2KkksZlsxM109cyp4K3QqQit1KkYrdipKLGZbMTRdPXMqeSt0KkMrdSpHK3YqSyxmWzE1XT1zKnordCpEK3UqSCt2KkwsY30pLGIuaW52ZXJ0PW5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnYsZT1iLnYsZj1lWzBdLGc9ZVsxXSxoPWVbMl0saT1lWzNdLGo9ZVs0XSxrPWVbNV0sbD1lWzZdLG09ZVs3XSxuPWVbOF0sbz1lWzldLHA9ZVsxMF0scT1lWzExXSxyPWVbMTJdLHM9ZVsxM10sdD1lWzE0XSx1PWVbMTVdLHY9cCp1LHc9dCpxLHg9bCp1LHk9dCptLHo9bCpxLEE9cCptLEI9aCp1LEM9dCppLEQ9aCpxLEU9cCppLEY9aCptLEc9bCppLEg9bipzLEk9cipvLEo9aipzLEs9ciprLEw9aipvLE09biprLE49ZipzLE89cipnLFA9ZipvLFE9bipnLFI9ZiprLFM9aipnLFQ9diprK3kqbyt6KnMtKHcqayt4Km8rQSpzKSxVPXcqZytCKm8rRSpzLSh2KmcrQypvK0QqcyksVj14KmcrQyprK0Yqcy0oeSpnK0IqaytHKnMpLFc9QSpnK0QqaytHKm8tKHoqZytFKmsrRipvKSxYPTEvKGYqVCtqKlUrbipWK3IqVyk7cmV0dXJuIGNbMF09WCpULGNbMV09WCpVLGNbMl09WCpWLGNbM109WCpXLGNbNF09WCoodypqK3gqbitBKnItKHYqait5Km4reipyKSksY1s1XT1YKih2KmYrQypuK0Qqci0odypmK0IqbitFKnIpKSxjWzZdPVgqKHkqZitCKmorRypyLSh4KmYrQypqK0YqcikpLGNbN109WCooeipmK0UqaitGKm4tKEEqZitEKmorRypuKSksY1s4XT1YKihIKm0rSypxK0wqdS0oSSptK0oqcStNKnUpKSxjWzldPVgqKEkqaStOKnErUSp1LShIKmkrTypxK1AqdSkpLGNbMTBdPVgqKEoqaStPKm0rUip1LShLKmkrTiptK1MqdSkpLGNbMTFdPVgqKE0qaStQKm0rUypxLShMKmkrUSptK1IqcSkpLGNbMTJdPVgqKEoqcCtNKnQrSSpsLShMKnQrSCpsK0sqcCkpLGNbMTNdPVgqKFAqdCtIKmgrTypwLShOKnArUSp0K0kqaCkpLGNbMTRdPVgqKE4qbCtTKnQrSypoLShSKnQrSipoK08qbCkpLGNbMTVdPVgqKFIqcCtMKmgrUSpsLShQKmwrUypwK00qaCkpLGF9KSxiLnRyYW5zcG9zZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEudixkPWIudixlPTA7ND5lOysrZSlmb3IodmFyIGY9MDs0PmY7KytmKWNbNCplK2ZdPWRbNCpmK2VdO3JldHVybiBjfSksYn07IiwKICAgICJzcmMvbGliL3dlYmdsL21vZGVscy5qcyI6CiAgICAgICd2YXIgJGJ1aWx0aW5tb2R1bGU9ZnVuY3Rpb24oYSl7dmFyIGM9e30sZD1mdW5jdGlvbihhLGMpe3ZhciBkPWN8fGdsLkFSUkFZX0JVRkZFUixlPWdsLmNyZWF0ZUJ1ZmZlcigpO2lmKHRoaXMudGFyZ2V0PWQsdGhpcy5idWY9ZSx0aGlzLnNldChhKSx0aGlzLm51bUNvbXBvbmVudHNfPWEubnVtQ29tcG9uZW50cyx0aGlzLm51bUVsZW1lbnRzXz1hLm51bUVsZW1lbnRzLHRoaXMudG90YWxDb21wb25lbnRzXz10aGlzLm51bUNvbXBvbmVudHNfKnRoaXMubnVtRWxlbWVudHNfLGEuYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXRoaXMudHlwZV89Z2wuRkxPQVQ7ZWxzZSBpZihhLmJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpdGhpcy50eXBlXz1nbC5VTlNJR05FRF9CWVRFO2Vsc2UgaWYoYS5idWZmZXIgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpdGhpcy50eXBlXz1nbC5fQllURTtlbHNlIGlmKGEuYnVmZmVyIGluc3RhbmNlb2YgVWludDE2QXJyYXkpdGhpcy50eXBlXz1nbC5VTlNJR05FRF9TSE9SVDtlbHNlIGlmKGEuYnVmZmVyIGluc3RhbmNlb2YgSW50MTZBcnJheSl0aGlzLnR5cGVfPWdsLlNIT1JUO2Vsc2UgdGhyb3cidW5oYW5kbGVkIHR5cGU6Iit0eXBlb2YgYS5idWZmZXJ9O3JldHVybiBkLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSl7Z2wuYmluZEJ1ZmZlcih0aGlzLnRhcmdldCx0aGlzLmJ1ZiksZ2wuYnVmZmVyRGF0YSh0aGlzLnRhcmdldCxhLmJ1ZmZlcixnbC5TVEFUSUNfRFJBVyl9LGQucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlX30sZC5wcm90b3R5cGUubnVtQ29tcG9uZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm51bUNvbXBvbmVudHNffSxkLnByb3RvdHlwZS5udW1FbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm51bUVsZW1lbnRzX30sZC5wcm90b3R5cGUudG90YWxDb21wb25lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG90YWxDb21wb25lbnRzX30sZC5wcm90b3R5cGUuYnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmfSxkLnByb3RvdHlwZS5zdHJpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZC5wcm90b3R5cGUub2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGMuTW9kZWw9U2subWlzY2V2YWwuYnVpbGRDbGFzcyhjLGZ1bmN0aW9uKGMsZSl7ZS5fX2luaXRfXz1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGMsZSxmLGcpe2MuYnVmZmVycz17fTt2YXIgaD1mdW5jdGlvbihhLGUpe3ZhciBmPSJpbmRpY2VzIj09YT9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUjpnbC5BUlJBWV9CVUZGRVI7Yj1jLmJ1ZmZlcnNbYV0sYj9iLnNldChlKTpiPW5ldyBkKGUsZiksYy5idWZmZXJzW2FdPWJ9O2ZvcihhIGluIGYpaChhLGZbYV0pO3ZhciBpPXt9LGo9MDtmb3IodmFyIGsgaW4gZylpW2tdPWorKztjLm1vZGU9Z2wuVFJJQU5HTEVTLGMudGV4dHVyZXM9Zy52LGMudGV4dHVyZVVuaXRzPWksYy5zaGFkZXI9ZX0pLGUuZHJhd1ByZXA9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGMpe3ZhciBkPWEuc2hhZGVyLGU9YS5idWZmZXJzLGY9YS50ZXh0dXJlcztmb3IodmFyIGcgaW4gYz1Tay5mZmkucmVtYXBUb0pzKGMpLFNrLm1pc2NldmFsLmNhbGxzaW1BcnJheShkLnVzZSxbZF0pLGUpe3ZhciBoPWVbZ107aWYoImluZGljZXMiPT1nKWdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsaC5idWZmZXIoKSk7ZWxzZXt2YXIgaT1kLmF0dHJpYltnXTtpJiZpKGgpfX1mb3IodmFyIGogaW4gZil7dmFyIGs9YS50ZXh0dXJlVW5pdHNbal07ZC5zZXRVbmlmb3JtJGltcGwoZCx0ZXh0dWVyLGspLGZbal0uYmluZFRvVW5pdChrKX1mb3IodmFyIGwgaW4gYylkLnNldFVuaWZvcm0kaW1wbChkLGwsY1tsXSl9KSxlLmRyYXc9bmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihhLGMsZCl7dmFyIGU9YS5zaGFkZXI7Zm9yKHVuaWZvcm0gaW4gYz1Tay5mZmkucmVtYXBUb0pzKGMpLGMpZS5zZXRVbmlmb3JtJGltcGwoZSx1bmlmb3JtLGNbdW5pZm9ybV0pO2lmKGQpZm9yKHZhciBmIGluIGQpe3ZhciBnPWEudGV4dHVyZVVuaXRzW2ZdO2Uuc2V0VW5pZm9ybSRpbXBsKGUsZixnKSxkW2ZdLmJpbmRUb1VuaXQoZyl9dmFyIGg9YS5idWZmZXJzO2dsLmRyYXdFbGVtZW50cyhhLm1vZGUsaC5pbmRpY2VzLnRvdGFsQ29tcG9uZW50cygpLGdsLlVOU0lHTkVEX1NIT1JULDApfSl9LCJNb2RlbCIsW10pLGN9OycsCiAgICAic3JjL2xpYi93ZWJnbC9wcmltaXRpdmVzLmpzIjoKICAgICAgJ3ZhciAkYnVpbHRpbm1vZHVsZT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8IkZsb2F0MzJBcnJheSI7dmFyIGQ9d2luZG93W2NdO2IubGVuZ3RoPyh0aGlzLmJ1ZmZlcj1uZXcgZChiKSxiPXRoaXMuYnVmZmVyLmxlbmd0aC9hLHRoaXMuY3Vyc29yPWIpOih0aGlzLmJ1ZmZlcj1uZXcgZChhKmIpLHRoaXMuY3Vyc29yPTApLHRoaXMubnVtQ29tcG9uZW50cz1hLHRoaXMubnVtRWxlbWVudHM9Yix0aGlzLnR5cGU9Y307cmV0dXJuIGIucHJvdG90eXBlLnN0cmlkZT1mdW5jdGlvbigpe3JldHVybiAwfSxiLnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sYi5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbihhKXtmb3IodmFyIGI9YSp0aGlzLm51bUNvbXBvbmVudHMsYz1bXSxkPTA7ZDx0aGlzLm51bUNvbXBvbmVudHM7KytkKWMucHVzaCh0aGlzLmJ1ZmZlcltiK2RdKTtyZXR1cm4gY30sYi5wcm90b3R5cGUuc2V0RWxlbWVudD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hKnRoaXMubnVtQ29tcG9uZW50cyxkPTA7ZDx0aGlzLm51bUNvbXBvbmVudHM7KytkKXRoaXMuYnVmZmVyW2MrZF09YltkXX0sYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgYih0aGlzLm51bUNvbXBvbmVudHMsdGhpcy5udW1FbGVtZW50cyx0aGlzLnR5cGUpO3JldHVybiBhLnB1c2hBcnJheSh0aGlzKSxhfSxiLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEpe3RoaXMuc2V0RWxlbWVudCh0aGlzLmN1cnNvcisrLGEpfSxiLnByb3RvdHlwZS5wdXNoQXJyYXk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLm51bUVsZW1lbnRzOysrYil0aGlzLnB1c2goYS5nZXRFbGVtZW50KGIpKX0sYi5wcm90b3R5cGUucHVzaEFycmF5V2l0aE9mZnNldD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTA7ZDxhLm51bUVsZW1lbnRzOysrZCl7Yz1hLmdldEVsZW1lbnQoZCk7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDsrK2UpY1tlXSs9YltlXTt0aGlzLnB1c2goYyl9fSxiLnByb3RvdHlwZS5jb21wdXRlRXh0ZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgYT1NYXRoLm1heCxiPU1hdGgubWluLGMsZD10aGlzLm51bUVsZW1lbnRzLGU9dGhpcy5udW1Db21wb25lbnRzLGY9dGhpcy5nZXRFbGVtZW50KDApLGc9dGhpcy5nZXRFbGVtZW50KDApLGg9MTtoPGQ7KytoKXtjPXRoaXMuZ2V0RWxlbWVudChoKTtmb3IodmFyIGk9MDtpPGU7KytpKWZbaV09YihmW2ldLGNbaV0pLGdbaV09YShnW2ldLGNbaV0pfXJldHVybnttaW46ZixtYXg6Z319LGEuY3JlYXRlQ3ViZT1uZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtbMyw3LDUsMV0sWzAsNCw2LDJdLFs2LDcsMywyXSxbMCwxLDUsNF0sWzUsNyw2LDRdLFsyLDMsMSwwXV0sZT1hLzIsZz1bWy1lLC1lLC1lXSxbK2UsLWUsLWVdLFstZSwrZSwtZV0sWytlLCtlLC1lXSxbLWUsLWUsK2VdLFsrZSwtZSwrZV0sWy1lLCtlLCtlXSxbK2UsK2UsK2VdXSxoPVtbMSwwLDBdLFstMSwwLDBdLFswLDEsMF0sWzAsLTEsMF0sWzAsMCwxXSxbMCwwLC0xXV0saT1bWzAsMF0sWzEsMF0sWzEsMV0sWzAsMV1dLGo9MjQsaz1uZXcgYigzLGopLGw9bmV3IGIoMyxqKSxtPW5ldyBiKDIsaiksbj1uZXcgYigzLDEyLCJVaW50MTZBcnJheSIpLG89MDs2Pm87KytvKXtjPWRbb107Zm9yKHZhciBwPTA7ND5wOysrcCl7dmFyIHE9Z1tjW3BdXSxyPWhbb10scz1pW3BdO2sucHVzaChxKSxsLnB1c2gociksbS5wdXNoKHMpfXZhciB0PTQqbztuLnB1c2goW3QrMCx0KzEsdCsyXSksbi5wdXNoKFt0KzAsdCsyLHQrM10pfXJldHVybntwb3NpdGlvbjprLG5vcm1hbDpsLHRleENvb3JkOm0saW5kaWNlczpufX0pLGF9OycsCiAgICAic3JjL2xpYi93aGljaGRiLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoIndoaWNoZGIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3dzZ2lyZWYvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigid3NnaXJlZiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIveGRybGliLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInhkcmxpYiBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIveG1sL19faW5pdF9fLnB5IjoKICAgICAgJ3JhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoInhtbCBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIveG1sL2RvbS9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJkb20gaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3htbC9ldHJlZS9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJldHJlZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIveG1sL3BhcnNlcnMvX19pbml0X18ucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigicGFyc2VycyBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogICAgInNyYy9saWIveG1sL3NheC9fX2luaXRfXy5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJzYXggaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3htbGxpYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ4bWxsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3htbHJwY2xpYi5weSI6CiAgICAgICdyYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJ4bWxycGNsaWIgaXMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBTa3VscHQiKVxuJywKICAgICJzcmMvbGliL3ppcGZpbGUucHkiOgogICAgICAncmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiemlwZmlsZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIGluIFNrdWxwdCIpXG4nLAogIH0sCn0K\");"],"sourceRoot":""}